"use strict";(self.webpackChunkpm_web=self.webpackChunkpm_web||[]).push([[179],{3692:(_t,Re,L)=>{L.d(Re,{Ot:()=>ae,ZF:()=>nt,hX:()=>qe,z6:()=>Z});var C=L(259),j=L(1571),K=L(2122);class ae{constructor(ke){return ke}}class Z{constructor(){return(0,C.C6)()}}const ee=new j.OlP("angularfire2._apps"),ve={provide:ae,useFactory:function pe(Ie){return Ie&&1===Ie.length?Ie[0]:new ae((0,C.Mq)())},deps:[[new j.FiY,ee]]},H={provide:Z,deps:[[new j.FiY,ee]]};function te(Ie){return(ke,Ke)=>{const Xe=ke.runOutsideAngular(()=>Ie(Ke));return new ae(Xe)}}let de=(()=>{class Ie{constructor(Ke){(0,C.KN)("angularfire",K.q4.full,"core"),(0,C.KN)("angularfire",K.q4.full,"app"),(0,C.KN)("angular",j.q4F.full,Ke.toString())}}return Ie.\u0275fac=function(Ke){return new(Ke||Ie)(j.LFG(j.Lbi))},Ie.\u0275mod=j.oAB({type:Ie}),Ie.\u0275inj=j.cJS({providers:[ve,H]}),Ie})();function qe(Ie,...ke){return{ngModule:de,providers:[{provide:ee,useFactory:te(Ie),multi:!0,deps:[j.R0b,j.zs3,K.HU,...ke]}]}}const nt=(0,K.u3)(C.ZF,!0)},2783:(_t,Re,L)=>{L.d(Re,{gg:()=>Bl,ET:()=>Df,hJ:()=>jl,BS:()=>Bd,JU:()=>jd,_1:()=>wf,ad:()=>eg,Cm:()=>Vd});var C=L(2122),j=L(1571),K=L(3692),ae=L(259),Z=L(5861),ce=L(2090),pe=L(9681),ee=L(1877),ve=L(655),H=L(4859);const ze=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pn=new ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new ee.Yd("@firebase/auth");function Ke(g,...l){ke.logLevel<=ee.in.ERROR&&ke.error(`Auth (${pe.Jn}): ${g}`,...l)}function Xe(g,...l){throw fe(g,...l)}function Mt(g,...l){return fe(g,...l)}function Ne(g,l,f){const E=Object.assign(Object.assign({},ze()),{[l]:f});return new ce.LL("auth","Firebase",E).create(l,{appName:g.name})}function fe(g,...l){if("string"!=typeof g){const f=l[0],E=[...l.slice(1)];return E[0]&&(E[0].appName=g.name),g._errorFactory.create(f,...E)}return pn.create(g,...l)}function Y(g,l,...f){if(!g)throw fe(l,...f)}function we(g){const l="INTERNAL ASSERTION FAILED: "+g;throw Ke(l),new Error(l)}function ge(g,l){g||we(l)}const Ze=new Map;function Oe(g){ge(g instanceof Function,"Expected a class definition");let l=Ze.get(g);return l?(ge(l instanceof g,"Instance stored in cache mismatched with class"),l):(l=new g,Ze.set(g,l),l)}function An(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Bt{constructor(l,f){this.shortDelay=l,this.longDelay=f,ge(f>l,"Short delay should be less than long delay!"),this.isMobile=(0,ce.uI)()||(0,ce.b$)()}get(){return function yn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ut(){return"http:"===An()||"https:"===An()}()||(0,ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Nn{static initialize(l,f,E){this.fetchImpl=l,f&&(this.headersImpl=f),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void we("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void we("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void we("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kn=new Bt(3e4,6e4);function cn(g,l,f,E){return ei.apply(this,arguments)}function ei(){return(ei=(0,Z.Z)(function*(g,l,f,E,k={}){return zr(g,k,(0,Z.Z)(function*(){let $={},le={};E&&("GET"===l?le=E:$={body:JSON.stringify(E)});const Ve=(0,ce.xO)(Object.assign({key:g.config.apiKey},le)).slice(1),ot=yield g._getAdditionalHeaders();return ot["Content-Type"]="application/json",g.languageCode&&(ot["X-Firebase-Locale"]=g.languageCode),Nn.fetch()(_i(g,g.config.apiHost,f,Ve),Object.assign({method:l,headers:ot,referrerPolicy:"no-referrer"},$))}))})).apply(this,arguments)}function zr(g,l,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,Z.Z)(function*(g,l,f){g._canInitEmulator=!1;const E=Object.assign(Object.assign({},fi),l);try{const k=new _n(g),$=yield Promise.race([f(),k.promise]);k.clearNetworkTimeout();const le=yield $.json();if("needConfirmation"in le)throw qn(g,"account-exists-with-different-credential",le);if($.ok&&!("errorMessage"in le))return le;{const Ve=$.ok?le.errorMessage:le.error.message,[ot,Nt]=Ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw qn(g,"credential-already-in-use",le);if("EMAIL_EXISTS"===ot)throw qn(g,"email-already-in-use",le);if("USER_DISABLED"===ot)throw qn(g,"user-disabled",le);const sn=E[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw Ne(g,sn,Nt);Xe(g,sn)}}catch(k){if(k instanceof ce.ZR)throw k;Xe(g,"network-request-failed")}})).apply(this,arguments)}function _i(g,l,f,E){const k=`${l}${f}?${E}`;return g.config.emulator?function cr(g,l){ge(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return l?`${f}${l.startsWith("/")?l.slice(1):l}`:f}(g.config,k):`${g.config.apiScheme}://${k}`}class _n{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((f,E)=>{this.timer=setTimeout(()=>E(Mt(this.auth,"network-request-failed")),Kn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(g,l,f){const E={appName:g.name};f.email&&(E.email=f.email),f.phoneNumber&&(E.phoneNumber=f.phoneNumber);const k=Mt(g,l,E);return k.customData._tokenResponse=f,k}function kn(){return(kn=(0,Z.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Tr(g,l){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,Z.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function ln(g){if(g)try{const l=new Date(Number(g));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Gn(){return(Gn=(0,Z.Z)(function*(g,l=!1){const f=(0,ce.m9)(g),E=yield f.getIdToken(l),k=Cn(E);Y(k&&k.exp&&k.auth_time&&k.iat,f.auth,"internal-error");const $="object"==typeof k.firebase?k.firebase:void 0,le=$?.sign_in_provider;return{claims:k,token:E,authTime:ln(Ur(k.auth_time)),issuedAtTime:ln(Ur(k.iat)),expirationTime:ln(Ur(k.exp)),signInProvider:le||null,signInSecondFactor:$?.sign_in_second_factor||null}})).apply(this,arguments)}function Ur(g){return 1e3*Number(g)}function Cn(g){const[l,f,E]=g.split(".");if(void 0===l||void 0===f||void 0===E)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,ce.tV)(f);return k?JSON.parse(k):(Ke("Failed to decode base64 JWT payload"),null)}catch(k){return Ke("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Te(g,l){return ct.apply(this,arguments)}function ct(){return(ct=(0,Z.Z)(function*(g,l,f=!1){if(f)return l;try{return yield l}catch(E){throw E instanceof ce.ZR&&Ae(E)&&g.auth.currentUser===g&&(yield g.auth.signOut()),E}})).apply(this,arguments)}function Ae({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Ct{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var f;if(l){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const k=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(l=!1){var f=this;if(!this.isRunning)return;const E=this.getInterval(l);this.timerId=setTimeout((0,Z.Z)(function*(){yield f.iteration()}),E)}iteration(){var l=this;return(0,Z.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&l.schedule(!0))}l.schedule()})()}}class et{constructor(l,f){this.createdAt=l,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=ln(this.lastLoginAt),this.creationTime=ln(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(g){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,Z.Z)(function*(g){var l;const f=g.auth,E=yield g.getIdToken(),k=yield Te(g,Tr(f,{idToken:E}));Y(k?.users.length,f,"internal-error");const $=k.users[0];g._notifyReloadListener($);const le=null!==(l=$.providerUserInfo)&&void 0!==l&&l.length?mt($.providerUserInfo):[],Ve=st(g.providerData,le),sn=!!g.isAnonymous&&!(g.email&&$.passwordHash||Ve?.length),Dn={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:Ve,metadata:new et($.createdAt,$.lastLoginAt),isAnonymous:sn};Object.assign(g,Dn)})).apply(this,arguments)}function Fe(){return(Fe=(0,Z.Z)(function*(g){const l=(0,ce.m9)(g);yield dn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function st(g,l){return[...g.filter(E=>!l.some(k=>k.providerId===E.providerId)),...l]}function mt(g){return g.map(l=>{var{providerId:f}=l,E=(0,ve._T)(l,["providerId"]);return{providerId:f,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function an(){return(an=(0,Z.Z)(function*(g,l){const f=yield zr(g,{},(0,Z.Z)(function*(){const E=(0,ce.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:k,apiKey:$}=g.config,le=_i(g,k,"/v1/token",`key=${$}`),Ve=yield g._getAdditionalHeaders();return Ve["Content-Type"]="application/x-www-form-urlencoded",Nn.fetch()(le,{method:"POST",headers:Ve,body:E})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){Y(l.idToken,"internal-error"),Y(typeof l.idToken<"u","internal-error"),Y(typeof l.refreshToken<"u","internal-error");const f="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function pr(g){const l=Cn(g);return Y(l,"internal-error"),Y(typeof l.exp<"u","internal-error"),Y(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,f)}getToken(l,f=!1){var E=this;return(0,Z.Z)(function*(){return Y(!E.accessToken||E.refreshToken,l,"user-token-expired"),f||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(l,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,f){var E=this;return(0,Z.Z)(function*(){const{accessToken:k,refreshToken:$,expiresIn:le}=yield function Yt(g,l){return an.apply(this,arguments)}(l,f);E.updateTokensAndExpiration(k,$,Number(le))})()}updateTokensAndExpiration(l,f,E){this.refreshToken=f||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(l,f){const{refreshToken:E,accessToken:k,expirationTime:$}=f,le=new re;return E&&(Y("string"==typeof E,"internal-error",{appName:l}),le.refreshToken=E),k&&(Y("string"==typeof k,"internal-error",{appName:l}),le.accessToken=k),$&&(Y("number"==typeof $,"internal-error",{appName:l}),le.expirationTime=$),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return we("not implemented")}}function J(g,l){Y("string"==typeof g||typeof g>"u","internal-error",{appName:l})}class ue{constructor(l){var{uid:f,auth:E,stsTokenManager:k}=l,$=(0,ve._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ct(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=E,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.providerData=$.providerData?[...$.providerData]:[],this.metadata=new et($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(l){var f=this;return(0,Z.Z)(function*(){const E=yield Te(f,f.stsTokenManager.getToken(f.auth,l));return Y(E,f.auth,"internal-error"),f.accessToken!==E&&(f.accessToken=E,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),E})()}getIdTokenResult(l){return function Pt(g){return Gn.apply(this,arguments)}(this,l)}reload(){return function dt(g){return Fe.apply(this,arguments)}(this)}_assign(l){this!==l&&(Y(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(f=>Object.assign({},f)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new ue(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,f=!1){var E=this;return(0,Z.Z)(function*(){let k=!1;l.idToken&&l.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(l),k=!0),f&&(yield dn(E)),yield E.auth._persistUserIfCurrent(E),k&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var l=this;return(0,Z.Z)(function*(){const f=yield l.getIdToken();return yield Te(l,function zi(g,l){return kn.apply(this,arguments)}(l.auth,{idToken:f})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,f){var E,k,$,le,Ve,ot,Nt,sn;const Dn=null!==(E=f.displayName)&&void 0!==E?E:void 0,Uo=null!==(k=f.email)&&void 0!==k?k:void 0,Ps=null!==($=f.phoneNumber)&&void 0!==$?$:void 0,Fa=null!==(le=f.photoURL)&&void 0!==le?le:void 0,vo=null!==(Ve=f.tenantId)&&void 0!==Ve?Ve:void 0,ql=null!==(ot=f._redirectEventId)&&void 0!==ot?ot:void 0,qd=null!==(Nt=f.createdAt)&&void 0!==Nt?Nt:void 0,Xc=null!==(sn=f.lastLoginAt)&&void 0!==sn?sn:void 0,{uid:Vo,emailVerified:uc,isAnonymous:Zd,providerData:xu,stsTokenManager:ag}=f;Y(Vo&&ag,l,"internal-error");const Zl=re.fromJSON(this.name,ag);Y("string"==typeof Vo,l,"internal-error"),J(Dn,l.name),J(Uo,l.name),Y("boolean"==typeof uc,l,"internal-error"),Y("boolean"==typeof Zd,l,"internal-error"),J(Ps,l.name),J(Fa,l.name),J(vo,l.name),J(ql,l.name),J(qd,l.name),J(Xc,l.name);const Mf=new ue({uid:Vo,auth:l,email:Uo,emailVerified:uc,displayName:Dn,isAnonymous:Zd,photoURL:Fa,phoneNumber:Ps,tenantId:vo,stsTokenManager:Zl,createdAt:qd,lastLoginAt:Xc});return xu&&Array.isArray(xu)&&(Mf.providerData=xu.map(cc=>Object.assign({},cc))),ql&&(Mf._redirectEventId=ql),Mf}static _fromIdTokenResponse(l,f,E=!1){return(0,Z.Z)(function*(){const k=new re;k.updateFromServerResponse(f);const $=new ue({uid:f.localId,auth:l,stsTokenManager:k,isAnonymous:E});return yield dn($),$})()}}const Ce=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Z.Z)(function*(){return!0})()}_set(f,E){var k=this;return(0,Z.Z)(function*(){k.storage[f]=E})()}_get(f){var E=this;return(0,Z.Z)(function*(){const k=E.storage[f];return void 0===k?null:k})()}_remove(f){var E=this;return(0,Z.Z)(function*(){delete E.storage[f]})()}_addListener(f,E){}_removeListener(f,E){}}return g.type="NONE",g})();function Et(g,l,f){return`firebase:${g}:${l}:${f}`}class Gt{constructor(l,f,E){this.persistence=l,this.auth=f,this.userKey=E;const{config:k,name:$}=this.auth;this.fullUserKey=Et(this.userKey,k.apiKey,$),this.fullPersistenceKey=Et("persistence",k.apiKey,$),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,Z.Z)(function*(){const f=yield l.persistence._get(l.fullUserKey);return f?ue._fromJSON(l.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var f=this;return(0,Z.Z)(function*(){if(f.persistence===l)return;const E=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=l,E?f.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,f,E="authUser"){return(0,Z.Z)(function*(){if(!f.length)return new Gt(Oe(Ce),l,E);const k=(yield Promise.all(f.map(function(){var Nt=(0,Z.Z)(function*(sn){if(yield sn._isAvailable())return sn});return function(sn){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let $=k[0]||Oe(Ce);const le=Et(E,l.config.apiKey,l.name);let Ve=null;for(const Nt of f)try{const sn=yield Nt._get(le);if(sn){const Dn=ue._fromJSON(l,sn);Nt!==$&&(Ve=Dn),$=Nt;break}}catch{}const ot=k.filter(Nt=>Nt._shouldAllowMigration);return $._shouldAllowMigration&&ot.length?($=ot[0],Ve&&(yield $._set(le,Ve.toJSON())),yield Promise.all(f.map(function(){var Nt=(0,Z.Z)(function*(sn){if(sn!==$)try{yield sn._remove(le)}catch{}});return function(sn){return Nt.apply(this,arguments)}}())),new Gt($,l,E)):new Gt($,l,E)})()}}function Ln(g){const l=g.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(function ne(g=(0,ce.z$)()){return/iemobile/i.test(g)}(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(function qt(g=(0,ce.z$)()){return/firefox\//i.test(g)}(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(function _e(g=(0,ce.z$)()){return/blackberry/i.test(g)}(l))return"Blackberry";if(function he(g=(0,ce.z$)()){return/webos/i.test(g)}(l))return"Webos";if(function hn(g=(0,ce.z$)()){const l=g.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}(l))return"Safari";if((l.includes("chrome/")||function me(g=(0,ce.z$)()){return/crios\//i.test(g)}(l))&&!l.includes("edge/"))return"Chrome";if(function q(g=(0,ce.z$)()){return/android/i.test(g)}(l))return"Android";{const E=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function nr(g,l=[]){let f;switch(g){case"Browser":f=Ln((0,ce.z$)());break;case"Worker":f=`${Ln((0,ce.z$)())}-${g}`;break;default:f=g}const E=l.length?l.join(","):"FirebaseCore-web";return`${f}/JsCore/${pe.Jn}/${E}`}class _o{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,f){const E=$=>new Promise((le,Ve)=>{try{le(l($))}catch(ot){Ve(ot)}});E.onAbort=f,this.queue.push(E);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(l){var f=this;return(0,Z.Z)(function*(){if(f.auth.currentUser===l)return;const E=[];try{for(const k of f.queue)yield k(l),k.onAbort&&E.push(k.onAbort)}catch(k){E.reverse();for(const $ of E)try{$()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class Ki{constructor(l,f,E){this.app=l,this.heartbeatServiceProvider=f,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ei(this),this.idTokenSubscription=new Ei(this),this.beforeStateQueue=new _o(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(l,f){var E=this;return f&&(this._popupRedirectResolver=Oe(f)),this._initializationPromise=this.queue((0,Z.Z)(function*(){var k,$;if(!E._deleted&&(E.persistenceManager=yield Gt.create(E,l),!E._deleted)){if(null!==(k=E._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(f),E.lastNotifiedUid=(null===($=E.currentUser)||void 0===$?void 0:$.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,Z.Z)(function*(){if(l._deleted)return;const f=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||f){if(l.currentUser&&f&&l.currentUser.uid===f.uid)return l._currentUser._assign(f),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(f,!0)}})()}initializeCurrentUser(l){var f=this;return(0,Z.Z)(function*(){var E;const k=yield f.assertedPersistence.getCurrentUser();let $=k,le=!1;if(l&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Ve=null===(E=f.redirectUser)||void 0===E?void 0:E._redirectEventId,ot=$?._redirectEventId,Nt=yield f.tryRedirectSignIn(l);(!Ve||Ve===ot)&&Nt?.user&&($=Nt.user,le=!0)}if(!$)return f.directlySetCurrentUser(null);if(!$._redirectEventId){if(le)try{yield f.beforeStateQueue.runMiddleware($)}catch(Ve){$=k,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Ve))}return $?f.reloadAndSetCurrentUserOrClear($):f.directlySetCurrentUser(null)}return Y(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===$._redirectEventId?f.directlySetCurrentUser($):f.reloadAndSetCurrentUserOrClear($)})()}tryRedirectSignIn(l){var f=this;return(0,Z.Z)(function*(){let E=null;try{E=yield f._popupRedirectResolver._completeRedirectFn(f,l,!0)}catch{yield f._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(l){var f=this;return(0,Z.Z)(function*(){try{yield dn(l)}catch(E){if("auth/network-request-failed"!==E?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Kt(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var l=this;return(0,Z.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var f=this;return(0,Z.Z)(function*(){const E=l?(0,ce.m9)(l):null;return E&&Y(E.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(E&&E._clone(f))})()}_updateCurrentUser(l,f=!1){var E=this;return(0,Z.Z)(function*(){if(!E._deleted)return l&&Y(E.tenantId===l.tenantId,E,"tenant-id-mismatch"),f||(yield E.beforeStateQueue.runMiddleware(l)),E.queue((0,Z.Z)(function*(){yield E.directlySetCurrentUser(l),E.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,Z.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var f=this;return this.queue((0,Z.Z)(function*(){yield f.assertedPersistence.setPersistence(Oe(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new ce.LL("auth","Firebase",l())}onAuthStateChanged(l,f,E){return this.registerStateListener(this.authStateSubscription,l,f,E)}beforeAuthStateChanged(l,f){return this.beforeStateQueue.pushCallback(l,f)}onIdTokenChanged(l,f,E){return this.registerStateListener(this.idTokenSubscription,l,f,E)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,f){var E=this;return(0,Z.Z)(function*(){const k=yield E.getOrInitRedirectPersistenceManager(f);return null===l?k.removeCurrentUser():k.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var f=this;return(0,Z.Z)(function*(){if(!f.redirectPersistenceManager){const E=l&&Oe(l)||f._popupRedirectResolver;Y(E,f,"argument-error"),f.redirectPersistenceManager=yield Gt.create(f,[Oe(E._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(l){var f=this;return(0,Z.Z)(function*(){var E,k;return f._isInitialized&&(yield f.queue((0,Z.Z)(function*(){}))),(null===(E=f._currentUser)||void 0===E?void 0:E._redirectEventId)===l?f._currentUser:(null===(k=f.redirectUser)||void 0===k?void 0:k._redirectEventId)===l?f.redirectUser:null})()}_persistUserIfCurrent(l){var f=this;return(0,Z.Z)(function*(){if(l===f.currentUser)return f.queue((0,Z.Z)(function*(){return f.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(f=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,f,E,k){if(this._deleted)return()=>{};const $="function"==typeof f?f:f.next.bind(f),le=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(le,this,"internal-error"),le.then(()=>$(this.currentUser)),"function"==typeof f?l.addObserver(f,E,k):l.addObserver(f)}directlySetCurrentUser(l){var f=this;return(0,Z.Z)(function*(){f.currentUser&&f.currentUser!==l&&f._currentUser._stopProactiveRefresh(),l&&f.isProactiveRefreshEnabled&&l._startProactiveRefresh(),f.currentUser=l,l?yield f.assertedPersistence.setCurrentUser(l):yield f.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=nr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,Z.Z)(function*(){var f;const E={"X-Client-Version":l.clientVersion};l.app.options.appId&&(E["X-Firebase-gmpid"]=l.app.options.appId);const k=yield null===(f=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return k&&(E["X-Firebase-Client"]=k),E})()}}class Ei{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,ce.ne)(f=>this.observer=f)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function gs(g){return`__${g}${Math.floor(1e6*Math.random())}`})("rcb"),new Bt(3e4,6e4),new Bt(2e3,1e4),new Bt(3e4,6e4),new Bt(5e3,15e3);var xa="@firebase/auth";class Fu{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var f=this;return(0,Z.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const f=this.auth.onIdTokenChanged(E=>{l(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,f),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const f=this.internalListeners.get(l);!f||(this.internalListeners.delete(l),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ce.Pz)("authIdTokenMaxAge"),function Gh(g){(0,pe.Xd)(new H.wA("auth",(l,{options:f})=>{const E=l.getProvider("app").getImmediate(),k=l.getProvider("heartbeat"),{apiKey:$,authDomain:le}=E.options;return((Ve,ot)=>{Y($&&!$.includes(":"),"invalid-api-key",{appName:Ve.name}),Y(!le?.includes(":"),"argument-error",{appName:Ve.name});const Nt={apiKey:$,authDomain:le,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nr(g)},sn=new Ki(Ve,ot,Nt);return function nn(g,l){const f=l?.persistence||[],E=(Array.isArray(f)?f:[f]).map(Oe);l?.errorMap&&g._updateErrorMap(l.errorMap),g._initializeWithPersistence(E,l?.popupRedirectResolver)}(sn,f),sn})(E,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,f,E)=>{l.getProvider("auth-internal").initialize()})),(0,pe.Xd)(new H.wA("auth-internal",l=>{const f=function xt(g){return(0,ce.m9)(g)}(l.getProvider("auth").getImmediate());return new Fu(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.KN)(xa,"0.21.0",function Hh(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,pe.KN)(xa,"0.21.0","esm2017")}("Browser");class ji{constructor(){return(0,C.vb)("auth")}}const zu=new Map,Ed={activated:!1,tokenObservers:[]},Sp={initialized:!1,enabled:!1};function vi(g){return zu.get(g)||Object.assign({},Ed)}function _u(){return Sp}class Hi{constructor(l,f,E,k,$){if(this.operation=l,this.retryPolicy=f,this.getWaitDuration=E,this.lowerBound=k,this.upperBound=$,this.pending=null,this.nextErrorWaitInterval=k,k>$)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(l){var f=this;return(0,Z.Z)(function*(){f.stop();try{f.pending=new ce.BH,yield function xp(g){return new Promise(l=>{setTimeout(l,g)})}(f.getNextRun(l)),f.pending.resolve(),yield f.pending.promise,f.pending=new ce.BH,yield f.operation(),f.pending.resolve(),yield f.pending.promise,f.process(!0).catch(()=>{})}catch(E){f.retryPolicy(E)?f.process(!1).catch(()=>{}):f.stop()}})()}getNextRun(l){if(l)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const f=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),f}}}const _r=new ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qu(g){if(!vi(g).activated)throw _r.create("use-before-activation",{appName:g.name})}function Tl(g,l){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,Z.Z)(function*({url:g,body:l},f){const E={"Content-Type":"application/json"},k=f.getImmediate({optional:!0});if(k){const Dn=yield k.getHeartbeatsHeader();Dn&&(E["X-Firebase-Client"]=Dn)}const $={method:"POST",body:JSON.stringify(l),headers:E};let le,Ve;try{le=yield fetch(g,$)}catch(Dn){throw _r.create("fetch-network-error",{originalErrorMessage:Dn?.message})}if(200!==le.status)throw _r.create("fetch-status-error",{httpStatus:le.status});try{Ve=yield le.json()}catch(Dn){throw _r.create("fetch-parse-error",{originalErrorMessage:Dn?.message})}const ot=Ve.ttl.match(/^([\d.]+)(s)$/);if(!ot||!ot[2]||isNaN(Number(ot[1])))throw _r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ve.ttl}`});const Nt=1e3*Number(ot[1]),sn=Date.now();return{token:Ve.token,expireTimeMillis:sn+Nt,issuedAtTimeMillis:sn}})).apply(this,arguments)}function Pp(g,l){const{projectId:f,appId:E,apiKey:k}=g.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${f}/apps/${E}:exchangeDebugToken?key=${k}`,body:{debug_token:l}}}const Pa="firebase-app-check-store";let Td=null;function kp(){return Td||(Td=new Promise((g,l)=>{try{const f=indexedDB.open("firebase-app-check-database",1);f.onsuccess=E=>{g(E.target.result)},f.onerror=E=>{var k;l(_r.create("storage-open",{originalErrorMessage:null===(k=E.target.error)||void 0===k?void 0:k.message}))},f.onupgradeneeded=E=>{0===E.oldVersion&&E.target.result.createObjectStore(Pa,{keyPath:"compositeKey"})}}catch(f){l(_r.create("storage-open",{originalErrorMessage:f?.message}))}}),Td)}function bl(){return(bl=(0,Z.Z)(function*(g,l){const E=(yield kp()).transaction(Pa,"readwrite"),$=E.objectStore(Pa).put({compositeKey:g,value:l});return new Promise((le,Ve)=>{$.onsuccess=ot=>{le()},E.onerror=ot=>{var Nt;Ve(_r.create("storage-set",{originalErrorMessage:null===(Nt=ot.target.error)||void 0===Nt?void 0:Nt.message}))}})})).apply(this,arguments)}const ur=new ee.Yd("@firebase/app-check");function Qu(g,l){return(0,ce.hl)()?function pm(g,l){return function cf(g,l){return bl.apply(this,arguments)}(function Zu(g){return`${g.options.appId}-${g.name}`}(g),l)}(g,l).catch(f=>{ur.warn(`Failed to write token to IndexedDB. Error: ${f}`)}):Promise.resolve()}function Op(){return _u().enabled}function lf(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,Z.Z)(function*(){const g=_u();if(g.enabled&&g.token)return g.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Xu={error:"UNKNOWN_ERROR"};function Ju(g){return ce.US.encodeString(JSON.stringify(g),!1)}function Oa(g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,Z.Z)(function*(g,l=!1){const f=g.app;qu(f);const E=vi(f);let $,k=E.token;if(k&&!wu(k)&&(E.token=void 0,k=void 0),!k){const ot=yield E.cachedTokenPromise;ot&&(wu(ot)?k=ot:yield Qu(f,void 0))}if(!l&&k&&wu(k))return{token:k.token};let Ve,le=!1;if(Op()){E.exchangeTokenPromise||(E.exchangeTokenPromise=Tl(Pp(f,yield lf()),g.heartbeatServiceProvider).finally(()=>{E.exchangeTokenPromise=void 0}),le=!0);const ot=yield E.exchangeTokenPromise;return yield Qu(f,ot),E.token=ot,{token:ot.token}}try{E.exchangeTokenPromise||(E.exchangeTokenPromise=E.provider.getToken().finally(()=>{E.exchangeTokenPromise=void 0}),le=!0),k=yield vi(f).exchangeTokenPromise}catch(ot){"appCheck/throttled"===ot.code?ur.warn(ot.message):ur.error(ot),$=ot}return k?$?Ve=wu(k)?{token:k.token,internalError:$}:Uc($):(Ve={token:k.token},E.token=k,yield Qu(f,k)):Ve=Uc($),le&&Fc(f,Ve),Ve})).apply(this,arguments)}function Lc(g,l){const f=vi(g),E=f.tokenObservers.filter(k=>k.next!==l);0===E.length&&f.tokenRefresher&&f.tokenRefresher.isRunning()&&f.tokenRefresher.stop(),f.tokenObservers=E}function xd(g){const{app:l}=g,f=vi(l);let E=f.tokenRefresher;E||(E=function Md(g){const{app:l}=g;return new Hi((0,Z.Z)(function*(){let E;if(E=vi(l).token?yield Oa(g,!0):yield Oa(g),E.error)throw E.error;if(E.internalError)throw E.internalError}),()=>!0,()=>{const f=vi(l);if(f.token){let E=f.token.issuedAtTimeMillis+.5*(f.token.expireTimeMillis-f.token.issuedAtTimeMillis)+3e5;return E=Math.min(E,f.token.expireTimeMillis-3e5),Math.max(0,E-Date.now())}return 0},3e4,96e4)}(g),f.tokenRefresher=E),!E.isRunning()&&f.isTokenAutoRefreshEnabled&&E.start()}function Fc(g,l){const f=vi(g).tokenObservers;for(const E of f)try{"EXTERNAL"===E.type&&null!=l.error?E.error(l.error):E.next(l)}catch{}}function wu(g){return g.expireTimeMillis-Date.now()>0}function Uc(g){return{token:Ju(Xu),error:g}}class Sl{constructor(l,f){this.app=l,this.heartbeatServiceProvider=f}_delete(){const{tokenObservers:l}=vi(this.app);for(const f of l)Lc(this.app,f.next);return Promise.resolve()}}const Gc="app-check-internal";!function Tu(){(0,pe.Xd)(new H.wA("app-check",g=>function Or(g,l){return new Sl(g,l)}(g.getProvider("app").getImmediate(),g.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,l,f)=>{g.getProvider(Gc).initialize()})),(0,pe.Xd)(new H.wA(Gc,g=>function Du(g){return{getToken:l=>Oa(g,l),addTokenListener:l=>function Oc(g,l,f,E){const{app:k}=g,$=vi(k);if($.tokenObservers=[...$.tokenObservers,{next:f,error:E,type:l}],$.token&&wu($.token)){const Ve=$.token;Promise.resolve().then(()=>{f({token:Ve.token}),xd(g)}).catch(()=>{})}$.cachedTokenPromise.then(()=>xd(g))}(g,"INTERNAL",l),removeTokenListener:l=>Lc(g.app,l)}}(g.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pe.KN)("@firebase/app-check","0.6.0")}();class Gi{constructor(){return(0,C.vb)("app-check")}}typeof window<"u"&&window;var Wc=L(5525),mf=L(9751),zc=L(4004),$p={includeMetadataChanges:!1};function Su(g,l){return void 0===l&&(l=$p),new mf.y(function(f){return{unsubscribe:(0,Wc.cf)(g,l,{next:f.next.bind(f),error:f.error.bind(f),complete:f.complete.bind(f)})}})}function ic(g,l){return void 0===l&&(l={}),function yf(g){return Su(g,{includeMetadataChanges:!0})}(g).pipe((0,zc.U)(function(f){return Au(f,l)}))}function Au(g,l){void 0===l&&(l={});var f=g.data();return!g.exists()||"object"!=typeof f||null===f||l.idField&&(f[l.idField]=g.id),f}function qc(g,l){return void 0===l&&(l={}),function li(g){return Su(g,{includeMetadataChanges:!0}).pipe((0,zc.U)(function(l){return l.docs}))}(g).pipe((0,zc.U)(function(f){return f.map(function(E){return Au(E,l)})}))}class Bl{constructor(l){return l}}const Od="firestore",Fd=new j.OlP("angularfire2.firestore-instances");function Ud(g){return(l,f)=>{const E=l.runOutsideAngular(()=>g(f));return new Bl(E)}}const Xa={provide:class Hp{constructor(){return(0,C.vb)(Od)}},deps:[[new j.FiY,Fd]]},zs={provide:Bl,useFactory:function If(g,l){const f=(0,C.JM)(Od,g,l);return f&&new Bl(f)},deps:[[new j.FiY,Fd],K.Ot]};let $l=(()=>{class g{constructor(){(0,ae.KN)("angularfire",C.q4.full,"fst")}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275mod=j.oAB({type:g}),g.\u0275inj=j.cJS({providers:[zs,Xa]}),g})();function Vd(g,...l){return{ngModule:$l,providers:[{provide:Fd,useFactory:Ud(g),multi:!0,deps:[j.R0b,j.zs3,C.HU,K.z6,[new j.FiY,ji],[new j.FiY,Gi],...l]}]}}const Bd=(0,C.u3)(qc,!0),wf=(0,C.u3)(ic,!0),Df=(0,C.u3)(Wc.ET,!0),jl=(0,C.u3)(Wc.hJ,!0),jd=(0,C.u3)(Wc.JU,!0),eg=(0,C.u3)(Wc.ad,!0)},2122:(_t,Re,L)=>{L.d(Re,{q4:()=>D,HU:()=>Ca,vb:()=>Po,JM:()=>ms,u3:()=>ta});var C=L(1571),j=L(259),K=L(5861),ae=L(9681),Z=L(2090),ce=L(4859),pe=L(1877),ee=L(8766);const ve="@firebase/installations",H="0.6.0",de=`w:${H}`,qe="FIS_v2",ze=new Z.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pn(A){return A instanceof Z.ZR&&A.code.includes("request-failed")}function Ie({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function ke(A){return{token:A.token,requestStatus:2,expiresIn:Y(A.expiresIn),creationTime:Date.now()}}function Ke(A,M){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,K.Z)(function*(A,M){const Q=(yield M.json()).error;return ze.create("request-failed",{requestName:A,serverCode:Q.code,serverMessage:Q.message,serverStatus:Q.status})})).apply(this,arguments)}function Mt({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Ne(A,{refreshToken:M}){const U=Mt(A);return U.append("Authorization",function we(A){return`${qe} ${A}`}(M)),U}function Le(A){return fe.apply(this,arguments)}function fe(){return(fe=(0,K.Z)(function*(A){const M=yield A();return M.status>=500&&M.status<600?A():M})).apply(this,arguments)}function Y(A){return Number(A.replace("s","000"))}function ge(A,M){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,K.Z)(function*({appConfig:A,heartbeatServiceProvider:M},{fid:U}){const Q=Ie(A),ye=Mt(A),be=M.getImmediate({optional:!0});if(be){const Wt=yield be.getHeartbeatsHeader();Wt&&ye.append("x-firebase-client",Wt)}const St={method:"POST",headers:ye,body:JSON.stringify({fid:U,authVersion:qe,appId:A.appId,sdkVersion:de})},Vt=yield Le(()=>fetch(Q,St));if(Vt.ok){const Wt=yield Vt.json();return{fid:Wt.fid||U,registrationStatus:2,refreshToken:Wt.refreshToken,authToken:ke(Wt.authToken)}}throw yield Ke("Create Installation",Vt)})).apply(this,arguments)}function Oe(A){return new Promise(M=>{setTimeout(M,A)})}const nn=/^[cdef][\w-]{21}$/;function Ut(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const U=function An(A){return function At(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return nn.test(U)?U:""}catch{return""}}function yn(A){return`${A.appName}!${A.appId}`}const Kt=new Map;function Bt(A,M){const U=yn(A);fi(U,M),function Kn(A,M){const U=function cn(){return!yt&&"BroadcastChannel"in self&&(yt=new BroadcastChannel("[Firebase] FID Change"),yt.onmessage=A=>{fi(A.data.key,A.data.fid)}),yt}();U&&U.postMessage({key:A,fid:M}),function ei(){0===Kt.size&&yt&&(yt.close(),yt=null)}()}(U,M)}function fi(A,M){const U=Kt.get(A);if(U)for(const Q of U)Q(M)}let yt=null;const lr="firebase-installations-store";let jn=null;function _i(){return jn||(jn=(0,ee.X3)("firebase-installations-database",1,{upgrade:(A,M)=>{0===M&&A.createObjectStore(lr)}})),jn}function _n(A,M){return qn.apply(this,arguments)}function qn(){return(qn=(0,K.Z)(function*(A,M){const U=yn(A),ye=(yield _i()).transaction(lr,"readwrite"),be=ye.objectStore(lr),tt=yield be.get(U);return yield be.put(M,U),yield ye.done,(!tt||tt.fid!==M.fid)&&Bt(A,M.fid),M})).apply(this,arguments)}function zi(A){return kn.apply(this,arguments)}function kn(){return(kn=(0,K.Z)(function*(A){const M=yn(A),Q=(yield _i()).transaction(lr,"readwrite");yield Q.objectStore(lr).delete(M),yield Q.done})).apply(this,arguments)}function It(A,M){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,K.Z)(function*(A,M){const U=yn(A),ye=(yield _i()).transaction(lr,"readwrite"),be=ye.objectStore(lr),tt=yield be.get(U),St=M(tt);return void 0===St?yield be.delete(U):yield be.put(St,U),yield ye.done,St&&(!tt||tt.fid!==St.fid)&&Bt(A,St.fid),St})).apply(this,arguments)}function Tr(A){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,K.Z)(function*(A){let M;const U=yield It(A.appConfig,Q=>{const ye=ln(Q),be=Rt(A,ye);return M=be.registrationPromise,be.installationEntry});return""===U.fid?{installationEntry:yield M}:{installationEntry:U,registrationPromise:M}})).apply(this,arguments)}function ln(A){return Te(A||{fid:Ut(),registrationStatus:0})}function Rt(A,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(ze.create("app-offline"))};const U={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},Q=function Pt(A,M){return Gn.apply(this,arguments)}(A,U);return{installationEntry:U,registrationPromise:Q}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:Ur(A)}:{installationEntry:M}}function Gn(){return(Gn=(0,K.Z)(function*(A,M){try{const U=yield ge(A,M);return _n(A.appConfig,U)}catch(U){throw pn(U)&&409===U.customData.serverCode?yield zi(A.appConfig):yield _n(A.appConfig,{fid:M.fid,registrationStatus:0}),U}})).apply(this,arguments)}function Ur(A){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,K.Z)(function*(A){let M=yield pr(A.appConfig);for(;1===M.registrationStatus;)yield Oe(100),M=yield pr(A.appConfig);if(0===M.registrationStatus){const{installationEntry:U,registrationPromise:Q}=yield Tr(A);return Q||U}return M})).apply(this,arguments)}function pr(A){return It(A,M=>{if(!M)throw ze.create("installation-not-found");return Te(M)})}function Te(A){return function ct(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Ae(A,M){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,K.Z)(function*({appConfig:A,heartbeatServiceProvider:M},U){const Q=et(A,U),ye=Ne(A,U),be=M.getImmediate({optional:!0});if(be){const Wt=yield be.getHeartbeatsHeader();Wt&&ye.append("x-firebase-client",Wt)}const St={method:"POST",headers:ye,body:JSON.stringify({installation:{sdkVersion:de,appId:A.appId}})},Vt=yield Le(()=>fetch(Q,St));if(Vt.ok)return ke(yield Vt.json());throw yield Ke("Generate Auth Token",Vt)})).apply(this,arguments)}function et(A,{fid:M}){return`${Ie(A)}/${M}/authTokens:generate`}function dn(A){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,K.Z)(function*(A,M=!1){let U;const Q=yield It(A.appConfig,be=>{if(!an(be))throw ze.create("not-registered");const tt=be.authToken;if(!M&&re(tt))return be;if(1===tt.requestStatus)return U=dt(A,M),be;{if(!navigator.onLine)throw ze.create("app-offline");const St=ue(be);return U=mt(A,St),St}});return U?yield U:Q.authToken})).apply(this,arguments)}function dt(A,M){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,K.Z)(function*(A,M){let U=yield st(A.appConfig);for(;1===U.authToken.requestStatus;)yield Oe(100),U=yield st(A.appConfig);const Q=U.authToken;return 0===Q.requestStatus?dn(A,M):Q})).apply(this,arguments)}function st(A){return It(A,M=>{if(!an(M))throw ze.create("not-registered");return function Ue(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function mt(A,M){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,K.Z)(function*(A,M){try{const U=yield Ae(A,M),Q=Object.assign(Object.assign({},M),{authToken:U});return yield _n(A.appConfig,Q),U}catch(U){if(!pn(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const Q=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield _n(A.appConfig,Q)}else yield zi(A.appConfig);throw U}})).apply(this,arguments)}function an(A){return void 0!==A&&2===A.registrationStatus}function re(A){return 2===A.requestStatus&&!function J(A){const M=Date.now();return M<A.creationTime||A.creationTime+A.expiresIn<M+36e5}(A)}function ue(A){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:M})}function Et(){return(Et=(0,K.Z)(function*(A){const M=A,{installationEntry:U,registrationPromise:Q}=yield Tr(M);return Q?Q.catch(console.error):dn(M).catch(console.error),U.fid})).apply(this,arguments)}function Ln(){return(Ln=(0,K.Z)(function*(A,M=!1){const U=A;return yield qt(U),(yield dn(U,M)).token})).apply(this,arguments)}function qt(A){return hn.apply(this,arguments)}function hn(){return(hn=(0,K.Z)(function*(A){const{registrationPromise:M}=yield Tr(A);M&&(yield M)})).apply(this,arguments)}function Wn(A){return ze.create("missing-app-config-values",{valueName:A})}const tr="installations",nr=A=>{const M=A.getProvider("app").getImmediate(),U=function Rn(A){if(!A||!A.options)throw Wn("App Configuration");if(!A.name)throw Wn("App Name");const M=["projectId","apiKey","appId"];for(const U of M)if(!A.options[U])throw Wn(U);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(M);return{app:M,appConfig:U,heartbeatServiceProvider:(0,ae.qX)(M,"heartbeat"),_delete:()=>Promise.resolve()}},_o=A=>{const M=A.getProvider("app").getImmediate(),U=(0,ae.qX)(M,tr).getImmediate();return{getId:()=>function Ce(A){return Et.apply(this,arguments)}(U),getToken:ye=>function Gt(A){return Ln.apply(this,arguments)}(U,ye)}};(function Ki(){(0,ae.Xd)(new ce.wA(tr,nr,"PUBLIC")),(0,ae.Xd)(new ce.wA("installations-internal",_o,"PRIVATE"))})(),(0,ae.KN)(ve,H),(0,ae.KN)(ve,H,"esm2017");const xt="@firebase/remote-config",Pn=new Z.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class is{constructor(M,U,Q,ye){this.client=M,this.storage=U,this.storageCache=Q,this.logger=ye}isCachedDataFresh(M,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Q=Date.now()-U,ye=Q<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Q}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${ye}.`),ye}fetch(M){var U=this;return(0,K.Z)(function*(){const[Q,ye]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(ye&&U.isCachedDataFresh(M.cacheMaxAgeMillis,Q))return ye;M.eTag=ye&&ye.eTag;const be=yield U.client.fetch(M),tt=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===be.status&&tt.push(U.storage.setLastSuccessfulFetchResponse(be)),yield Promise.all(tt),be})()}}function gi(A=navigator){return A.languages&&A.languages[0]||A.language}class aa{constructor(M,U,Q,ye,be,tt){this.firebaseInstallations=M,this.sdkVersion=U,this.namespace=Q,this.projectId=ye,this.apiKey=be,this.appId=tt}fetch(M){var U=this;return(0,K.Z)(function*(){const[Q,ye]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,St={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},Vt={sdk_version:U.sdkVersion,app_instance_id:Q,app_instance_id_token:ye,app_id:U.appId,language_code:gi()},Wt={method:"POST",headers:St,body:JSON.stringify(Vt)},en=fetch(tt,Wt),tn=new Promise((ai,Wr)=>{M.signal.addEventListener(()=>{const ui=new Error("The operation was aborted.");ui.name="AbortError",Wr(ui)})});let In;try{yield Promise.race([en,tn]),In=yield en}catch(ai){let Wr="fetch-client-network";throw"AbortError"===ai?.name&&(Wr="fetch-timeout"),Pn.create(Wr,{originalErrorMessage:ai?.message})}let Gr=In.status;const Mr=In.headers.get("ETag")||void 0;let On,No;if(200===In.status){let ai;try{ai=yield In.json()}catch(Wr){throw Pn.create("fetch-client-parse",{originalErrorMessage:Wr?.message})}On=ai.entries,No=ai.state}if("INSTANCE_STATE_UNSPECIFIED"===No?Gr=500:"NO_CHANGE"===No?Gr=304:("NO_TEMPLATE"===No||"EMPTY_CONFIG"===No)&&(On={}),304!==Gr&&200!==Gr)throw Pn.create("fetch-status",{httpStatus:Gr});return{status:Gr,eTag:Mr,config:On}})()}}class ua{constructor(M,U){this.client=M,this.storage=U}fetch(M){var U=this;return(0,K.Z)(function*(){const Q=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(M,Q)})()}attemptFetch(M,{throttleEndTimeMillis:U,backoffCount:Q}){var ye=this;return(0,K.Z)(function*(){yield function Oi(A,M){return new Promise((U,Q)=>{const ye=Math.max(M-Date.now(),0),be=setTimeout(U,ye);A.addEventListener(()=>{clearTimeout(be),Q(Pn.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,U);try{const be=yield ye.client.fetch(M);return yield ye.storage.deleteThrottleMetadata(),be}catch(be){if(!function jo(A){if(!(A instanceof Z.ZR&&A.customData))return!1;const M=Number(A.customData.httpStatus);return 429===M||500===M||503===M||504===M}(be))throw be;const tt={throttleEndTimeMillis:Date.now()+(0,Z.$s)(Q),backoffCount:Q+1};return yield ye.storage.setThrottleMetadata(tt),ye.attemptFetch(M,tt)}})()}}class Ho{constructor(M,U,Q,ye,be){this.app=M,this._client=U,this._storageCache=Q,this._storage=ye,this._logger=be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ti(A,M){const U=A.target.error||void 0;return Pn.create(M,{originalErrorMessage:U&&U?.message})}const bi="app_namespace_store";class ss{constructor(M,U,Q,ye=function Go(){return new Promise((A,M)=>{try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=Q=>{M(Ti(Q,"storage-open"))},U.onsuccess=Q=>{A(Q.target.result)},U.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(bi,{keyPath:"compositeKey"})}}catch(U){M(Pn.create("storage-open",{originalErrorMessage:U?.message}))}})}()){this.appId=M,this.appName=U,this.namespace=Q,this.openDbPromise=ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var U=this;return(0,K.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((ye,be)=>{const St=Q.transaction([bi],"readonly").objectStore(bi),Vt=U.createCompositeKey(M);try{const Wt=St.get(Vt);Wt.onerror=en=>{be(Ti(en,"storage-get"))},Wt.onsuccess=en=>{const tn=en.target.result;ye(tn?tn.value:void 0)}}catch(Wt){be(Pn.create("storage-get",{originalErrorMessage:Wt?.message}))}})})()}set(M,U){var Q=this;return(0,K.Z)(function*(){const ye=yield Q.openDbPromise;return new Promise((be,tt)=>{const Vt=ye.transaction([bi],"readwrite").objectStore(bi),Wt=Q.createCompositeKey(M);try{const en=Vt.put({compositeKey:Wt,value:U});en.onerror=tn=>{tt(Ti(tn,"storage-set"))},en.onsuccess=()=>{be()}}catch(en){tt(Pn.create("storage-set",{originalErrorMessage:en?.message}))}})})()}delete(M){var U=this;return(0,K.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((ye,be)=>{const St=Q.transaction([bi],"readwrite").objectStore(bi),Vt=U.createCompositeKey(M);try{const Wt=St.delete(Vt);Wt.onerror=en=>{be(Ti(en,"storage-delete"))},Wt.onsuccess=()=>{ye()}}catch(Wt){be(Pn.create("storage-delete",{originalErrorMessage:Wt?.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Ds{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,K.Z)(function*(){const U=M.storage.getLastFetchStatus(),Q=M.storage.getLastSuccessfulFetchTimestampMillis(),ye=M.storage.getActiveConfig(),be=yield U;be&&(M.lastFetchStatus=be);const tt=yield Q;tt&&(M.lastSuccessfulFetchTimestampMillis=tt);const St=yield ye;St&&(M.activeConfig=St)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function ni(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,K.Z)(function*(){if(!(0,Z.hl)())return!1;try{return yield(0,Z.eu)()}catch{return!1}})).apply(this,arguments)}!function au(){(0,ae.Xd)(new ce.wA("remote-config",function A(M,{instanceIdentifier:U}){const Q=M.getProvider("app").getImmediate(),ye=M.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pn.create("registration-window");if(!(0,Z.hl)())throw Pn.create("indexed-db-unavailable");const{projectId:be,apiKey:tt,appId:St}=Q.options;if(!be)throw Pn.create("registration-project-id");if(!tt)throw Pn.create("registration-api-key");if(!St)throw Pn.create("registration-app-id");const Vt=new ss(St,Q.name,U=U||"firebase"),Wt=new Ds(Vt),en=new pe.Yd(xt);en.logLevel=pe.in.ERROR;const tn=new aa(ye,ae.Jn,U,be,tt,St),In=new ua(tn,Vt),Gr=new is(In,Vt,Wt,en),Mr=new Ho(Q,Gr,Wt,Vt,en);return function Qs(A){const M=(0,Z.m9)(A);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Mr),Mr},"PUBLIC").setMultipleInstances(!0)),(0,ae.KN)(xt,"0.4.0"),(0,ae.KN)(xt,"0.4.0","esm2017")}();const wo="/firebase-messaging-sw.js",Fn="/firebase-cloud-messaging-push-scope",Wo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yr="google.c.a.c_id",Do="google.c.a.c_l",os="google.c.a.ts",Nu="google.c.a.e";var eo=(()=>{return(A=eo||(eo={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",eo;var A})();function qi(A){const M=new Uint8Array(A);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Si(A){const U=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Q=atob(U),ye=new Uint8Array(Q.length);for(let be=0;be<Q.length;++be)ye[be]=Q.charCodeAt(be);return ye}const Li="fcm_token_details_db",Ba="fcm_token_object_Store";function ri(A){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,K.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(be=>be.name).includes(Li))return null;let M=null;return(yield(0,ee.X3)(Li,5,{upgrade:(Q=(0,K.Z)(function*(ye,be,tt,St){var Vt;if(be<2||!ye.objectStoreNames.contains(Ba))return;const Wt=St.objectStore(Ba),en=yield Wt.index("fcmSenderId").get(A);if(yield Wt.clear(),en)if(2===be){const tn=en;if(!tn.auth||!tn.p256dh||!tn.endpoint)return;M={token:tn.fcmToken,createTime:null!==(Vt=tn.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:tn.auth,p256dh:tn.p256dh,endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:"string"==typeof tn.vapidKey?tn.vapidKey:qi(tn.vapidKey)}}}else if(3===be){const tn=en;M={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:qi(tn.auth),p256dh:qi(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:qi(tn.vapidKey)}}}else if(4===be){const tn=en;M={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:qi(tn.auth),p256dh:qi(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:qi(tn.vapidKey)}}}}),function(be,tt,St,Vt){return Q.apply(this,arguments)})})).close(),yield(0,ee.Lj)(Li),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),Yr(M)?M:null;var Q}),Fi.apply(this,arguments)}function Yr(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:M}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const as="firebase-messaging-store";let Xn=null;function to(){return Xn||(Xn=(0,ee.X3)("firebase-messaging-database",1,{upgrade:(A,M)=>{0===M&&A.createObjectStore(as)}})),Xn}function To(A){return bo.apply(this,arguments)}function bo(){return(bo=(0,K.Z)(function*(A){const M=Vr(A),Q=yield(yield to()).transaction(as).objectStore(as).get(M);if(Q)return Q;{const ye=yield ri(A.appConfig.senderId);if(ye)return yield xn(A,ye),ye}})).apply(this,arguments)}function xn(A,M){return zo.apply(this,arguments)}function zo(){return(zo=(0,K.Z)(function*(A,M){const U=Vr(A),ye=(yield to()).transaction(as,"readwrite");return yield ye.objectStore(as).put(M,U),yield ye.done,M})).apply(this,arguments)}function bs(A){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,K.Z)(function*(A){const M=Vr(A),Q=(yield to()).transaction(as,"readwrite");yield Q.objectStore(as).delete(M),yield Q.done})).apply(this,arguments)}function Vr({appConfig:A}){return A.appId}const rr=new Z.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fs(A,M){return ir.apply(this,arguments)}function ir(){return(ir=(0,K.Z)(function*(A,M){const U=yield Un(A),Q=ha(M),ye={method:"POST",headers:U,body:JSON.stringify(Q)};let be;try{be=yield(yield fetch(ro(A.appConfig),ye)).json()}catch(tt){throw rr.create("token-subscribe-failed",{errorInfo:tt?.toString()})}if(be.error)throw rr.create("token-subscribe-failed",{errorInfo:be.error.message});if(!be.token)throw rr.create("token-subscribe-no-token");return be.token})).apply(this,arguments)}function no(A,M){return xi.apply(this,arguments)}function xi(){return(xi=(0,K.Z)(function*(A,M){const U=yield Un(A),Q=ha(M.subscriptionOptions),ye={method:"PATCH",headers:U,body:JSON.stringify(Q)};let be;try{be=yield(yield fetch(`${ro(A.appConfig)}/${M.token}`,ye)).json()}catch(tt){throw rr.create("token-update-failed",{errorInfo:tt?.toString()})}if(be.error)throw rr.create("token-update-failed",{errorInfo:be.error.message});if(!be.token)throw rr.create("token-update-no-token");return be.token})).apply(this,arguments)}function jt(A,M){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,K.Z)(function*(A,M){const Q={method:"DELETE",headers:yield Un(A)};try{const be=yield(yield fetch(`${ro(A.appConfig)}/${M}`,Q)).json();if(be.error)throw rr.create("token-unsubscribe-failed",{errorInfo:be.error.message})}catch(ye){throw rr.create("token-unsubscribe-failed",{errorInfo:ye?.toString()})}})).apply(this,arguments)}function ro({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Un(A){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,K.Z)(function*({appConfig:A,installations:M}){const U=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function ha({p256dh:A,auth:M,endpoint:U,vapidKey:Q}){const ye={web:{endpoint:U,auth:M,p256dh:A}};return Q!==Wo&&(ye.web.applicationPubKey=Q),ye}const io=6048e5;function so(A){return oo.apply(this,arguments)}function oo(){return(oo=(0,K.Z)(function*(A){const M=yield uo(A.swRegistration,A.vapidKey),U={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:M.endpoint,auth:qi(M.getKey("auth")),p256dh:qi(M.getKey("p256dh"))},Q=yield To(A.firebaseDependencies);if(Q){if(Bs(Q.subscriptionOptions,U))return Date.now()>=Q.createTime+io?Us(A,{token:Q.token,createTime:Date.now(),subscriptionOptions:U}):Q.token;try{yield jt(A.firebaseDependencies,Q.token)}catch(ye){console.warn(ye)}return Jn(A.firebaseDependencies,U)}return Jn(A.firebaseDependencies,U)})).apply(this,arguments)}function He(A){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,K.Z)(function*(A){const M=yield To(A.firebaseDependencies);M&&(yield jt(A.firebaseDependencies,M.token),yield bs(A.firebaseDependencies));const U=yield A.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()})).apply(this,arguments)}function Us(A,M){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,K.Z)(function*(A,M){try{const U=yield no(A.firebaseDependencies,M),Q=Object.assign(Object.assign({},M),{token:U,createTime:Date.now()});return yield xn(A.firebaseDependencies,Q),U}catch(U){throw yield He(A),U}})).apply(this,arguments)}function Jn(A,M){return ao.apply(this,arguments)}function ao(){return(ao=(0,K.Z)(function*(A,M){const Q={token:yield Fs(A,M),createTime:Date.now(),subscriptionOptions:M};return yield xn(A,Q),Q.token})).apply(this,arguments)}function uo(A,M){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,K.Z)(function*(A,M){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Si(M)})})).apply(this,arguments)}function Bs(A,M){return M.vapidKey===A.vapidKey&&M.endpoint===A.endpoint&&M.auth===A.auth&&M.p256dh===A.p256dh}function Cs(A){const M={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Co(A,M){if(!M.notification)return;A.notification={};const U=M.notification.title;U&&(A.notification.title=U);const Q=M.notification.body;Q&&(A.notification.body=Q);const ye=M.notification.image;ye&&(A.notification.image=ye);const be=M.notification.icon;be&&(A.notification.icon=be)}(M,A),function us(A,M){!M.data||(A.data=M.data)}(M,A),function qo(A,M){var U,Q,ye,be,tt;if(!(M.fcmOptions||null!==(U=M.notification)&&void 0!==U&&U.click_action))return;A.fcmOptions={};const St=null!==(ye=null===(Q=M.fcmOptions)||void 0===Q?void 0:Q.link)&&void 0!==ye?ye:null===(be=M.notification)||void 0===be?void 0:be.click_action;St&&(A.fcmOptions.link=St);const Vt=null===(tt=M.fcmOptions)||void 0===tt?void 0:tt.analytics_label;Vt&&(A.fcmOptions.analyticsLabel=Vt)}(M,A),M}function Ui(A){return"object"==typeof A&&!!A&&yr in A}function ii(A,M){const U=[];for(let Q=0;Q<A.length;Q++)U.push(A.charAt(Q)),Q<M.length&&U.push(M.charAt(Q));return U.join("")}function cs(A){return rr.create("missing-app-config-values",{valueName:A})}ii("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ii("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class So{constructor(M,U,Q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ye=function Ss(A){if(!A||!A.options)throw cs("App Configuration Object");if(!A.name)throw cs("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:U}=A;for(const Q of M)if(!U[Q])throw cs(Q);return{appName:A.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:ye,installations:U,analyticsProvider:Q}}_delete(){return Promise.resolve()}}function ls(A){return co.apply(this,arguments)}function co(){return(co=(0,K.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(wo,{scope:Fn}),A.swRegistration.update().catch(()=>{})}catch(M){throw rr.create("failed-service-worker-registration",{browserErrorMessage:M?.message})}})).apply(this,arguments)}function Zo(A,M){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,K.Z)(function*(A,M){if(!M&&!A.swRegistration&&(yield ls(A)),M||!A.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw rr.create("invalid-sw-registration");A.swRegistration=M}})).apply(this,arguments)}function fa(A,M){return ds.apply(this,arguments)}function ds(){return(ds=(0,K.Z)(function*(A,M){M?A.vapidKey=M:A.vapidKey||(A.vapidKey=Wo)})).apply(this,arguments)}function mi(){return(mi=(0,K.Z)(function*(A,M){if(!navigator)throw rr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rr.create("permission-blocked");return yield fa(A,M?.vapidKey),yield Zo(A,M?.serviceWorkerRegistration),so(A)})).apply(this,arguments)}function ga(A,M,U){return $s.apply(this,arguments)}function $s(){return($s=(0,K.Z)(function*(A,M,U){const Q=xo(M);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(Q,{message_id:U[yr],message_name:U[Do],message_time:U[os],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xo(A){switch(A){case eo.NOTIFICATION_CLICKED:return"notification_open";case eo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function N(){return(N=(0,K.Z)(function*(A,M){const U=M.data;if(!U.isFirebaseMessaging)return;A.onMessageHandler&&U.messageType===eo.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Cs(U)):A.onMessageHandler.next(Cs(U)));const Q=U.data;Ui(Q)&&"1"===Q[Nu]&&(yield ga(A,U.messageType,Q))})).apply(this,arguments)}const S="@firebase/messaging",B="0.12.0",ie=A=>{const M=new So(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function b(A,M){return N.apply(this,arguments)}(M,U)),M},Se=A=>{const M=A.getProvider("messaging").getImmediate();return{getToken:Q=>function pa(A,M){return mi.apply(this,arguments)}(M,Q)}};function vt(){return $t.apply(this,arguments)}function $t(){return($t=(0,K.Z)(function*(){try{yield(0,Z.eu)()}catch{return!1}return typeof window<"u"&&(0,Z.hl)()&&(0,Z.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function je(){(0,ae.Xd)(new ce.wA("messaging",ie,"PUBLIC")),(0,ae.Xd)(new ce.wA("messaging-internal",Se,"PRIVATE")),(0,ae.KN)(S,B),(0,ae.KN)(S,B,"esm2017")}();const vr="analytics",Br="firebase_id",Je="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cr="https://www.googletagmanager.com/gtag/js",Vn=new pe.Yd("@firebase/analytics");function Mi(A){return Promise.all(A.map(M=>M.catch(U=>U)))}function Dt(A,M){const U=document.createElement("script");U.src=`${Cr}?l=${A}&id=${M}`,U.async=!0,document.head.appendChild(U)}function ya(A,M,U,Q,ye,be){return ht.apply(this,arguments)}function ht(){return(ht=(0,K.Z)(function*(A,M,U,Q,ye,be){const tt=Q[ye];try{if(tt)yield M[tt];else{const Vt=(yield Mi(U)).find(Wt=>Wt.measurementId===ye);Vt&&(yield M[Vt.appId])}}catch(St){Vn.error(St)}A("config",ye,be)})).apply(this,arguments)}function Pe(A,M,U,Q,ye){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,K.Z)(function*(A,M,U,Q,ye){try{let be=[];if(ye&&ye.send_to){let tt=ye.send_to;Array.isArray(tt)||(tt=[tt]);const St=yield Mi(U);for(const Vt of tt){const Wt=St.find(tn=>tn.measurementId===Vt),en=Wt&&M[Wt.appId];if(!en){be=[];break}be.push(en)}}0===be.length&&(be=Object.values(M)),yield Promise.all(be),A("event",Q,ye||{})}catch(be){Vn.error(be)}})).apply(this,arguments)}function va(A){const M=window.document.getElementsByTagName("script");for(const U of Object.values(M))if(U.src&&U.src.includes(Cr)&&U.src.includes(A))return U;return null}const Vi=new Z.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),js=new class cu{constructor(M={},U=1e3){this.throttleMetadata=M,this.intervalMillis=U}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,U){this.throttleMetadata[M]=U}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function ul(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function ho(A){return ja.apply(this,arguments)}function ja(){return(ja=(0,K.Z)(function*(A){var M;const{appId:U,apiKey:Q}=A,ye={method:"GET",headers:ul(Q)},be=Je.replace("{app-id}",U),tt=yield fetch(be,ye);if(200!==tt.status&&304!==tt.status){let St="";try{const Vt=yield tt.json();null!==(M=Vt.error)&&void 0!==M&&M.message&&(St=Vt.error.message)}catch{}throw Vi.create("config-fetch-failed",{httpStatus:tt.status,responseMessage:St})}return tt.json()})).apply(this,arguments)}function Qt(A){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,K.Z)(function*(A,M=js,U){const{appId:Q,apiKey:ye,measurementId:be}=A.options;if(!Q)throw Vi.create("no-app-id");if(!ye){if(be)return{measurementId:be,appId:Q};throw Vi.create("no-api-key")}const tt=M.getThrottleMetadata(Q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},St=new Sn;return setTimeout((0,K.Z)(function*(){St.abort()}),void 0!==U?U:6e4),lu({appId:Q,apiKey:ye,measurementId:be},tt,St,M)})).apply(this,arguments)}function lu(A,M,U){return rn.apply(this,arguments)}function rn(){return(rn=(0,K.Z)(function*(A,{throttleEndTimeMillis:M,backoffCount:U},Q,ye=js){var be;const{appId:tt,measurementId:St}=A;try{yield Lt(Q,M)}catch(Vt){if(St)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${Vt?.message}]`),{appId:tt,measurementId:St};throw Vt}try{const Vt=yield ho(A);return ye.deleteThrottleMetadata(tt),Vt}catch(Vt){const Wt=Vt;if(!si(Wt)){if(ye.deleteThrottleMetadata(tt),St)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${Wt?.message}]`),{appId:tt,measurementId:St};throw Vt}const en=503===Number(null===(be=Wt?.customData)||void 0===be?void 0:be.httpStatus)?(0,Z.$s)(U,ye.intervalMillis,30):(0,Z.$s)(U,ye.intervalMillis),tn={throttleEndTimeMillis:Date.now()+en,backoffCount:U+1};return ye.setThrottleMetadata(tt,tn),Vn.debug(`Calling attemptFetch again in ${en} millis`),lu(A,tn,Q,ye)}})).apply(this,arguments)}function Lt(A,M){return new Promise((U,Q)=>{const ye=Math.max(M-Date.now(),0),be=setTimeout(U,ye);A.addEventListener(()=>{clearTimeout(be),Q(Vi.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function si(A){if(!(A instanceof Z.ZR&&A.customData))return!1;const M=Number(A.customData.httpStatus);return 429===M||500===M||503===M||504===M}class Sn{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let hs,Qo;function ft(){return(ft=(0,K.Z)(function*(A,M,U,Q,ye){if(ye&&ye.global)A("event",U,Q);else{const be=yield M;A("event",U,Object.assign(Object.assign({},Q),{send_to:be}))}})).apply(this,arguments)}function xr(A){Qo=A}function Ea(A){hs=A}function go(){return du.apply(this,arguments)}function du(){return(du=(0,K.Z)(function*(){if(!(0,Z.hl)())return Vn.warn(Vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Z.eu)()}catch(A){return Vn.warn(Vi.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ia(){return(Ia=(0,K.Z)(function*(A,M,U,Q,ye,be,tt){var St;const Vt=Qt(A);Vt.then(Gr=>{U[Gr.measurementId]=Gr.appId,A.options.measurementId&&Gr.measurementId!==A.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${Gr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gr=>Vn.error(Gr)),M.push(Vt);const Wt=go().then(Gr=>{if(Gr)return Q.getId()}),[en,tn]=yield Promise.all([Vt,Wt]);va(be)||Dt(be,en.measurementId),Qo&&(ye("consent","default",Qo),xr(void 0)),ye("js",new Date);const In=null!==(St=tt?.config)&&void 0!==St?St:{};return In.origin="firebase",In.update=!0,null!=tn&&(In[Br]=tn),ye("config",en.measurementId,In),hs&&(ye("set",hs),Ea(void 0)),en.measurementId})).apply(this,arguments)}class xe{constructor(M){this.app=M}_delete(){return delete Bi[this.app.options.appId],Promise.resolve()}}let Bi={},Qi=[];const wa={};let Xo,wr,ps="dataLayer",gs=!1;function Ha(A,M,U){!function Da(){const A=[];if((0,Z.ru)()&&A.push("This is a browser extension environment."),(0,Z.zI)()||A.push("Cookies are not available."),A.length>0){const M=A.map((Q,ye)=>`(${ye+1}) ${Q}`).join(" "),U=Vi.create("invalid-analytics-context",{errorInfo:M});Vn.warn(U.message)}}();const Q=A.options.appId;if(!Q)throw Vi.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Vi.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bi[Q])throw Vi.create("already-exists",{id:Q});if(!gs){!function Ot(A){let M=[];Array.isArray(window[A])?M=window[A]:window[A]=M}(ps);const{wrappedGtag:be,gtagCore:tt}=function al(A,M,U,Q,ye){let be=function(...tt){window[Q].push(arguments)};return window[ye]&&"function"==typeof window[ye]&&(be=window[ye]),window[ye]=function Sr(A,M,U,Q){function be(){return(be=(0,K.Z)(function*(tt,St,Vt){try{"event"===tt?yield Pe(A,M,U,St,Vt):"config"===tt?yield ya(A,M,U,Q,St,Vt):"consent"===tt?A("consent","update",Vt):A("set",St)}catch(Wt){Vn.error(Wt)}})).apply(this,arguments)}return function ye(tt,St,Vt){return be.apply(this,arguments)}}(be,A,M,U),{gtagCore:be,wrappedGtag:window[ye]}}(Bi,Qi,wa,ps,"gtag");wr=be,Xo=tt,gs=!0}return Bi[Q]=function Yi(A,M,U,Q,ye,be,tt){return Ia.apply(this,arguments)}(A,Qi,wa,M,Xo,ps,U),new xe(A)}function ea(){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,K.Z)(function*(){if((0,Z.ru)()||!(0,Z.zI)()||!(0,Z.hl)())return!1;try{return yield(0,Z.eu)()}catch{return!1}})).apply(this,arguments)}const cl="@firebase/analytics";!function ar(){(0,ae.Xd)(new ce.wA(vr,(M,{options:U})=>Ha(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,ae.Xd)(new ce.wA("analytics-internal",function A(M){try{const U=M.getProvider(vr).getImmediate();return{logEvent:(Q,ye,be)=>function Ga(A,M,U,Q){A=(0,Z.m9)(A),function Ir(A,M,U,Q,ye){return ft.apply(this,arguments)}(wr,Bi[A.app.options.appId],M,U,Q).catch(ye=>Vn.error(ye))}(U,Q,ye,be)}}catch(U){throw Vi.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,ae.KN)(cl,"0.9.0"),(0,ae.KN)(cl,"0.9.0","esm2017")}();var Ms=L(4408),Tc=L(7565);const yi=new class jr extends Tc.v{}(class Wa extends Ms.o{constructor(M,U){super(M,U),this.scheduler=M,this.work=U}schedule(M,U=0){return U>0?super.schedule(M,U):(this.delay=U,this.state=M,this.scheduler.flush(this),this)}execute(M,U){return U>0||this.closed?super.execute(M,U):this._execute(M,U)}requestAsyncId(M,U,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(M,U,Q):(M.flush(this),0)}});var Xi=L(4986),oi=L(9751),v=L(8505),_=L(9468),y=L(5363);const D=new C.GfV("7.5.0"),x="__angularfire_symbol__analyticsIsSupportedValue",F="__angularfire_symbol__analyticsIsSupported",z="__angularfire_symbol__remoteConfigIsSupportedValue",X="__angularfire_symbol__remoteConfigIsSupported",Me="__angularfire_symbol__messagingIsSupportedValue",lt="__angularfire_symbol__messagingIsSupported";function ms(A,M,U){if(M){if(1===M.length)return M[0];const be=M.filter(tt=>tt.app===U);if(1===be.length)return be[0]}return U.container.getProvider(A).getImmediate({optional:!0})}globalThis[F]||(globalThis[F]=ea().then(A=>globalThis[x]=A).catch(()=>globalThis[x]=!1)),globalThis[lt]||(globalThis[lt]=vt().then(A=>globalThis[Me]=A).catch(()=>globalThis[Me]=!1)),globalThis[X]||(globalThis[X]=ni().then(A=>globalThis[z]=A).catch(()=>globalThis[z]=!1));const Po=(A,M)=>{const U=M?[M]:(0,j.C6)(),Q=[];return U.forEach(ye=>{ye.container.getProvider(A).instances.forEach(tt=>{Q.includes(tt)||Q.push(tt)})}),Q};function Hr(){}class Ri{constructor(M,U=yi){this.zone=M,this.delegate=U}now(){return this.delegate.now()}schedule(M,U,Q){const ye=this.zone;return this.delegate.schedule(function(tt){ye.runGuarded(()=>{M.apply(this,[tt])})},U,Q)}}class Gs{constructor(M){this.zone=M,this.task=null}call(M,U){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hr,{},Hr,Hr)),U.pipe((0,v.b)({next:Q,complete:Q,error:Q})).subscribe(M).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ca=(()=>{class A{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new Ri(Zone.current)),this.insideAngular=U.run(()=>new Ri(Zone.current,Xi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(U){return new(U||A)(C.LFG(C.R0b))},A.\u0275prov=C.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Rs(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function bn(A){return Rs().ngZone.runOutsideAngular(()=>A())}function vn(A){return Rs().ngZone.run(()=>A())}function ad(A){return Rs(),function bc(A){return function(U){return(U=U.lift(new Gs(A.ngZone))).pipe((0,_.R)(A.outsideAngular),(0,y.Q)(A.insideAngular))}}(Rs())(A)}const Aa=(A,M)=>function(){const Q=arguments;return M&&setTimeout(()=>{"scheduled"===M.state&&M.invoke()},10),vn(()=>A.apply(void 0,Q))},ta=(A,M)=>function(){let U;const Q=arguments;for(let be=0;be<arguments.length;be++)"function"==typeof Q[be]&&(M&&(U||(U=vn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hr,{},Hr,Hr)))),Q[be]=Aa(Q[be],U));const ye=bn(()=>A.apply(this,Q));if(!M){if(ye instanceof oi.y){const be=Rs();return ye.pipe((0,_.R)(be.outsideAngular),(0,y.Q)(be.insideAngular))}return vn(()=>ye)}return ye instanceof oi.y?ye.pipe(ad):ye instanceof Promise?vn(()=>new Promise((be,tt)=>ye.then(St=>vn(()=>be(St)),St=>vn(()=>tt(St))))):"function"==typeof ye&&U?function(){return setTimeout(()=>{U&&"scheduled"===U.state&&U.invoke()},10),ye.apply(this,arguments)}:vn(()=>ye)}},5525:(_t,Re,L)=>{L.d(Re,{ET:()=>Yg,hJ:()=>jm,JU:()=>Ag,ad:()=>oa,cf:()=>Mh});var ee,C=L(5861),j=L(9681),K=L(4859),ae=L(1877),Z=L(2090),ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pe={},ve=ve||{},H=ce||self;function te(){}function de(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ut="closure_uid_"+(1e9*Math.random()>>>0),We=0;function nt(i,e,t){return i.call.apply(i.bind,arguments)}function pt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ze(i,e,t){return(ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:pt).apply(null,arguments)}function pn(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ie(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,d){for(var p=Array(arguments.length-2),w=2;w<arguments.length;w++)p[w-2]=arguments[w];return e.prototype[u].apply(o,p)}}function ke(){this.s=this.s,this.o=this.o}ke.prototype.s=!1,ke.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Be(i){Object.prototype.hasOwnProperty.call(i,ut)&&i[ut]||(i[ut]=++We)}(this)},ke.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Mt(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Ne(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(de(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let p=0;p<d;p++)i[u+p]=o[p]}else i.push(o)}}function Le(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{H.addEventListener("test",te,e),H.removeEventListener("test",te,e)}catch{}return i}();function Y(i){return/^[\s\xa0]*$/.test(i)}var we=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ge(i,e){return i<e?-1:i>e?1:0}function Ze(){var i=H.navigator;return i&&(i=i.userAgent)?i:""}function Oe(i){return-1!=Ze().indexOf(i)}function At(i){return At[" "](i),i}At[" "]=te;var Nn,i,Tn=Oe("Opera"),Ut=Oe("Trident")||Oe("MSIE"),An=Oe("Edge"),yn=An||Ut,Kt=Oe("Gecko")&&!(-1!=Ze().toLowerCase().indexOf("webkit")&&!Oe("Edge"))&&!(Oe("Trident")||Oe("MSIE"))&&!Oe("Edge"),Bt=-1!=Ze().toLowerCase().indexOf("webkit")&&!Oe("Edge");function cr(){var i=H.document;return i?i.documentMode:void 0}e:{var fi="",Kn=(i=Ze(),Kt?/rv:([^\);]+)(\)|;)/.exec(i):An?/Edge\/([\d\.]+)/.exec(i):Ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Bt?/WebKit\/(\S+)/.exec(i):Tn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Kn&&(fi=Kn?Kn[1]:""),Ut){var yt=cr();if(null!=yt&&yt>parseFloat(fi)){Nn=String(yt);break e}}Nn=fi}var cn={};var lr=H.document&&Ut&&(cr()||parseInt(Nn,10))||void 0;function jn(i,e){if(Le.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Kt){e:{try{At(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:_i[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&jn.X.h.call(this)}}Ie(jn,Le);var _i={2:"touch",3:"pen",4:"mouse"};jn.prototype.h=function(){jn.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var _n="closure_listenable_"+(1e6*Math.random()|0),qn=0;function zi(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++qn,this.ba=this.ea=!1}function kn(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function It(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Fr(i){const e={};for(const t in i)e[t]=i[t];return e}const Tr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hn(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<Tr.length;d++)t=Tr[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function ln(i){this.src=i,this.g={},this.h=0}function Rt(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=Xe(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(kn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Pt(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==o)return u}return-1}ln.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var p=Pt(i,e,o,u);return-1<p?(e=i[p],t||(e.ea=!1)):((e=new zi(e,this.src,d,!!o,u)).ea=t,i.push(e)),e};var Gn="closure_lm_"+(1e6*Math.random()|0),Ur={};function Cn(i,e,t,o,u){if(o&&o.once)return ct(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Cn(i,e[d],t,o,u);return null}return t=Fe(t),i&&i[_n]?i.N(e,t,qe(o)?!!o.capture:!!o,u):pr(i,e,t,!1,o,u)}function pr(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var p=qe(u)?!!u.capture:!!u,w=Jt(i);if(w||(i[Gn]=w=new ln(i)),(t=w.add(e,t,o,p,d)).proxy)return t;if(o=function Te(){const e=dn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)fe||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(et(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function ct(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)ct(i,e[d],t,o,u);return null}return t=Fe(t),i&&i[_n]?i.O(e,t,qe(o)?!!o.capture:!!o,u):pr(i,e,t,!0,o,u)}function Ae(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Ae(i,e[d],t,o,u);else o=qe(o)?!!o.capture:!!o,t=Fe(t),i&&i[_n]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Pt(d=i.g[e],t,o,u))&&(kn(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Jt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Pt(e,t,o,u)),(t=-1<i?e[i]:null)&&Ct(t))}function Ct(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[_n])Rt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(et(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Jt(e))?(Rt(t,i),0==t.h&&(t.src=null,e[Gn]=null)):kn(i)}}}function et(i){return i in Ur?Ur[i]:Ur[i]="on"+i}function dn(i,e){if(i.ba)i=!0;else{e=new jn(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Ct(i),i=t.call(o,e)}return i}function Jt(i){return(i=i[Gn])instanceof ln?i:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(i){return"function"==typeof i?i:(i[dt]||(i[dt]=function(e){return i.handleEvent(e)}),i[dt])}function st(){ke.call(this),this.i=new ln(this),this.P=this,this.I=null}function mt(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Le(e,i);else if(e instanceof Le)e.target=e.target||i;else{var u=e;Hn(e=new Le(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var p=e.g=t[d];u=Yt(p,o,!0,e)&&u}if(u=Yt(p=e.g=i,o,!0,e)&&u,u=Yt(p,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=Yt(p=e.g=t[d],o,!1,e)&&u}function Yt(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.ba&&p.capture==t){var w=p.listener,R=p.ha||p.src;p.ea&&Rt(i.i,p),u=!1!==w.call(R,o)&&u}}return u&&!o.defaultPrevented}Ie(st,ke),st.prototype[_n]=!0,st.prototype.removeEventListener=function(i,e,t,o){Ae(this,i,e,t,o)},st.prototype.M=function(){if(st.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)kn(t[o]);delete i.g[e],i.h--}}this.I=null},st.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},st.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var an=H.JSON.stringify;function re(){var i=hn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Gt,ue=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ue,i=>i.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ce(i){H.setTimeout(()=>{throw i},0)}function Et(i,e){Gt||function Ln(){var i=H.Promise.resolve(void 0);Gt=function(){i.then(me)}}(),qt||(Gt(),qt=!0),hn.add(i,e)}var qt=!1,hn=new class J{constructor(){this.h=this.g=null}add(e,t){const o=ue.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function me(){for(var i;i=re();){try{i.h.call(i.g)}catch(t){Ce(t)}var e=ue;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}qt=!1}function ne(i,e){st.call(this),this.h=i||1,this.g=e||H,this.j=ze(this.lb,this),this.l=Date.now()}function q(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function _e(i,e,t){if("function"==typeof i)t&&(i=ze(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ze(i.handleEvent,i)}return 2147483647<Number(e)?-1:H.setTimeout(i,e||0)}function he(i){i.g=_e(()=>{i.g=null,i.i&&(i.i=!1,he(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ie(ne,st),(ee=ne.prototype).ca=!1,ee.R=null,ee.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),mt(this,"tick"),this.ca&&(q(this),this.start()))}},ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ee.M=function(){ne.X.M.call(this),q(this),delete this.g};class it extends ke{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:he(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(i){ke.call(this),this.h=i,this.g={}}Ie(bt,ke);var Rn=[];function Wn(i,e,t,o){Array.isArray(t)||(t&&(Rn[0]=t.toString()),t=Rn);for(var u=0;u<t.length;u++){var d=Cn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function tr(i){It(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ct(e)},i),i.g={}}function Ni(){this.g=!0}function Ki(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ei(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<u.length;p++)u[p]=""}}}return an(t)}catch{return e}}(i,t)+(o?" "+o:"")})}bt.prototype.M=function(){bt.X.M.call(this),tr(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ni.prototype.Aa=function(){this.g=!1},Ni.prototype.info=function(){};var br={},Is=null;function ki(){return Is=Is||new st}function Pn(i){Le.call(this,br.Pa,i)}function ti(i){const e=ki();mt(e,new Pn(e))}function qs(i,e){Le.call(this,br.STAT_EVENT,i),this.stat=e}function Qn(i){const e=ki();mt(e,new qs(e,i))}function Ii(i,e){Le.call(this,br.Qa,i),this.size=e}function ws(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){i()},e)}br.Pa="serverreachability",Ie(Pn,Le),br.STAT_EVENT="statevent",Ie(qs,Le),br.Qa="timingevent",Ie(Ii,Le);var En={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Zs={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ys(){}function Qs(){}Ys.prototype.h=null;var dr,pi={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function wi(){Le.call(this,"d")}function Pr(){Le.call(this,"c")}function rs(){}function gr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new bt(this),this.O=Eo,this.T=new ne(i=yn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Zr}function Zr(){this.i=null,this.g="",this.h=!1}Ie(wi,Le),Ie(Pr,Le),Ie(rs,Ys),rs.prototype.g=function(){return new XMLHttpRequest},rs.prototype.i=function(){return{}},dr=new rs;var Eo=45e3,Xs={},is={};function gi(i,e,t){i.K=1,i.v=Wo(Ci(e)),i.s=t,i.P=!0,aa(i,null)}function aa(i,e){i.F=Date.now(),Di(i),i.A=Ci(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),ri(t.i,"t",o),i.C=0,t=i.l.H,i.h=new Zr,i.g=xo(i.l,t?e:null,!i.s),0<i.N&&(i.L=new it(ze(i.La,i,i.g),i.N)),Wn(i.S,i.g,"readystatechange",i.ib),e=i.H?Fr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ti(),function nr(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var p="",w=d.split("&"),R=0;R<w.length;R++){var O=w[R].split("=");if(1<O.length){var G=O[0];O=O[1];var se=G.split("_");p=2<=se.length&&"type"==se[1]?p+(G+"=")+O+"&":p+(G+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+p})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Oi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function jo(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=ua(i,t),u==is){4==e&&(i.o=4,Qn(14),o=!1),Ki(i.j,i.m,null,"[Incomplete Response]");break}if(u==Xs){i.o=4,Qn(15),Ki(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Ki(i.j,i.m,u,null),Io(i,u)}Oi(i)&&u!=is&&u!=Xs&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Qn(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Zo(e),e.K=!0,Qn(11))):(Ki(i.j,i.m,t,"[Invalid Chunked Response]"),bi(i),Ti(i))}function ua(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?is:(t=Number(e.substring(t,o)),isNaN(t)?Xs:(o+=1)+t>e.length?is:(e=e.substr(o,t),i.C=o+t,e))}function Di(i){i.V=Date.now()+i.O,ca(i,i.O)}function ca(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ws(ze(i.gb,i),e)}function Ho(i){i.B&&(H.clearTimeout(i.B),i.B=null)}function Ti(i){0==i.l.G||i.I||ds(i.l,i)}function bi(i){Ho(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,q(i.T),tr(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Io(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||To(t.h,i)))if(!i.J&&To(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;fa(t),us(t)}co(t),Qn(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=ws(ze(t.cb,t),6e3));if(1>=to(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else mi(t,11)}else if((i.J||t.g==i)&&fa(t),!Y(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let O=u[e];if(t.T=O[0],O=O[1],2==t.G)if("c"==O[0]){t.I=O[1],t.ka=O[2];const G=O[3];null!=G&&(t.ma=G,t.j.info("VER="+t.ma));const se=O[4];null!=se&&(t.Ca=se,t.j.info("SVER="+t.Ca));const De=O[5];null!=De&&"number"==typeof De&&0<De&&(t.J=o=1.5*De,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ge=i.g;if(Ge){const rt=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rt){var d=o.h;d.g||-1==rt.indexOf("spdy")&&-1==rt.indexOf("quic")&&-1==rt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(bo(d,d.h),d.h=null))}if(o.D){const Tt=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Tt&&(o.za=Tt,Fn(o.F,o.D,Tt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var p=i;if((o=t).sa=$s(o,o.H?o.ka:null,o.V),p.J){xn(o.h,p);var w=p,R=o.J;R&&w.setTimeout(R),w.B&&(Ho(w),Di(w)),o.g=p}else ls(o);0<t.i.length&&Ui(t)}else"stop"!=O[0]&&"close"!=O[0]||mi(t,7);else 3==t.G&&("stop"==O[0]||"close"==O[0]?"stop"==O[0]?mi(t,7):Co(t):"noop"!=O[0]&&t.l&&t.l.wa(O),t.A=0)}ti()}catch{}}function ss(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(de(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Go(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(de(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Va(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(de(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}(ee=gr.prototype).setTimeout=function(i){this.O=i},ee.ib=function(i){i=i.target;const e=this.L;e&&3==Jn(i)?e.l():this.La(i)},ee.La=function(i){try{if(i==this.g)e:{const G=Jn(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>G)&&(3!=G||yn||this.g&&(this.h.h||this.g.fa()||ao(this.g)))){this.I||4!=G||7==e||ti(),Ho(this);var t=this.g.aa();this.Y=t;t:if(Oi(this)){var o=ao(this.g);i="";var u=o.length,d=4==Jn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),Ti(this);var p="";break t}this.h.i=new H.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==t,function _o(i,e,t,o,u,d,p){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.U,G,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var w,R=this.g;if((w=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(w)){var O=w;break t}}O=null}if(!(t=O)){this.i=!1,this.o=3,Qn(12),bi(this),Ti(this);break e}Ki(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Io(this,t)}this.P?(jo(this,G,p),yn&&this.i&&3==G&&(Wn(this.S,this.T,"tick",this.hb),this.T.start())):(Ki(this.j,this.m,p,null),Io(this,p)),4==G&&bi(this),this.i&&!this.I&&(4==G?ds(this.l,this):(this.i=!1,Di(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Qn(12)):(this.o=0,Qn(13)),bi(this),Ti(this)}}}catch{}},ee.hb=function(){if(this.g){var i=Jn(this.g),e=this.g.fa();this.C<e.length&&(Ho(this),jo(this,i,e),this.i&&4!=i&&Di(this))}},ee.cancel=function(){this.I=!0,bi(this)},ee.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function xt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ti(),Qn(17)),bi(this),this.o=2,Ti(this)):ca(this,this.V-i)};var Ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Js){this.h=void 0!==e?e:i.h,ni(this,i.j),this.s=i.s,this.g=i.g,Ts(this,i.m),this.l=i.l,e=i.i;var t=new Si;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),wo(this,t),this.o=i.o}else i&&(t=String(i).match(Ds))?(this.h=!!e,ni(this,t[1]||"",!0),this.s=ks(t[2]||""),this.g=ks(t[3]||"",!0),Ts(this,t[4]),this.l=ks(t[5]||"",!0),wo(this,t[6]||"",!0),this.o=ks(t[7]||"")):(this.h=!!e,this.i=new Si(null,this.h))}function Ci(i){return new Js(i)}function ni(i,e,t){i.j=t?ks(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ts(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function wo(i,e,t){e instanceof Si?(i.i=e,function Yr(i,e){e&&!i.j&&(Li(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Os(this,o),ri(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=yr(e,eo)),i.i=new Si(e,i.h))}function Fn(i,e,t){i.i.set(e,t)}function Wo(i){return Fn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ks(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function yr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Do),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Do(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Js.prototype.toString=function(){var i=[],e=this.j;e&&i.push(yr(e,os,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(yr(e,os,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(yr(t,"/"==t.charAt(0)?la:Nu,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",yr(t,qi)),i.join("")};var os=/[#\/\?@]/g,Nu=/[#\?:]/g,la=/[#\?]/g,eo=/[#\?@]/g,qi=/#/g;function Si(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Li(i){i.g||(i.g=new Map,i.h=0,i.i&&function au(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Os(i,e){Li(i),e=Fi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ba(i,e){return Li(i),e=Fi(i,e),i.g.has(e)}function ri(i,e,t){Os(i,e),0<t.length&&(i.i=null,i.g.set(Fi(i,e),Mt(t)),i.h+=t.length)}function Fi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function da(i){this.l=i||as,i=H.PerformanceNavigationTiming?0<(i=H.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(H.g&&H.g.Ga&&H.g.Ga()&&H.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ee=Si.prototype).add=function(i,e){Li(this),this.i=null,i=Fi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ee.forEach=function(i,e){Li(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},ee.oa=function(){Li(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)t.push(e[o])}return t},ee.W=function(i){Li(this);let e=[];if("string"==typeof i)Ba(this,i)&&(e=e.concat(this.g.get(Fi(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ee.set=function(i,e){return Li(this),this.i=null,Ba(this,i=Fi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ee.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),p=this.W(o);for(o=0;o<p.length;o++){var u=d;""!==p[o]&&(u+="="+encodeURIComponent(String(p[o]))),i.push(u)}}return this.i=i.join("&")};var as=10;function Xn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function to(i){return i.h?1:i.g?i.g.size:0}function To(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function bo(i,e){i.g?i.g.add(e):i.h=e}function xn(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function zo(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Mt(i.i)}function bs(){}function Ai(){this.g=new bs}function Vr(i,e,t){const o=t||"";try{ss(i,function(u,d){let p=u;qe(u)&&(p=an(u)),e.push(o+d+"="+encodeURIComponent(p))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function rr(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Fs(i){this.l=i.ac||null,this.j=i.jb||!1}function ir(i,e){st.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=no,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}da.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},bs.prototype.stringify=function(i){return H.JSON.stringify(i,void 0)},bs.prototype.parse=function(i){return H.JSON.parse(i,void 0)},Ie(Fs,Ys),Fs.prototype.g=function(){return new ir(this.l,this.j)},Fs.prototype.i=function(i){return function(){return i}}({}),Ie(ir,st);var no=0;function xi(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function jt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Zi(i)}function Zi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ee=ir.prototype).open=function(i,e){if(this.readyState!=no)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Zi(this)},ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||H).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=no},ee.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xi(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},ee.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?jt(this):Zi(this),3==this.readyState&&xi(this)}},ee.Va=function(i){this.g&&(this.response=this.responseText=i,jt(this))},ee.Ua=function(i){this.g&&(this.response=i,jt(this))},ee.ga=function(){this.g&&jt(this)},ee.setRequestHeader=function(i,e){this.v.append(i,e)},ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ro=H.JSON.parse;function Un(i){st.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ko,this.K=this.L=!1}Ie(Un,st);var Ko="",ha=/^https?$/i,io=["POST","PUT"];function oo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,He(i),Us(i)}function He(i){i.D||(i.D=!0,mt(i,"complete"),mt(i,"error"))}function Xt(i){if(i.h&&typeof ve<"u"&&(!i.C[1]||4!=Jn(i)||2!=i.aa()))if(i.v&&4==Jn(i))_e(i.Ha,0,i);else if(mt(i,"readystatechange"),4==Jn(i)){i.h=!1;try{const w=i.aa();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===w){var u=String(i.H).match(Ds)[1]||null;if(!u&&H.self&&H.self.location){var d=H.self.location.protocol;u=d.substr(0,d.length-1)}o=!ha.test(u?u.toLowerCase():"")}t=o}if(t)mt(i,"complete"),mt(i,"success");else{i.m=6;try{var p=2<Jn(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.aa()+"]",He(i)}}finally{Us(i)}}}function Us(i,e){if(i.g){Vs(i);const t=i.g,o=i.C[0]?te:null;i.g=null,i.C=null,e||mt(i,"ready");try{t.onreadystatechange=o}catch{}}}function Vs(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(H.clearTimeout(i.A),i.A=null)}function Jn(i){return i.g?i.g.readyState:0}function ao(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ko:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function uo(i){let e="";return It(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Kr(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=uo(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Fn(i,e,t))}function Bs(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Cs(i){this.Ca=0,this.i=[],this.j=new Ni,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Bs("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Bs("baseRetryDelayMs",5e3,i),this.bb=Bs("retryDelaySeedMs",1e4,i),this.$a=Bs("forwardChannelMaxRetries",2,i),this.ta=Bs("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new da(i&&i.concurrentRequestLimit),this.Fa=new Ai,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Co(i){if(qo(i),3==i.G){var e=i.U++,t=Ci(i.F);Fn(t,"SID",i.I),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),cs(i,t),(e=new gr(i,i.j,e,void 0)).K=2,e.v=Wo(Ci(t)),t=!1,H.navigator&&H.navigator.sendBeacon&&(t=H.navigator.sendBeacon(e.v.toString(),"")),!t&&H.Image&&((new Image).src=e.v,t=!0),t||(e.g=xo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Di(e)}ga(i)}function us(i){i.g&&(Zo(i),i.g.cancel(),i.g=null)}function qo(i){us(i),i.u&&(H.clearTimeout(i.u),i.u=null),fa(i),i.h.cancel(),i.m&&("number"==typeof i.m&&H.clearTimeout(i.m),i.m=null)}function Ui(i){Xn(i.h)||i.m||(i.m=!0,Et(i.Ja,i),i.C=0)}function Ss(i,e){var t;t=e?e.m:i.U++;const o=Ci(i.F);Fn(o,"SID",i.I),Fn(o,"RID",t),Fn(o,"AID",i.T),cs(i,o),i.o&&i.s&&Kr(o,i.o,i.s),t=new gr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=So(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),bo(i.h,t),gi(t,o,e)}function cs(i,e){i.ia&&It(i.ia,function(t,o){Fn(e,o,t)}),i.l&&ss({},function(t,o){Fn(e,o,t)})}function So(i,e,t){t=Math.min(i.i.length,t);var o=i.l?ze(i.l.Ra,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const p=["count="+t];-1==d?0<t?(d=u[0].h,p.push("ofs="+d)):d=0:p.push("ofs="+d);let w=!0;for(let R=0;R<t;R++){let O=u[R].h;const G=u[R].g;if(O-=d,0>O)d=Math.max(0,u[R].h-100),w=!1;else try{Vr(G,p,"req"+O+"_")}catch{o&&o(G)}}if(w){o=p.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function ls(i){i.g||i.u||(i.Z=1,Et(i.Ia,i),i.A=0)}function co(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=ws(ze(i.Ia,i),pa(i,i.A)),i.A++,0))}function Zo(i){null!=i.B&&(H.clearTimeout(i.B),i.B=null)}function Ao(i){i.g=new gr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ci(i.sa);Fn(e,"RID","rpc"),Fn(e,"SID",i.I),Fn(e,"CI",i.L?"0":"1"),Fn(e,"AID",i.T),Fn(e,"TYPE","xmlhttp"),cs(i,e),i.o&&i.s&&Kr(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Wo(Ci(e)),t.s=null,t.P=!0,aa(t,i)}function fa(i){null!=i.v&&(H.clearTimeout(i.v),i.v=null)}function ds(i,e){var t=null;if(i.g==e){fa(i),Zo(i),i.g=null;var o=2}else{if(!To(i.h,e))return;t=e.D,xn(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;mt(o=ki(),new Ii(o,t)),Ui(i)}else ls(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function ii(i,e){return!(to(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=ws(ze(i.Ja,i,e),pa(i,i.C)),i.C++,0)))}(i,e)||2==o&&co(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:mi(i,5);break;case 4:mi(i,10);break;case 3:mi(i,6);break;default:mi(i,2)}}function pa(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function mi(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=ze(i.kb,i);t||(t=new Js("//www.google.com/images/cleardot.gif"),H.location&&"http"==H.location.protocol||ni(t,"https"),Wo(t)),function $a(i,e){const t=new Ni;if(H.Image){const o=new Image;o.onload=pn(rr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=pn(rr,t,o,"TestLoadImage: error",!1,e),o.onabort=pn(rr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=pn(rr,t,o,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Qn(2);i.G=0,i.l&&i.l.va(e),ga(i),qo(i)}function ga(i){if(i.G=0,i.la=[],i.l){const e=zo(i.h);(0!=e.length||0!=i.i.length)&&(Ne(i.la,e),Ne(i.la,i.i),i.h.i.length=0,Mt(i.i),i.i.length=0),i.l.ua()}}function $s(i,e,t){var o=t instanceof Js?Ci(t):new Js(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Ts(o,o.m);else{var u=H.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new Js(null,void 0);o&&ni(d,o),e&&(d.g=e),u&&Ts(d,u),t&&(d.l=t),o=d}return e=i.za,(t=i.D)&&e&&Fn(o,t,e),Fn(o,"VER",i.ma),cs(i,o),o}function xo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Un(t&&i.Da&&!i.ra?new Fs({jb:!0}):i.ra)).Ka(i.H),e}function b(){}function N(){if(Ut&&!(10<=Number(lr)))throw Error("Environmental error: no available transport.")}function S(i,e){st.call(this),this.g=new Cs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Y(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Y(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Se(this)}function B(i){wi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ie(){Pr.call(this),this.status=1}function Se(i){this.g=i}(ee=Un.prototype).Ka=function(i){this.L=i},ee.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dr.g(),this.C=function ns(i){return i.h||(i.h=i.i())}(this.u?this.u:dr),this.g.onreadystatechange=ze(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void oo(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=H.FormData&&i instanceof H.FormData,!(0<=Xe(io,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of t)this.g.setRequestHeader(d,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vs(this),0<this.B&&((this.K=function so(i){return Ut&&function ei(){return function nn(i){var e=cn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=we(String(Nn)).split("."),t=we("9").split("."),o=Math.max(e.length,t.length);for(let p=0;0==i&&p<o;p++){var u=e[p]||"",d=t[p]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=ge(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||ge(0==u[2].length,0==d[2].length)||ge(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.qa,this)):this.A=_e(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){oo(this,d)}},ee.qa=function(){typeof ve<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))},ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,mt(this,"complete"),mt(this,"abort"),Us(this))},ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Us(this,!0)),Un.X.M.call(this)},ee.Ha=function(){this.s||(this.F||this.v||this.l?Xt(this):this.fb())},ee.fb=function(){Xt(this)},ee.aa=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ee.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ro(e)}},ee.Ea=function(){return this.m},ee.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ee=Cs.prototype).ma=8,ee.G=1,ee.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new gr(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=Fr(d),Hn(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=So(this,u,e),Fn(t=Ci(this.F),"RID",i),Fn(t,"CVER",22),this.D&&Fn(t,"X-HTTP-Session-Id",this.D),cs(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(uo(d)))+"&"+e:this.o&&Kr(t,this.o,d)),bo(this.h,u),this.Ya&&Fn(t,"TYPE","init"),this.O?(Fn(t,"$req",e),Fn(t,"SID","null"),u.Z=!0,gi(u,t,null)):gi(u,t,e),this.G=2}}else 3==this.G&&(i?Ss(this,i):0==this.i.length||Xn(this.h)||Ss(this))},ee.Ia=function(){if(this.u=null,Ao(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ws(ze(this.eb,this),i)}},ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qn(10),us(this),Ao(this))},ee.cb=function(){null!=this.v&&(this.v=null,us(this),co(this),Qn(19))},ee.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Qn(2)):(this.j.info("Failed to ping google.com"),Qn(1))},(ee=b.prototype).xa=function(){},ee.wa=function(){},ee.va=function(){},ee.ua=function(){},ee.Ra=function(){},N.prototype.g=function(i,e){return new S(i,e)},Ie(S,st),S.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Qn(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=$s(i,null,i.V),Ui(i)},S.prototype.close=function(){Co(this.g)},S.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=an(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Ui(e)},S.prototype.M=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,S.X.M.call(this)},Ie(B,wi),Ie(ie,Pr),Ie(Se,b),Se.prototype.xa=function(){mt(this.g,"a")},Se.prototype.wa=function(i){mt(this.g,new B(i))},Se.prototype.va=function(i){mt(this.g,new ie)},Se.prototype.ua=function(){mt(this.g,"b")},N.prototype.createWebChannel=N.prototype.g,S.prototype.send=S.prototype.u,S.prototype.open=S.prototype.m,S.prototype.close=S.prototype.close,En.NO_ERROR=0,En.TIMEOUT=8,En.HTTP_ERROR=6,Zs.COMPLETE="complete",Qs.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",st.prototype.listen=st.prototype.N,Un.prototype.listenOnce=Un.prototype.O,Un.prototype.getLastError=Un.prototype.Oa,Un.prototype.getLastErrorCode=Un.prototype.Ea,Un.prototype.getStatus=Un.prototype.aa,Un.prototype.getResponseJson=Un.prototype.Sa,Un.prototype.getResponseText=Un.prototype.fa,Un.prototype.send=Un.prototype.da,Un.prototype.setWithCredentials=Un.prototype.Ka;var je=pe.createWebChannelTransport=function(){return new N},vt=pe.getStatEventTarget=function(){return ki()},$t=pe.ErrorCode=En,gn=pe.EventType=Zs,Ft=pe.Event=br,mn=pe.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Nr=pe.FetchXmlHttpFactory=Fs,zn=pe.WebChannel=Qs,kr=pe.XhrIo=Un;const lo="@firebase/firestore";class er{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");let vr="9.15.0";const Br=new ae.Yd("@firebase/firestore");function As(){return Br.logLevel}function Je(i,...e){if(Br.logLevel<=ae.in.DEBUG){const t=e.map(Mi);Br.debug(`Firestore (${vr}): ${i}`,...t)}}function Cr(i,...e){if(Br.logLevel<=ae.in.ERROR){const t=e.map(Mi);Br.error(`Firestore (${vr}): ${i}`,...t)}}function Vn(i,...e){if(Br.logLevel<=ae.in.WARN){const t=e.map(Mi);Br.warn(`Firestore (${vr}): ${i}`,...t)}}function Mi(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Dt(i="Unexpected state"){const e=`FIRESTORE (${vr}) INTERNAL ASSERTION FAILED: `+i;throw Cr(e),new Error(e)}function Ot(i,e){i||Dt()}function ht(i,e){return i}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends Z.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class al{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class va{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(er.UNAUTHENTICATED))}shutdown(){}}class Ic{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vi{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=O=>this.i!==u?(u=this.i,t(O)):Promise.resolve();let p=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Sr,e.enqueueRetryable(()=>d(this.currentUser))};const w=()=>{const O=p;e.enqueueRetryable((0,C.Z)(function*(){yield O.promise,yield d(o.currentUser)}))},R=O=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=O,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(O=>R(O)),setTimeout(()=>{if(!this.auth){const O=this.t.getImmediate({optional:!0});O?R(O):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Sr)}},0),w()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ot("string"==typeof o.accessToken),new al(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new er(e)}}class uu{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=er.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ot(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class wc{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new uu(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class js{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=d=>{null!=d.error&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.A;return this.A=d.token,Je("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.A=t.token,new cu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ho(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class ja{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=ho(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function Qt(i,e){return i<e?-1:i>e?1:0}function Hs(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}class rn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ye(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new rn(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new rn(0,0))}static max(){return new Lt(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class si{constructor(e,t,o){void 0===t?t=0:t>e.length&&Dt(),void 0===o?o=e.length-t:o>e.length-t&&Dt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===si.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),p=t.get(u);if(d<p)return-1;if(d>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Sn extends si{construct(e,t,o){return new Sn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ye(Pe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new Sn(t)}static emptyPath(){return new Sn([])}}const hs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends si{construct(e,t,o){return new Ir(e,t,o)}static isValidIdentifier(e){return hs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new Ye(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let p=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new Ye(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new Ye(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===w?(p=!p,u++):"."!==w||p?(o+=w,u++):(d(),u++)}if(d(),p)throw new Ye(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Sn.fromString(e))}static fromName(e){return new ft(Sn.fromString(e).popFirst(5))}static empty(){return new ft(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Sn(e.slice()))}}function Qo(i){return new xr(i.readTime,i.key,-1)}class xr{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new xr(Lt.min(),ft.empty(),-1)}static max(){return new xr(Lt.max(),ft.empty(),-1)}}function Ea(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=ft.comparator(i.documentKey,e.documentKey),0!==t?t:Qt(i.largestBatchId,e.largestBatchId))}const go="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Yi(i){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,C.Z)(function*(i){if(i.code!==Pe.FAILED_PRECONDITION||i.message!==go)throw i;Je("LocalStore","Unexpectedly lost primary lease")}),Ia.apply(this,arguments)}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xe((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xe?t:xe.resolve(t)}catch(t){return xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.reject(t)}static resolve(e){return new xe((t,o)=>{t(e)})}static reject(e){return new xe((t,o)=>{o(e)})}static waitFor(e){return new xe((t,o)=>{let u=0,d=0,p=!1;e.forEach(w=>{++u,w.next(()=>{++d,p&&d===u&&t()},R=>o(R))}),p=!0,d===u&&t()})}static or(e){let t=xe.resolve(!1);for(const o of e)t=t.next(u=>u?xe.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}static mapArray(e,t){return new xe((o,u)=>{const d=e.length,p=new Array(d);let w=0;for(let R=0;R<d;R++){const O=R;t(e[O]).next(G=>{p[O]=G,++w,w===d&&o(p)},G=>u(G))}})}static doWhile(e,t){return new xe((o,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):o()};d()})}}function $r(i){return"IndexedDbTransactionError"===i.name}let $i=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>o.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Zn{constructor(e,t,o,u,d,p,w,R){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=w,this.useFetchStreams=R}}class ea{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}function Ta(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ba(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Dc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function hu(i){return null==i}function ku(i){return 0===i&&1/i==-1/0}class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new qr(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(i){if(Ot(!!i),"string"==typeof i){let e=0;const t=cl.exec(i);if(Ot(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ar(i.seconds),nanos:ar(i.nanos)}}function ar(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ms(i){return"string"==typeof i?qr.fromBase64String(i):qr.fromUint8Array(i)}function Wa(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Tc(i){const e=i.mapValue.fields.__previous_value__;return Wa(e)?Tc(e):e}function jr(i){const e=sr(i.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}const yi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Xi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wa(i)?4:Bn(i)?9007199254740991:10:Dt()}function oi(i,e){if(i===e)return!0;const t=Xi(i);if(t!==Xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return jr(i).isEqual(jr(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=sr(o.timestampValue),p=sr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Ms(i.bytesValue).isEqual(Ms(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ar(o.geoPointValue.latitude)===ar(u.geoPointValue.latitude)&&ar(o.geoPointValue.longitude)===ar(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ar(o.integerValue)===ar(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=ar(o.doubleValue),p=ar(u.doubleValue);return d===p?ku(d)===ku(p):isNaN(d)&&isNaN(p)}return!1}(i,e);case 9:return Hs(i.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:return function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Ta(d)!==Ta(p))return!1;for(const w in d)if(d.hasOwnProperty(w)&&(void 0===p[w]||!oi(d[w],p[w])))return!1;return!0}(i,e);default:return Dt()}var u}function v(i,e){return void 0!==(i.values||[]).find(t=>oi(t,e))}function _(i,e){if(i===e)return 0;const t=Xi(i),o=Xi(e);if(t!==o)return Qt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(i.booleanValue,e.booleanValue);case 2:return function(u,d){const p=ar(u.integerValue||u.doubleValue),w=ar(d.integerValue||d.doubleValue);return p<w?-1:p>w?1:p===w?0:isNaN(p)?isNaN(w)?0:-1:1}(i,e);case 3:return y(i.timestampValue,e.timestampValue);case 4:return y(jr(i),jr(e));case 5:return Qt(i.stringValue,e.stringValue);case 6:return function(u,d){const p=Ms(u),w=Ms(d);return p.compareTo(w)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const p=u.split("/"),w=d.split("/");for(let R=0;R<p.length&&R<w.length;R++){const O=Qt(p[R],w[R]);if(0!==O)return O}return Qt(p.length,w.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const p=Qt(ar(u.latitude),ar(d.latitude));return 0!==p?p:Qt(ar(u.longitude),ar(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const p=u.values||[],w=d.values||[];for(let R=0;R<p.length&&R<w.length;++R){const O=_(p[R],w[R]);if(O)return O}return Qt(p.length,w.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===yi_mapValue&&d===yi_mapValue)return 0;if(u===yi_mapValue)return 1;if(d===yi_mapValue)return-1;const p=u.fields||{},w=Object.keys(p),R=d.fields||{},O=Object.keys(R);w.sort(),O.sort();for(let G=0;G<w.length&&G<O.length;++G){const se=Qt(w[G],O[G]);if(0!==se)return se;const De=_(p[w[G]],R[O[G]]);if(0!==De)return De}return Qt(w.length,O.length)}(i.mapValue,e.mapValue);default:throw Dt()}}function y(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Qt(i,e);const t=sr(i),o=sr(e),u=Qt(t.seconds,o.seconds);return 0!==u?u:Qt(t.nanos,o.nanos)}function D(i){return x(i)}function x(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=sr(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ms(i.bytesValue).toBase64():"referenceValue"in i?ft.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const p of o.values||[])d?d=!1:u+=",",u+=x(p);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",p=!0;for(const w of u)p?p=!1:d+=",",d+=`${w}:${x(o.fields[w])}`;return d+"}"}(i.mapValue):Dt();var e}function z(i){return!!i&&"integerValue"in i}function X(i){return!!i&&"arrayValue"in i}function Me(i){return!!i&&"nullValue"in i}function lt(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zt(i){return!!i&&"mapValue"in i}function wt(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ba(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=wt(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wt(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Bn(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ri{constructor(e,t){this.position=e,this.inclusive=t}}function Gs(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],p=i.position[u];if(o=d.field.isKeyField()?ft.comparator(ft.fromName(p.referenceValue),t.key):_(p,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Ca(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!oi(i.position[t],e.position[t]))return!1;return!0}class Rs{}class bn extends Rs{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new U(e,t,o):"array-contains"===t?new tt(e,o):"in"===t?new St(e,o):"not-in"===t?new Vt(e,o):"array-contains-any"===t?new Wt(e,o):new bn(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Q(e,o):new ye(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_(t,this.value)):null!==t&&Xi(this.value)===Xi(t)&&this.matchesComparison(_(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends Rs{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new vn(e,t)}matches(e){return Sa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Sa(i){return"and"===i.op}function ad(i){return function bc(i){for(const e of i.filters)if(e instanceof vn)return!1;return!0}(i)&&Sa(i)}function Aa(i){if(i instanceof bn)return i.field.canonicalString()+i.op.toString()+D(i.value);{const e=i.filters.map(t=>Aa(t)).join(",");return`${i.op}(${e})`}}function ta(i,e){return i instanceof bn?(t=i,(o=e)instanceof bn&&t.op===o.op&&t.field.isEqual(o.field)&&oi(t.value,o.value)):i instanceof vn?function(t,o){return o instanceof vn&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,d,p)=>u&&ta(d,o.filters[p]),!0)}(i,e):void Dt();var t,o}function M(i){return i instanceof bn?`${(e=i).field.canonicalString()} ${e.op} ${D(e.value)}`:i instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(M).join(" ,")+"}"}(i):"Filter";var e}class U extends bn{constructor(e,t,o){super(e,t,o),this.key=ft.fromName(o.referenceValue)}matches(e){const t=ft.comparator(e.key,this.key);return this.matchesComparison(t)}}class Q extends bn{constructor(e,t){super(e,"in",t),this.keys=be(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ye extends bn{constructor(e,t){super(e,"not-in",t),this.keys=be(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function be(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>ft.fromName(o.referenceValue))}class tt extends bn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return X(t)&&v(t.arrayValue,this.value)}}class St extends bn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&v(this.value.arrayValue,t)}}class Vt extends bn{constructor(e,t){super(e,"not-in",t)}matches(e){if(v(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!v(this.value.arrayValue,t)}}class Wt extends bn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!X(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>v(this.value.arrayValue,o))}}class en{constructor(e,t="asc"){this.field=e,this.dir=t}}function tn(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class In{constructor(e,t){this.comparator=e,this.root=t||Mr.EMPTY}insert(e,t){return new In(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gr(this.root,e,this.comparator,!0)}}class Gr{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=o??Mr.RED,this.left=u??Mr.EMPTY,this.right=d??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new Mr(e??this.key,t??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Mr.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1,Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(i,e,t,o,u){return this}insert(i,e,t){return new Mr(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new No(this.data.getIterator())}getIteratorFrom(e){return new No(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new On(this.comparator);return t.data=e,t}}class No{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wr{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new Wr([])}unionWith(e){let t=new On(Ir.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Zt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wt(t)}setAll(e){let t=Ir.emptyPath(),o={},u=[];e.forEach((p,w)=>{if(!t.isImmediateParentOf(w)){const R=this.getFieldsMap(t);this.applyChanges(R,o,u),o={},u=[],t=w.popLast()}p?o[w.lastSegment()]=wt(p):u.push(w.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());Zt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Zt(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){ba(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new ui(wt(this.value))}}function pu(i){const e=[];return ba(i.fields,(t,o)=>{const u=new Ir([t]);if(Zt(o)){const d=pu(o.mapValue).fields;if(0===d.length)e.push(u);else for(const p of d)e.push(u.child(p))}else e.push(u)}),new Wr(e)}class or{constructor(e,t,o,u,d,p,w){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=d,this.data=p,this.documentState=w}static newInvalidDocument(e){return new or(e,0,Lt.min(),Lt.min(),Lt.min(),ui.empty(),0)}static newFoundDocument(e,t,o,u){return new or(e,1,t,Lt.min(),o,u,0)}static newNoDocument(e,t){return new or(e,2,t,Lt.min(),Lt.min(),ui.empty(),0)}static newUnknownDocument(e,t){return new or(e,3,t,Lt.min(),Lt.min(),ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cp{constructor(e,t=null,o=[],u=[],d=null,p=null,w=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=p,this.endAt=w,this.ft=null}}function Oh(i,e=null,t=[],o=[],u=null,d=null,p=null){return new cp(i,e,t,o,u,d,p)}function za(i){const e=ht(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Aa(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),hu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>D(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>D(o)).join(",")),e.ft=t}return e.ft}function gu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!tn(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!ta(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ca(i.startAt,e.startAt)&&Ca(i.endAt,e.endAt)}function ud(i){return ft.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ys{constructor(e,t=null,o=[],u=[],d=null,p="F",w=null,R=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=p,this.startAt=w,this.endAt=R,this.dt=null,this._t=null}}function Lu(i){return new ys(i)}function dd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function mu(i){const e=ht(i);if(null===e.dt){e.dt=[];const t=function Cc(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),o=function Fh(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new en(t)),e.dt.push(new en(Ir.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new en(Ir.keyField(),d))}}}return e.dt}function vs(i){const e=ht(i);if(!e._t)if("F"===e.limitType)e._t=Oh(e.path,e.collectionGroup,mu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of mu(e))t.push(new en(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Ri(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Ri(e.startAt.position,e.startAt.inclusive):null;e._t=Oh(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e._t}function hd(i,e,t){return new ys(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function dl(i,e){return gu(vs(i),vs(e))&&i.limitType===e.limitType}function hl(i){return`${za(vs(i))}|lt:${i.limitType}`}function Vh(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>M(o)).join(", ")}]`),hu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>D(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>D(o)).join(",")),`Target(${t})`}(vs(i))}; limitType=${i.limitType})`}function Bh(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):ft.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of mu(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,p){const w=Gs(u,d,p);return u.inclusive?w<=0:w<0}(t.startAt,mu(t),o)||t.endAt&&!function(u,d,p){const w=Gs(u,d,p);return u.inclusive?w>=0:w>0}(t.endAt,mu(t),o)));var t,o}function lp(i){return(e,t)=>{let o=!1;for(const u of mu(i)){const d=um(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function um(i,e,t){const o=i.field.isKeyField()?ft.comparator(e.key,t.key):function(u,d,p){const w=d.data.field(u),R=p.data.field(u);return null!==w&&null!==R?_(w,R):Dt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Dt()}}function jh(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function fd(i){return{integerValue:""+i}}function Sc(i,e){return function fu(i){return"number"==typeof i&&Number.isInteger(i)&&!ku(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?fd(e):jh(i,e)}class Ac{constructor(){this._=void 0}}function fl(i,e,t){return i instanceof xc?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof Ka?hp(i,e):i instanceof xa?Mc(i,e):function(o,u){const d=ko(o,u),p=Hh(d)+Hh(o.gt);return z(d)&&z(o.gt)?fd(p):jh(o.yt,p)}(i,e)}function dp(i,e,t){return i instanceof Ka?hp(i,e):i instanceof xa?Mc(i,e):t}function ko(i,e){return i instanceof Fu?z(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class xc extends Ac{}class Ka extends Ac{constructor(e){super(),this.elements=e}}function hp(i,e){const t=Gh(e);for(const o of i.elements)t.some(u=>oi(u,o))||t.push(o);return{arrayValue:{values:t}}}class xa extends Ac{constructor(e){super(),this.elements=e}}function Mc(i,e){let t=Gh(e);for(const o of i.elements)t=t.filter(u=>!oi(u,o));return{arrayValue:{values:t}}}class Fu extends Ac{constructor(e,t){super(),this.yt=e,this.gt=t}}function Hh(i){return ar(i.integerValue||i.doubleValue)}function Gh(i){return X(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Wh{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Vu{}function Bu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ju(i.key,Mn.none()):new $u(i.key,i.data,Mn.none());{const t=i.data,o=ui.empty();let u=new On(Ir.comparator);for(let d of e.fields)if(!u.has(d)){let p=t.field(d);null===p&&d.length>1&&(d=d.popLast(),p=t.field(d)),null===p?o.delete(d):o.set(d,p),u=u.add(d)}return new Ma(i.key,o,new Wr(u.toArray()),Mn.none())}}function ji(i,e,t){i instanceof $u?function(o,u,d){const p=o.value.clone(),w=pd(o.fieldTransforms,u,d.transformResults);p.setAll(w),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,e,t):i instanceof Ma?function(o,u,d){if(!Rc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=pd(o.fieldTransforms,u,d.transformResults),w=u.data;w.setAll(pp(o)),w.setAll(p),u.convertToFoundDocument(d.version,w).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function qa(i,e,t,o){return i instanceof $u?function(u,d,p,w){if(!Rc(u.precondition,d))return p;const R=u.value.clone(),O=gp(u.fieldTransforms,w,d);return R.setAll(O),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),null}(i,e,t,o):i instanceof Ma?function(u,d,p,w){if(!Rc(u.precondition,d))return p;const R=gp(u.fieldTransforms,w,d),O=d.data;return O.setAll(pp(u)),O.setAll(R),d.convertToFoundDocument(d.version,O).setHasLocalMutations(),null===p?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(G=>G.field))}(i,e,t,o):(p=t,Rc(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p);var d,p}function pl(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=ko(o.transform,u||null);null!=d&&(null===t&&(t=ui.empty()),t.set(o.field,d))}return t||null}function zh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Hs(t,o,(u,d)=>function fp(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Ka&&o instanceof Ka||t instanceof xa&&o instanceof xa?Hs(t.elements,o.elements,oi):t instanceof Fu&&o instanceof Fu?oi(t.gt,o.gt):t instanceof xc&&o instanceof xc);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class $u extends Vu{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ma extends Vu{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function pp(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function pd(i,e,t){const o=new Map;Ot(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],p=d.transform,w=e.data.field(d.field);o.set(d.field,dp(p,w,t[u]))}return o}function gp(i,e,t){const o=new Map;for(const u of i){const d=u.transform,p=t.data.field(u.field);o.set(u.field,fl(d,p,e))}return o}class ju extends Vu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kh extends Vu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cm{constructor(e){this.count=e}}var Qr,$n;function mp(i){switch(i){default:return Dt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function qh(i){if(void 0===i)return Cr("GRPC error has no .code"),Pe.UNKNOWN;switch(i){case Qr.OK:return Pe.OK;case Qr.CANCELLED:return Pe.CANCELLED;case Qr.UNKNOWN:return Pe.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return Pe.INTERNAL;case Qr.UNAVAILABLE:return Pe.UNAVAILABLE;case Qr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Qr.NOT_FOUND:return Pe.NOT_FOUND;case Qr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Qr.ABORTED:return Pe.ABORTED;case Qr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Qr.DATA_LOSS:return Pe.DATA_LOSS;default:return Dt()}}($n=Qr||(Qr={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";class vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return Dc(this.inner)}size(){return this.innerSize}}const gl=new In(ft.comparator);function Ws(){return gl}const yp=new In(ft.comparator);function Hu(...i){let e=yp;for(const t of i)e=e.insert(t.key,t);return e}function gd(i){let e=yp;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function na(){return Ra()}function lm(){return Ra()}function Ra(){return new vu(i=>i.toString(),(i,e)=>i.isEqual(e))}const Zh=new In(ft.comparator),vp=new On(ft.comparator);function wn(...i){let e=vp;for(const t of i)e=e.add(t);return e}const Yh=new On(Qt);function md(){return Yh}class ml{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new ml(Lt.min(),u,md(),Ws(),wn())}}class yl{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new yl(o,t,wn(),wn(),wn())}}class yd{constructor(e,t,o,u){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=u}}class _p{constructor(e,t){this.targetId=e,this.Et=t}}class Ep{constructor(e,t,o=qr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Qh{constructor(){this.At=0,this.Rt=vd(),this.bt=qr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=wn(),t=wn(),o=wn();return this.Rt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Dt()}}),new yl(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=vd()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Xh{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ws(),this.qt=Jh(),this.Ut=new On(Qt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:Dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,u)=>{this.zt(u)&&t(u)})}Jt(e){const t=e.targetId,o=e.Et.count,u=this.Yt(t);if(u){const d=u.target;if(ud(d))if(0===o){const p=new ft(d.path);this.Qt(t,p,or.newNoDocument(p,Lt.min()))}else Ot(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((d,p)=>{const w=this.Yt(p);if(w){if(d.current&&ud(w.target)){const R=new ft(w.target.path);null!==this.Lt.get(R)||this.te(p,R)||this.Qt(p,R,or.newNoDocument(R,e))}d.St&&(t.set(p,d.Ct()),d.xt())}});let o=wn();this.qt.forEach((d,p)=>{let w=!0;p.forEachWhile(R=>{const O=this.Yt(R);return!O||2===O.purpose||(w=!1,!1)}),w&&(o=o.add(d))}),this.Lt.forEach((d,p)=>p.setReadTime(e));const u=new ml(e,t,this.Ut,this.Lt,o);return this.Lt=Ws(),this.qt=Jh(),this.Ut=new On(Qt),u}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const u=this.Wt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Qh,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new On(Qt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Je("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Qh),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Jh(){return new In(ft.comparator)}function vd(){return new In(ft.comparator)}const dm={asc:"ASCENDING",desc:"DESCENDING"},hm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ip={and:"AND",or:"OR"};class wp{constructor(e,t){this.databaseId=e,this.wt=t}}function Oo(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ef(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Dp(i,e){return Oo(i,e.toTimestamp())}function ci(i){return Ot(!!i),Lt.fromTimestamp(function(e){const t=sr(e);return new rn(t.seconds,t.nanos)}(i))}function Tp(i,e){return(t=i,new Sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function vl(i){const e=Sn.fromString(i);return Ot(af(e)),e}function _l(i,e){return Tp(i.databaseId,e.path)}function ra(i,e){const t=vl(e);if(t.get(1)!==i.databaseId.projectId)throw new Ye(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ye(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ft(nf(t))}function _d(i,e){return Tp(i.databaseId,e)}function Gu(i){return new Sn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nf(i){return Ot(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function El(i,e,t){return{name:_l(i,e),fields:t.value.mapValue.fields}}function Cp(i,e){return{documents:[_d(i,e.path)]}}function zu(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=_d(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_d(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(R){if(0!==R.length)return sf(vn.create(R,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const d=function(R){if(0!==R.length)return R.map(O=>{return{field:mo((G=O).field),direction:Id(G.dir)};var G})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=(O=e.limit,i.wt||hu(O)?O:{value:O});var O,w,R;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(t.structuredQuery.endAt={before:!(R=e.endAt).inclusive,values:R.position}),t}function Ed(i){let e=function tf(i){const e=vl(i);return 4===e.length?Sn.emptyPath():nf(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){Ot(1===o);const G=t.from[0];G.allDescendants?u=G.collectionId:e=e.child(G.collectionId)}let d=[];t.where&&(d=function(G){const se=vi(G);return se instanceof vn&&ad(se)?se.getFilters():[se]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(G=>{return new en(Ku((se=G).field),function(De){switch(De){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(se.direction));var se}));let w=null;t.limit&&(w=function(G){let se;return se="object"==typeof G?G.value:G,hu(se)?null:se}(t.limit));let R=null;var G;t.startAt&&(R=new Ri((G=t.startAt).values||[],!!G.before));let O=null;return t.endAt&&(O=function(G){return new Ri(G.values||[],!G.before)}(t.endAt)),function ld(i,e,t,o,u,d,p,w){return new ys(i,e,t,o,u,d,p,w)}(e,u,p,d,w,"F",R,O)}function vi(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ku(e.unaryFilter.field);return bn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Ku(e.unaryFilter.field);return bn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ku(e.unaryFilter.field);return bn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ku(e.unaryFilter.field);return bn.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(i):void 0!==i.fieldFilter?bn.create(Ku((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return vn.create(e.compositeFilter.filters.map(t=>vi(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Dt()}}(e.compositeFilter.op))}(i):Dt();var e}function Id(i){return dm[i]}function _u(i){return hm[i]}function Pc(i){return Ip[i]}function mo(i){return{fieldPath:i.canonicalString()}}function Ku(i){return Ir.fromServerFormat(i.fieldPath)}function sf(i){return i instanceof bn?function(e){if("=="===e.op){if(lt(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NAN"}};if(Me(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lt(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NAN"}};if(Me(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(e.field),op:_u(e.op),value:e.value}}}(i):i instanceof vn?function(e){const t=e.getFilters().map(o=>sf(o));return 1===t.length?t[0]:{compositeFilter:{op:Pc(e.op),filters:t}}}(i):Dt()}function Ap(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function af(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Iu{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&ji(d,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=qa(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=qa(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=lm();return this.mutations.forEach(u=>{const d=e.get(u.key),p=d.overlayedDocument;let w=this.applyToLocalView(p,d.mutatedFields);w=t.has(u.key)?null:w;const R=Bu(p,w);null!==R&&o.set(u.key,R),p.isValidDocument()||p.convertToNoDocument(Lt.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wn())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(t,o)=>zh(t,o))&&Hs(this.baseMutations,e.baseMutations,(t,o)=>zh(t,o))}}class Yu{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){Ot(e.mutations.length===o.length);let u=Zh;const d=e.mutations;for(let p=0;p<d.length;p++)u=u.insert(d[p].key,o[p].version);return new Yu(e,t,o,u)}}class Qu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Na{constructor(e,t,o,u,d=Lt.min(),p=Lt.min(),w=qr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=w}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ad{constructor(e){this.ie=e}}function Oc(i){const e=Ed({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?hd(e,e.limit,"L"):e}class Du{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ar(e.integerValue));else if("doubleValue"in e){const o=ar(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),ku(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Ms(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?Bn(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Dt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const u of Object.keys(o))this.de(u,t),this.ce(o[u],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const u of o)this.ce(u,t)}me(e,t){this.he(t,37),ft.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Du.Ie=new Du;class mm{constructor(){this.Je=new pf}addToCollectionParentIndex(e,t){return this.Je.add(t),xe.resolve()}getCollectionParents(e,t){return xe.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return xe.resolve()}deleteFieldIndex(e,t){return xe.resolve()}getDocumentsMatchingTarget(e,t){return xe.resolve(null)}getIndexType(e,t){return xe.resolve(0)}getFieldIndexes(e,t){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,t){return xe.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return xe.resolve(xr.min())}updateCollectionGroup(e,t,o){return xe.resolve()}updateIndexEntries(e,t){return xe.resolve()}}class pf{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new On(Sn.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new On(Sn.comparator)).toArray()}}new Uint8Array(0);class Gi{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(41943040,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);class Fo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Fo(0)}static vn(){return new Fo(-1)}}class jp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kd{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&qa(o.mutation,u,Wr.empty(),rn.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,wn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=wn()){const u=na();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(d=>{let p=Hu();return d.forEach((w,R)=>{p=p.insert(w,R.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const o=na();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,wn()))}populateOverlays(e,t,o){const u=[];return o.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((p,w)=>{t.set(p,w)})})}computeViews(e,t,o,u){let d=Ws();const p=Ra(),w=Ra();return t.forEach((R,O)=>{const G=o.get(O.key);u.has(O.key)&&(void 0===G||G.mutation instanceof Ma)?d=d.insert(O.key,O):void 0!==G&&(p.set(O.key,G.mutation.getFieldMask()),qa(G.mutation,O,G.mutation.getFieldMask(),rn.now()))}),this.recalculateAndSaveOverlays(e,d).next(R=>(R.forEach((O,G)=>p.set(O,G)),t.forEach((O,G)=>{var se;return w.set(O,new jp(G,null!==(se=p.get(O))&&void 0!==se?se:null))}),w))}recalculateAndSaveOverlays(e,t){const o=Ra();let u=new In((p,w)=>p-w),d=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const w of p)w.keys().forEach(R=>{const O=t.get(R);if(null===O)return;let G=o.get(R)||Wr.empty();G=w.applyToLocalView(O,G),o.set(R,G);const se=(u.get(w.batchId)||wn()).add(R);u=u.insert(w.batchId,se)})}).next(()=>{const p=[],w=u.getReverseIterator();for(;w.hasNext();){const R=w.getNext(),O=R.key,G=R.value,se=lm();G.forEach(De=>{if(!d.has(De)){const Ge=Bu(t.get(De),o.get(De));null!==Ge&&se.set(De,Ge),d=d.add(De)}}),p.push(this.documentOverlayCache.saveOverlays(e,O,se))}return xe.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return ft.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Uh(i){return null!==i.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(d=>{const p=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-d.size):xe.resolve(na());let w=-1,R=d;return p.next(O=>xe.forEach(O,(G,se)=>(w<se.largestBatchId&&(w=se.largestBatchId),d.get(G)?xe.resolve():this.remoteDocumentCache.getEntry(e,G).next(De=>{R=R.insert(G,De)}))).next(()=>this.populateOverlays(e,O,d)).next(()=>this.computeViews(e,R,O,wn())).next(G=>({batchId:w,changes:gd(G)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ft(t)).next(o=>{let u=Hu();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let d=Hu();return this.indexManager.getCollectionParents(e,u).next(p=>xe.forEach(p,w=>{const R=(O=t,G=w.child(u),new ys(G,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt));var O,G;return this.getDocumentsMatchingCollectionQuery(e,R,o).next(O=>{O.forEach((G,se)=>{d=d.insert(G,se)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(d=>{d.forEach((w,R)=>{const O=R.getKey();null===u.get(O)&&(u=u.insert(O,or.newInvalidDocument(O)))});let p=Hu();return u.forEach((w,R)=>{const O=d.get(w);void 0!==O&&qa(O.mutation,R,Wr.empty(),rn.now()),Bh(t,R)&&(p=p.insert(w,R))}),p})}}class Vl{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return xe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:ci(o.createTime)}),xe.resolve()}getNamedQuery(e,t){return xe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Oc(o.bundledQuery),readTime:ci(o.readTime)}),xe.resolve();var o}}class _f{constructor(){this.overlays=new In(ft.comparator),this.es=new Map}getOverlay(e,t){return xe.resolve(this.overlays.get(t))}getOverlays(e,t){const o=na();return xe.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.oe(e,t,d)}),xe.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),xe.resolve()}getOverlaysForCollection(e,t,o){const u=na(),d=t.length+1,p=new ft(t.child("")),w=this.overlays.getIteratorFrom(p);for(;w.hasNext();){const R=w.getNext().value,O=R.getKey();if(!t.isPrefixOf(O.path))break;O.path.length===d&&R.largestBatchId>o&&u.set(R.getKey(),R)}return xe.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new In((O,G)=>O-G);const p=this.overlays.getIterator();for(;p.hasNext();){const O=p.getNext().value;if(O.getKey().getCollectionGroup()===t&&O.largestBatchId>o){let G=d.get(O.largestBatchId);null===G&&(G=na(),d=d.insert(O.largestBatchId,G)),G.set(O.getKey(),O)}}const w=na(),R=d.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((O,G)=>w.set(O,G)),!(w.size()>=u)););return xe.resolve(w)}oe(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const p=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Qu(t,o));let d=this.es.get(t);void 0===d&&(d=wn(),this.es.set(t,d)),this.es.set(t,d.add(o.key))}}class sc{constructor(){this.ns=new On(li.ss),this.rs=new On(li.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new li(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new li(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new ft(new Sn([])),o=new li(t,e),u=new li(t,e+1),d=[];return this.rs.forEachInRange([o,u],p=>{this.cs(p),d.push(p.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ft(new Sn([])),o=new li(t,e),u=new li(t,e+1);let d=wn();return this.rs.forEachInRange([o,u],p=>{d=d.add(p.key)}),d}containsKey(e){const t=new li(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class li{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ft.comparator(e.key,t.key)||Qt(e._s,t._s)}static os(e,t){return Qt(e._s,t._s)||ft.comparator(e.key,t.key)}}class _m{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new On(li.ss)}checkEmpty(e){return xe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const d=this.ws;this.ws++;const p=new Iu(d,t,o,u);this.mutationQueue.push(p);for(const w of u)this.gs=this.gs.add(new li(w.key,d)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return xe.resolve(p)}lookupMutationBatch(e,t){return xe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return xe.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new li(t,0),u=new li(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],p=>{const w=this.ys(p._s);d.push(w)}),xe.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new On(Qt);return t.forEach(u=>{const d=new li(u,0),p=new li(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,p],w=>{o=o.add(w._s)})}),xe.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;ft.isDocumentKey(d)||(d=d.child(""));const p=new li(new ft(d),0);let w=new On(Qt);return this.gs.forEachWhile(R=>{const O=R.key.path;return!!o.isPrefixOf(O)&&(O.length===u&&(w=w.add(R._s)),!0)},p),xe.resolve(this.Is(w))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Ot(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return xe.forEach(t.mutations,u=>{const d=new li(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new li(t,0),u=this.gs.firstAfterOrEqual(o);return xe.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return xe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ef{constructor(e){this.Es=e,this.docs=new In(ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,p=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return xe.resolve(o?o.document.mutableCopy():or.newInvalidDocument(t))}getEntries(e,t){let o=Ws();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():or.newInvalidDocument(u))}),xe.resolve(o)}getAllFromCollection(e,t,o){let u=Ws();const d=new ft(t.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:w,value:{document:R}}=p.getNext();if(!t.isPrefixOf(w.path))break;w.path.length>t.length+1||Ea(Qo(R),o)<=0||(u=u.insert(R.key,R.mutableCopy()))}return xe.resolve(u)}getAllFromCollectionGroup(e,t,o,u){Dt()}As(e,t){return xe.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new qc(this)}getSize(e){return xe.resolve(this.size)}}class qc extends class $p{constructor(){this.changes=new vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?xe.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),xe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Bl{constructor(e){this.persistence=e,this.Rs=new vu(t=>za(t),gu),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new sc,this.targetCount=0,this.vs=Fo.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),xe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,xe.resolve()}updateTargetData(e,t){return this.Dn(t),xe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.Rs.forEach((p,w)=>{w.sequenceNumber<=t&&null===o.get(w.targetId)&&(this.Rs.delete(p),d.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),xe.waitFor(d).next(()=>u)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return xe.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),xe.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(p=>{d.push(u.markPotentiallyOrphaned(e,p))}),xe.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),xe.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return xe.resolve(o)}containsKey(e,t){return xe.resolve(this.Ps.containsKey(t))}}class Od{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new $i(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Bl(this),this.indexManager=new mm,this.remoteDocumentCache=new Ef(o=>this.referenceDelegate.xs(o)),this.yt=new Ad(t),this.Ns=new Vl(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _f,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new _m(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Je("MemoryPersistence","Starting transaction:",e);const u=new Hp(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Os(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ms(e,t){return xe.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Hp extends class du{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Ld{constructor(e){this.persistence=e,this.Fs=new sc,this.$s=null}static Bs(e){return new Ld(e)}get Ls(){if(this.$s)return this.$s;throw Dt()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),xe.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),xe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),xe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Ls,o=>{const u=ft.fromPath(o);return this.qs(e,u).next(d=>{d||t.removeEntry(u,Lt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return xe.or([()=>xe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Gp{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=wn(),u=wn();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Gp(e,t.fromCache,o,u)}}class Em{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(d=>d||this.Oi(e,t,u,o)).next(d=>d||this.Mi(e,t))}ki(e,t){if(dd(t))return xe.resolve(null);let o=vs(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=hd(t,null,"F"),o=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const p=wn(...d);return this.Ni.getDocuments(e,p).next(w=>this.indexManager.getMinOffset(e,o).next(R=>{const O=this.Fi(t,w);return this.$i(t,O,p,R.readTime)?this.ki(e,hd(t,null,"F")):this.Bi(e,O,t,R)}))})))}Oi(e,t,o,u){return dd(t)||u.isEqual(Lt.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(d=>{const p=this.Fi(t,d);return this.$i(t,p,o,u)?this.Mi(e,t):(As()<=ae.in.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Vh(t)),this.Bi(e,p,t,function Ar(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Lt.fromTimestamp(1e9===o?new rn(t+1,0):new rn(t,o));return new xr(u,ft.empty(),e)}(u,-1)))})}Fi(e,t){let o=new On(lp(e));return t.forEach((u,d)=>{Bh(e,d)&&(o=o.add(d))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Mi(e,t){return As()<=ae.in.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",Vh(t)),this.Ni.getDocumentsMatchingQuery(e,t,xr.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(t.forEach(p=>{d=d.insert(p.key,p)}),d))}}class Wp{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.yt=u,this.qi=new In(Qt),this.Ui=new vu(d=>za(d),gu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Bd(i,e){return zp.apply(this,arguments)}function zp(){return zp=(0,C.Z)(function*(i,e){const t=ht(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const p=[],w=[];let R=wn();for(const O of u){p.push(O.batchId);for(const G of O.mutations)R=R.add(G.key)}for(const O of d){w.push(O.batchId);for(const G of O.mutations)R=R.add(G.key)}return t.localDocuments.getDocuments(o,R).next(O=>({ji:O,removedBatchIds:p,addedBatchIds:w}))})})}),zp.apply(this,arguments)}function wf(i,e){const t=ht(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(p,w,R,O){const G=R.batch,se=G.keys();let De=xe.resolve();return se.forEach(Ge=>{De=De.next(()=>O.getEntry(w,Ge)).next(rt=>{const Tt=R.docVersions.get(Ge);Ot(null!==Tt),rt.version.compareTo(Tt)<0&&(G.applyToRemoteDocument(rt,R),rt.isValidDocument()&&(rt.setReadTime(R.commitVersion),O.addEntry(rt)))})}),De.next(()=>p.mutationQueue.removeMutationBatch(w,G))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let w=wn();for(let R=0;R<p.mutationResults.length;++R)p.mutationResults[R].transformResults.length>0&&(w=w.add(p.batch.mutations[R].key));return w}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function Kp(i){const e=ht(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function qp(i,e){const t=ht(i),o=e.snapshotVersion;let u=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.qi;const w=[];e.targetChanges.forEach((G,se)=>{const De=u.get(se);if(!De)return;w.push(t.Cs.removeMatchingKeys(d,G.removedDocuments,se).next(()=>t.Cs.addMatchingKeys(d,G.addedDocuments,se)));let Ge=De.withSequenceNumber(d.currentSequenceNumber);var rt,Tt,Ht;e.targetMismatches.has(se)?Ge=Ge.withResumeToken(qr.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):G.resumeToken.approximateByteSize()>0&&(Ge=Ge.withResumeToken(G.resumeToken,o)),u=u.insert(se,Ge),Tt=Ge,Ht=G,(0===(rt=De).resumeToken.approximateByteSize()||Tt.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=3e8||Ht.addedDocuments.size+Ht.modifiedDocuments.size+Ht.removedDocuments.size>0)&&w.push(t.Cs.updateTargetData(d,Ge))});let R=Ws(),O=wn();if(e.documentUpdates.forEach(G=>{e.resolvedLimboDocuments.has(G)&&w.push(t.persistence.referenceDelegate.updateLimboDocument(d,G))}),w.push(function Df(i,e,t){let o=wn(),u=wn();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let p=Ws();return t.forEach((w,R)=>{const O=d.get(w);R.isFoundDocument()!==O.isFoundDocument()&&(u=u.add(w)),R.isNoDocument()&&R.version.isEqual(Lt.min())?(e.removeEntry(w,R.readTime),p=p.insert(w,R)):!O.isValidDocument()||R.version.compareTo(O.version)>0||0===R.version.compareTo(O.version)&&O.hasPendingWrites?(e.addEntry(R),p=p.insert(w,R)):Je("LocalStore","Ignoring outdated watch update for ",w,". Current version:",O.version," Watch version:",R.version)}),{Wi:p,zi:u}})}(d,p,e.documentUpdates).next(G=>{R=G.Wi,O=G.zi})),!o.isEqual(Lt.min())){const G=t.Cs.getLastRemoteSnapshotVersion(d).next(se=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));w.push(G)}return xe.waitFor(w).next(()=>p.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,R,O)).next(()=>R)}).then(d=>(t.qi=u,d))}function wm(i,e){const t=ht(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function _s(i,e){const t=ht(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(d=>d?(u=d,xe.resolve(u)):t.Cs.allocateTargetId(o).next(p=>(u=new Na(e,p,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.qi.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function Zc(i,e,t){return jl.apply(this,arguments)}function jl(){return jl=(0,C.Z)(function*(i,e,t){const o=ht(i),u=o.qi.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,p=>o.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!$r(p))throw p;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.qi=o.qi.remove(e),o.Ui.delete(u.target)}),jl.apply(this,arguments)}function $d(i,e,t){const o=ht(i);let u=Lt.min(),d=wn();return o.persistence.runTransaction("Execute query","readonly",p=>function(w,R,O){const G=ht(w),se=G.Ui.get(O);return void 0!==se?xe.resolve(G.qi.get(se)):G.Cs.getTargetData(R,O)}(o,p,vs(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(p,w.targetId).next(R=>{d=R})}).next(()=>o.Li.getDocumentsMatchingQuery(p,e,t?u:Lt.min(),t?d:wn())).next(w=>(function Qp(i,e,t){let o=i.Ki.get(e)||Lt.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}(o,function $h(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),w),{documents:w,Hi:d})))}class Cf{constructor(){this.activeTargetIds=md()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jp{constructor(){this.Lr=new Cf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Cf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eg{Ur(e){}shutdown(){}}class Tm{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const tg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ng{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class oc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,d){const p=this.ho(e,t);Je("RestConnection","Sending: ",p,o);const w={};return this.lo(w,u,d),this.fo(e,p,w,o).then(R=>(Je("RestConnection","Received: ",R),R),R=>{throw Vn("RestConnection",`${e} failed with error: `,R,"url: ",p,"request:",o),R})}_o(e,t,o,u,d,p){return this.ao(e,t,o,u,d)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+vr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,t){return`${this.oo}/v1/${t}:${tg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((d,p)=>{const w=new kr;w.setWithCredentials(!0),w.listenOnce(gn.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case $t.NO_ERROR:const O=w.getResponseJson();Je("Connection","XHR received:",JSON.stringify(O)),d(O);break;case $t.TIMEOUT:Je("Connection",'RPC "'+e+'" timed out'),p(new Ye(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case $t.HTTP_ERROR:const G=w.getStatus();if(Je("Connection",'RPC "'+e+'" failed with status:',G,"response text:",w.getResponseText()),G>0){let se=w.getResponseJson();Array.isArray(se)&&(se=se[0]);const De=se?.error;if(De&&De.status&&De.message){const Ge=function(rt){const Tt=rt.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(Tt)>=0?Tt:Pe.UNKNOWN}(De.status);p(new Ye(Ge,De.message))}else p(new Ye(Pe.UNKNOWN,"Server responded with status "+w.getStatus()))}else p(new Ye(Pe.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Je("Connection",'RPC "'+e+'" completed.')}});const R=JSON.stringify(u);w.send(t,"POST",R,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=je(),p=vt(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new Nr({})),this.lo(w.initMessageHeaders,t,o),w.encodeInitMessageHeaders=!0;const R=u.join("");Je("Connection","Creating WebChannel: "+R,w);const O=d.createWebChannel(R,w);let G=!1,se=!1;const De=new ng({Hr:rt=>{se?Je("Connection","Not sending because WebChannel is closed:",rt):(G||(Je("Connection","Opening WebChannel transport."),O.open(),G=!0),Je("Connection","WebChannel sending:",rt),O.send(rt))},Jr:()=>O.close()}),Ge=(rt,Tt,Ht)=>{rt.listen(Tt,Lr=>{try{Ht(Lr)}catch(Jr){setTimeout(()=>{throw Jr},0)}})};return Ge(O,zn.EventType.OPEN,()=>{se||Je("Connection","WebChannel transport opened.")}),Ge(O,zn.EventType.CLOSE,()=>{se||(se=!0,Je("Connection","WebChannel transport closed"),De.io())}),Ge(O,zn.EventType.ERROR,rt=>{se||(se=!0,Vn("Connection","WebChannel transport errored:",rt),De.io(new Ye(Pe.UNAVAILABLE,"The operation could not be completed")))}),Ge(O,zn.EventType.MESSAGE,rt=>{var Tt;if(!se){const Ht=rt.data[0];Ot(!!Ht);const Lr=Ht,Jr=Lr.error||(null===(Tt=Lr[0])||void 0===Tt?void 0:Tt.error);if(Jr){Je("Connection","WebChannel received error:",Jr);const mr=Jr.status;let Wi=function(fr){const ts=Qr[fr];if(void 0!==ts)return qh(ts)}(mr),Dr=Jr.message;void 0===Wi&&(Wi=Pe.INTERNAL,Dr="Unknown error status: "+mr+" with message "+Jr.message),se=!0,De.io(new Ye(Wi,Dr)),O.close()}else Je("Connection","WebChannel received:",Ht),De.ro(Ht)}}),Ge(p,Ft.STAT_EVENT,rt=>{rt.stat===mn.PROXY?Je("Connection","Detected buffering proxy"):rt.stat===mn.NOPROXY&&Je("Connection","Detected no buffering proxy")}),setTimeout(()=>{De.so()},0),De}}function Yc(){return typeof document<"u"?document:null}function ac(i){return new wp(i,!0)}class Sf{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&Je("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class bm{constructor(e,t,o,u,d,p,w,R){this.Hs=e,this.vo=o,this.Vo=u,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=w,this.listener=R,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Sf(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,C.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,C.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,C.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===Pe.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===Pe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new Ye(Pe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,C.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ey extends bm{constructor(e,t,o,u,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,p),this.yt=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function rf(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(R=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===R?1:"REMOVE"===R?2:"CURRENT"===R?3:"RESET"===R?4:Dt(),u=e.targetChange.targetIds||[],d=function(R,O){return R.wt?(Ot(void 0===O||"string"==typeof O),qr.fromBase64String(O||"")):(Ot(void 0===O||O instanceof Uint8Array),qr.fromUint8Array(O||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,w=p&&function(R){const O=void 0===R.code?Pe.UNKNOWN:qh(R.code);return new Ye(O,R.message||"")}(p);t=new Ep(o,u,d,w||null)}else if("documentChange"in e){const o=e.documentChange,u=ra(i,o.document.name),d=ci(o.document.updateTime),p=o.document.createTime?ci(o.document.createTime):Lt.min(),w=new ui({mapValue:{fields:o.document.fields}}),R=or.newFoundDocument(u,d,p,w);t=new yd(o.targetIds||[],o.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const o=e.documentDelete,u=ra(i,o.document),d=o.readTime?ci(o.readTime):Lt.min(),p=or.newNoDocument(u,d);t=new yd([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,u=ra(i,o.document);t=new yd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Dt();{const o=e.filter,d=new cm(o.count||0);t=new _p(o.targetId,d)}}var R;return t}(this.yt,e),o=function(u){if(!("targetChange"in u))return Lt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Lt.min():d.readTime?ci(d.readTime):Lt.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Gu(this.yt),t.addTarget=function(u,d){let p;const w=d.target;return p=ud(w)?{documents:Cp(u,w)}:{query:zu(u,w)},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?p.resumeToken=ef(u,d.resumeToken):d.snapshotVersion.compareTo(Lt.min())>0&&(p.readTime=Oo(u,d.snapshotVersion.toTimestamp())),p}(this.yt,e);const o=function Sp(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Gu(this.yt),t.removeTarget=e,this.Bo(t)}}class Iy extends bm{constructor(e,t,o,u,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,p),this.yt=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Dl(i,e){return i&&i.length>0?(Ot(void 0!==e),i.map(t=>function(o,u){let d=ci(o.updateTime?o.updateTime:u);return d.isEqual(Lt.min())&&(d=ci(u)),new Wh(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=ci(e.commitTime);return this.listener.Zo(o,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Gu(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function Wu(i,e){let t;if(e instanceof $u)t={update:El(i,e.key,e.value)};else if(e instanceof ju)t={delete:_l(i,e.key)};else if(e instanceof Ma)t={update:El(i,e.key,e.data),updateMask:Ap(e.fieldMask)};else{if(!(e instanceof Kh))return Dt();t={verify:_l(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const p=d.transform;if(p instanceof xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ka)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fu)return{fieldPath:d.field.canonicalString(),increment:p.gt};throw Dt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Dp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Dt()),t;var u}(this.yt,o))};this.Bo(t)}}class Cm extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=u,this.nu=!1}su(){if(this.nu)throw new Ye(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ao(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ye(Pe.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection._o(e,t,o,d,p,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ye(Pe.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class Sm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Cr(t),this.ou=!1):Je("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Qc{constructor(e,t,o,u,d){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.Ur(w=>{o.enqueueAndForget((0,C.Z)(function*(){var R;f(p)&&(Je("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,C.Z)(function*(O){const G=ht(O);G._u.add(4),yield Ja(G),G.gu.set("Unknown"),G._u.delete(4),yield Wl(G)}),function(O){return R.apply(this,arguments)})(p))}))}),this.gu=new Sm(o,u)}}function Wl(i){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,C.Z)(function*(i){if(f(i))for(const e of i.wu)yield e(!0)}),Kd.apply(this,arguments)}function Ja(i){return Af.apply(this,arguments)}function Af(){return Af=(0,C.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Af.apply(this,arguments)}function zl(i,e){const t=ht(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),l(t)?g(t):eh(t).ko()&&xf(t,e))}function Kl(i,e){const t=ht(i),o=eh(t);t.du.delete(e),o.ko()&&og(t,e),0===t.du.size&&(o.ko()?o.Fo():f(t)&&t.gu.set("Unknown"))}function xf(i,e){i.yu.Ot(e.targetId),eh(i).zo(e)}function og(i,e){i.yu.Ot(e),eh(i).Ho(e)}function g(i){i.yu=new Xh({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),eh(i).start(),i.gu.uu()}function l(i){return f(i)&&!eh(i).No()&&i.du.size>0}function f(i){return 0===ht(i)._u.size}function E(i){i.yu=void 0}function k(i){return $.apply(this,arguments)}function $(){return $=(0,C.Z)(function*(i){i.du.forEach((e,t)=>{xf(i,e)})}),$.apply(this,arguments)}function le(i,e){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,C.Z)(function*(i,e){E(i),l(i)?(i.gu.hu(e),g(i)):i.gu.set("Unknown")}),Ve.apply(this,arguments)}function ot(i,e,t){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,C.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Ep&&2===e.state&&e.cause)try{yield(o=(0,C.Z)(function*(u,d){const p=d.cause;for(const w of d.targetIds)u.du.has(w)&&(yield u.remoteSyncer.rejectListen(w,p),u.du.delete(w),u.yu.removeTarget(w))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield sn(i,o)}else if(e instanceof yd?i.yu.Kt(e):e instanceof _p?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(Lt.min()))try{const o=yield Kp(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const p=u.yu.Zt(d);return p.targetChanges.forEach((w,R)=>{if(w.resumeToken.approximateByteSize()>0){const O=u.du.get(R);O&&u.du.set(R,O.withResumeToken(w.resumeToken,d))}}),p.targetMismatches.forEach(w=>{const R=u.du.get(w);if(!R)return;u.du.set(w,R.withResumeToken(qr.EMPTY_BYTE_STRING,R.snapshotVersion)),og(u,w);const O=new Na(R.target,w,1,R.sequenceNumber);xf(u,O)}),u.remoteSyncer.applyRemoteEvent(p)}(i,t))}catch(o){Je("RemoteStore","Failed to raise snapshot:",o),yield sn(i,o)}var o}),Nt.apply(this,arguments)}function sn(i,e,t){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,C.Z)(function*(i,e,t){if(!$r(e))throw e;i._u.add(1),yield Ja(i),i.gu.set("Offline"),t||(t=()=>Kp(i.localStore)),i.asyncQueue.enqueueRetryable((0,C.Z)(function*(){Je("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Wl(i)}))}),Dn.apply(this,arguments)}function Uo(i,e){return e().catch(t=>sn(i,t,e))}function Ps(i){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,C.Z)(function*(i){const e=ht(i),t=lc(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;vo(e);)try{const u=yield wm(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,ql(e,u)}catch(u){yield sn(e,u)}qd(e)&&Xc(e)}),Fa.apply(this,arguments)}function vo(i){return f(i)&&i.fu.length<10}function ql(i,e){i.fu.push(e);const t=lc(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function qd(i){return f(i)&&!lc(i).No()&&i.fu.length>0}function Xc(i){lc(i).start()}function Vo(i){return uc.apply(this,arguments)}function uc(){return uc=(0,C.Z)(function*(i){lc(i).eu()}),uc.apply(this,arguments)}function Zd(i){return xu.apply(this,arguments)}function xu(){return xu=(0,C.Z)(function*(i){const e=lc(i);for(const t of i.fu)e.Xo(t.mutations)}),xu.apply(this,arguments)}function ag(i,e,t){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,C.Z)(function*(i,e,t){const o=i.fu.shift(),u=Yu.from(o,e,t);yield Uo(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ps(i)}),Zl.apply(this,arguments)}function Mf(i,e){return cc.apply(this,arguments)}function cc(){return cc=(0,C.Z)(function*(i,e){var t;e&&lc(i).Yo&&(yield(t=(0,C.Z)(function*(o,u){if(mp(d=u.code)&&d!==Pe.ABORTED){const p=o.fu.shift();lc(o).Mo(),yield Uo(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield Ps(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),qd(i)&&Xc(i)}),cc.apply(this,arguments)}function Yd(i,e){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,C.Z)(function*(i,e){const t=ht(i);t.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const o=f(t);t._u.add(3),yield Ja(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Wl(t)}),Qd.apply(this,arguments)}function Jd(){return Jd=(0,C.Z)(function*(i,e){const t=ht(i);e?(t._u.delete(2),yield Wl(t)):e||(t._u.add(2),yield Ja(t),t.gu.set("Unknown"))}),Jd.apply(this,arguments)}function eh(i){return i.pu||(i.pu=function(e,t,o){const u=ht(e);return u.su(),new Ey(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:k.bind(null,i),Zr:le.bind(null,i),Wo:ot.bind(null,i)}),i.wu.push(function(){var e=(0,C.Z)(function*(t){t?(i.pu.Mo(),l(i)?g(i):i.gu.set("Unknown")):(yield i.pu.stop(),E(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function lc(i){return i.Iu||(i.Iu=function(e,t,o){const u=ht(e);return u.su(),new Iy(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:Vo.bind(null,i),Zr:Mf.bind(null,i),tu:Zd.bind(null,i),Zo:ag.bind(null,i)}),i.wu.push(function(){var e=(0,C.Z)(function*(t){t?(i.Iu.Mo(),yield Ps(i)):(yield i.Iu.stop(),i.fu.length>0&&(Je("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class ug{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,o,u,d){const p=Date.now()+o,w=new ug(e,t,p,u,d);return w.start(o),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yl(i,e){if(Cr("AsyncQueue",`${e}: ${i}`),$r(i))return new Ye(Pe.UNAVAILABLE,`${e}: ${i}`);throw i}class Ql{constructor(e){this.comparator=e?(t,o)=>e(t,o)||ft.comparator(t.key,o.key):(t,o)=>ft.comparator(t.key,o.key),this.keyedMap=Hu(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new Ql(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ql)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ql;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class cg{constructor(){this.Tu=new In(ft.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Dt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class th{constructor(e,t,o,u,d,p,w,R,O){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=w,this.excludesMetadataChanges=R,this.hasCachedResults=O}static fromInitialDocuments(e,t,o,u,d){const p=[];return t.forEach(w=>{p.push({type:0,doc:w})}),new th(e,t,Ql.emptySet(t),p,o,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class wy{constructor(){this.Au=void 0,this.listeners=[]}}class o_{constructor(){this.queries=new vu(e=>hl(e),dl),this.onlineState="Unknown",this.Ru=new Set}}function Pf(){return Pf=(0,C.Z)(function*(i,e){const t=ht(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new wy),u)try{d.Au=yield t.onListen(o)}catch(p){const w=Yl(p,`Initialization of query '${Vh(e.query)}' failed`);return void e.onError(w)}t.queries.set(o,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&Am(t)}),Pf.apply(this,arguments)}function nh(){return nh=(0,C.Z)(function*(i,e){const t=ht(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const p=d.listeners.indexOf(e);p>=0&&(d.listeners.splice(p,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),nh.apply(this,arguments)}function a_(i,e){const t=ht(i);let o=!1;for(const u of e){const p=t.queries.get(u.query);if(p){for(const w of p.listeners)w.Pu(u)&&(o=!0);p.Au=u}}o&&Am(t)}function u_(i,e,t){const o=ht(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function Am(i){i.Ru.forEach(e=>{e.next()})}class xm{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new th(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class by{constructor(e){this.key=e}}class Cy{constructor(e){this.key=e}}class Mu{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=wn(),this.mutatedKeys=wn(),this.Gu=lp(e),this.Qu=new Ql(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new cg,u=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,p=u,w=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,O="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((G,se)=>{const De=u.get(G),Ge=Bh(this.query,se)?se:null,rt=!!De&&this.mutatedKeys.has(De.key),Tt=!!Ge&&(Ge.hasLocalMutations||this.mutatedKeys.has(Ge.key)&&Ge.hasCommittedMutations);let Ht=!1;De&&Ge?De.data.isEqual(Ge.data)?rt!==Tt&&(o.track({type:3,doc:Ge}),Ht=!0):this.Hu(De,Ge)||(o.track({type:2,doc:Ge}),Ht=!0,(R&&this.Gu(Ge,R)>0||O&&this.Gu(Ge,O)<0)&&(w=!0)):!De&&Ge?(o.track({type:0,doc:Ge}),Ht=!0):De&&!Ge&&(o.track({type:1,doc:De}),Ht=!0,(R||O)&&(w=!0)),Ht&&(Ge?(p=p.add(Ge),d=Tt?d.add(G):d.delete(G)):(p=p.delete(G),d=d.delete(G)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const G="F"===this.query.limitType?p.last():p.first();p=p.delete(G.key),d=d.delete(G.key),o.track({type:1,doc:G})}return{Qu:p,zu:o,$i:w,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort((O,G)=>function(se,De){const Ge=rt=>{switch(rt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return Ge(se)-Ge(De)}(O.type,G.type)||this.Gu(O.doc,G.doc)),this.Ju(o);const p=t?this.Yu():[],w=0===this.Ku.size&&this.current?1:0,R=w!==this.Uu;return this.Uu=w,0!==d.length||R?{snapshot:new th(this.query,e.Qu,u,d,e.mutatedKeys,0===w,R,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:p}:{Xu:p}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new cg,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=wn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Cy(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new by(o))}),t}tc(e){this.qu=e.Hi,this.Ku=wn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return th.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class dg{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Sy{constructor(e){this.key=e,this.nc=!1}}class Mm{constructor(e,t,o,u,d,p){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.sc={},this.ic=new vu(w=>hl(w),dl),this.rc=new Map,this.oc=new Set,this.uc=new In(ft.comparator),this.cc=new Map,this.ac=new sc,this.hc={},this.lc=new Map,this.fc=Fo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function hg(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,C.Z)(function*(i,e){const t=$f(i);let o,u;const d=t.ic.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.ec();else{const p=yield _s(t.localStore,vs(e));t.isPrimaryClient&&zl(t.remoteStore,p);const w=t.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,u=yield rh(t,e,o,"current"===w,p.resumeToken)}return u}),Nf.apply(this,arguments)}function rh(i,e,t,o,u){return fg.apply(this,arguments)}function fg(){return fg=(0,C.Z)(function*(i,e,t,o,u){i._c=(se,De,Ge)=>{return(rt=(0,C.Z)(function*(Tt,Ht,Lr,Jr){let mr=Ht.view.Wu(Lr);mr.$i&&(mr=yield $d(Tt.localStore,Ht.query,!1).then(({documents:fr})=>Ht.view.Wu(fr,mr)));const Wi=Jr&&Jr.targetChanges.get(Ht.targetId),Dr=Ht.view.applyChanges(mr,Tt.isPrimaryClient,Wi);return _g(Tt,Ht.targetId,Dr.Xu),Dr.snapshot}),function(Tt,Ht,Lr,Jr){return rt.apply(this,arguments)})(i,se,De,Ge);var rt};const d=yield $d(i.localStore,e,!0),p=new Mu(e,d.Hi),w=p.Wu(d.documents),R=yl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),O=p.applyChanges(w,i.isPrimaryClient,R);_g(i,t,O.Xu);const G=new dg(e,t,p);return i.ic.set(e,G),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),O.snapshot}),fg.apply(this,arguments)}function dc(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,C.Z)(function*(i,e){const t=ht(i),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(d=>!dl(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Zc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Kl(t.remoteStore,o.targetId),Jc(t,o.targetId)}).catch(Yi))):(Jc(t,o.targetId),yield Zc(t.localStore,o.targetId,!0))}),kf.apply(this,arguments)}function pg(){return pg=(0,C.Z)(function*(i,e,t){const o=Cg(i);try{const u=yield function(d,p){const w=ht(d),R=rn.now(),O=p.reduce((De,Ge)=>De.add(Ge.key),wn());let G,se;return w.persistence.runTransaction("Locally write mutations","readwrite",De=>{let Ge=Ws(),rt=wn();return w.Gi.getEntries(De,O).next(Tt=>{Ge=Tt,Ge.forEach((Ht,Lr)=>{Lr.isValidDocument()||(rt=rt.add(Ht))})}).next(()=>w.localDocuments.getOverlayedDocuments(De,Ge)).next(Tt=>{G=Tt;const Ht=[];for(const Lr of p){const Jr=pl(Lr,G.get(Lr.key).overlayedDocument);null!=Jr&&Ht.push(new Ma(Lr.key,Jr,pu(Jr.value.mapValue),Mn.exists(!0)))}return w.mutationQueue.addMutationBatch(De,R,Ht,p)}).next(Tt=>{se=Tt;const Ht=Tt.applyToLocalDocumentSet(G,rt);return w.documentOverlayCache.saveOverlays(De,Tt.batchId,Ht)})}).then(()=>({batchId:se.batchId,changes:gd(G)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,p,w){let R=d.hc[d.currentUser.toKey()];R||(R=new In(Qt)),R=R.insert(p,w),d.hc[d.currentUser.toKey()]=R}(o,u.batchId,t),yield eu(o,u.changes),yield Ps(o.remoteStore)}catch(u){const d=Yl(u,"Failed to persist write");t.reject(d)}}),pg.apply(this,arguments)}function gg(i,e){return mg.apply(this,arguments)}function mg(){return mg=(0,C.Z)(function*(i,e){const t=ht(i);try{const o=yield qp(t.localStore,e);e.targetChanges.forEach((u,d)=>{const p=t.cc.get(d);p&&(Ot(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.nc=!0:u.modifiedDocuments.size>0?Ot(p.nc):u.removedDocuments.size>0&&(Ot(p.nc),p.nc=!1))}),yield eu(t,o,e)}catch(o){yield Yi(o)}}),mg.apply(this,arguments)}function Rm(i,e,t){const o=ht(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((d,p)=>{const w=p.view.bu(e);w.snapshot&&u.push(w.snapshot)}),function(d,p){const w=ht(d);w.onlineState=p;let R=!1;w.queries.forEach((O,G)=>{for(const se of G.listeners)se.bu(p)&&(R=!0)}),R&&Am(w)}(o.eventManager,e),u.length&&o.sc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Of(i,e,t){return hc.apply(this,arguments)}function hc(){return hc=(0,C.Z)(function*(i,e,t){const o=ht(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),d=u&&u.key;if(d){let p=new In(ft.comparator);p=p.insert(d,or.newNoDocument(d,Lt.min()));const w=wn().add(d),R=new ml(Lt.min(),new Map,new On(Qt),p,w);yield gg(o,R),o.uc=o.uc.remove(d),o.cc.delete(e),Eg(o)}else yield Zc(o.localStore,e,!1).then(()=>Jc(o,e,t)).catch(Yi)}),hc.apply(this,arguments)}function yg(i,e){return fc.apply(this,arguments)}function fc(){return fc=(0,C.Z)(function*(i,e){const t=ht(i),o=e.batch.batchId;try{const u=yield wf(t.localStore,e);sh(t,o,null),ih(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield eu(t,u)}catch(u){yield Yi(u)}}),fc.apply(this,arguments)}function vg(i,e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,C.Z)(function*(i,e,t){const o=ht(i);try{const u=yield function(d,p){const w=ht(d);return w.persistence.runTransaction("Reject batch","readwrite-primary",R=>{let O;return w.mutationQueue.lookupMutationBatch(R,p).next(G=>(Ot(null!==G),O=G.keys(),w.mutationQueue.removeMutationBatch(R,G))).next(()=>w.mutationQueue.performConsistencyCheck(R)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(R,O,p)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,O)).next(()=>w.localDocuments.getDocuments(R,O))})}(o.localStore,e);sh(o,e,t),ih(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield eu(o,u)}catch(u){yield Yi(u)}}),Xl.apply(this,arguments)}function ih(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function sh(i,e,t){const o=ht(i);let u=o.hc[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function Jc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Ff(i,o)})}function Ff(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Kl(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Eg(i))}function _g(i,e,t){for(const o of t)o instanceof by?(i.ac.addReference(o.key,e),d_(i,o)):o instanceof Cy?(Je("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Ff(i,o.key)):Dt()}function d_(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Je("SyncEngine","New document in limbo: "+t),i.oc.add(o),Eg(i))}function Eg(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new ft(Sn.fromString(e)),o=i.fc.next();i.cc.set(o,new Sy(t)),i.uc=i.uc.insert(t,o),zl(i.remoteStore,new Na(vs(Lu(t.path)),o,2,$i.at))}}function eu(i,e,t){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,C.Z)(function*(i,e,t){const o=ht(i),u=[],d=[],p=[];var w;o.ic.isEmpty()||(o.ic.forEach((w,R)=>{p.push(o._c(R,e,t).then(O=>{if((O||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,O?.fromCache?"not-current":"current"),O){u.push(O);const G=Gp.Ci(R.targetId,O);d.push(G)}}))}),yield Promise.all(p),o.sc.Wo(u),yield(w=(0,C.Z)(function*(R,O){const G=ht(R);try{yield G.persistence.runTransaction("notifyLocalViewChanges","readwrite",se=>xe.forEach(O,De=>xe.forEach(De.Si,Ge=>G.persistence.referenceDelegate.addReference(se,De.targetId,Ge)).next(()=>xe.forEach(De.Di,Ge=>G.persistence.referenceDelegate.removeReference(se,De.targetId,Ge)))))}catch(se){if(!$r(se))throw se;Je("LocalStore","Failed to update sequence numbers: "+se)}for(const se of O){const De=se.targetId;if(!se.fromCache){const Ge=G.qi.get(De),Tt=Ge.withLastLimboFreeSnapshotVersion(Ge.snapshotVersion);G.qi=G.qi.insert(De,Tt)}}}),function(R,O){return w.apply(this,arguments)})(o.localStore,d))}),Ig.apply(this,arguments)}function Nm(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,C.Z)(function*(i,e){const t=ht(i);if(!t.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const o=yield Bd(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(p=>{p.forEach(w=>{w.reject(new Ye(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield eu(t,o.ji)}var u}),Uf.apply(this,arguments)}function xy(i,e){const t=ht(i),o=t.cc.get(e);if(o&&o.nc)return wn().add(o.key);{let u=wn();const d=t.rc.get(e);if(!d)return u;for(const p of d){const w=t.ic.get(p);u=u.unionWith(w.view.ju)}return u}}function $f(i){const e=ht(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=gg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Of.bind(null,e),e.sc.Wo=a_.bind(null,e.eventManager),e.sc.wc=u_.bind(null,e.eventManager),e}function Cg(i){const e=ht(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vg.bind(null,e),e}class Sg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,C.Z)(function*(){t.yt=ac(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Im(i,e,t,o){return new Wp(i,e,t,o)}(this.persistence,new Em,e.initialUser,this.yt)}yc(e){return new Od(Ld.Bs,this.yt)}gc(e){return new Jp}terminate(){var e=this;return(0,C.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Um{initialize(e,t){var o=this;return(0,C.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Rm(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Nm.bind(null,o.syncEngine),yield function Xd(i,e){return Jd.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new o_}createDatastore(e){const t=ac(e.databaseInfo.databaseId),o=new oc(e.databaseInfo);return new Cm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=w=>Rm(this.syncEngine,w,0),p=Tm.C()?new Tm:new eg,new Qc(t,o,u,d,p);var t,o,u,d,p}createSyncEngine(e,t){return function(o,u,d,p,w,R,O){const G=new Mm(o,u,d,p,w,R);return O&&(G.dc=!0),G}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,C.Z)(function*(t){const o=ht(t);Je("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Ja(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jf(i,e,t){if(!t)throw new Ye(Pe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Vm(i){if(!ft.isDocumentKey(i))throw new Ye(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Bm(i){if(ft.isDocumentKey(i))throw new Ye(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Dt()}function Yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ye(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jl(i);throw new Ye(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const ah=new Map;class Hf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ye(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ye(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Ly(i,e,t,o){if(!0===e&&!0===o)throw new Ye(Pe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pc{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ye(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ye(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new va;switch(t.type){case"gapi":return new wc(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ye(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ah.get(e);t&&(Je("ComponentProvider","Removing Datastore"),ah.delete(e),t.terminate())}(this),Promise.resolve()}}class Xr{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class Ns{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class Ua extends Ns{constructor(e,t,o){super(e,t,Lu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new ft(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function jm(i,e,...t){if(i=(0,Z.m9)(i),jf("collection","path",e),i instanceof pc){const o=Sn.fromString(e,...t);return Bm(o),new Ua(i,null,o)}{if(!(i instanceof Xr||i instanceof Ua))throw new Ye(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Sn.fromString(e,...t));return Bm(o),new Ua(i.firestore,null,o)}}function Ag(i,e,...t){if(i=(0,Z.m9)(i),1===arguments.length&&(e=ja.R()),jf("doc","path",e),i instanceof pc){const o=Sn.fromString(e,...t);return Vm(o),new Xr(i,null,new ft(o))}{if(!(i instanceof Xr||i instanceof Ua))throw new Ye(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Sn.fromString(e,...t));return Vm(o),new Xr(i.firestore,i instanceof Ua?i.converter:null,new ft(o))}}class el{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lh{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=er.UNAUTHENTICATED,this.clientId=ja.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,C.Z)(function*(w){Je("FirestoreClient","Received user=",w.uid),yield d.authCredentialListener(w),d.user=w});return function(w){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(Je("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,C.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,C.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Yl(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Wm(i,e){return zm.apply(this,arguments)}function zm(){return zm=(0,C.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,C.Z)(function*(d){o.isEqual(d)||(yield Bd(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),zm.apply(this,arguments)}function Km(i,e){return qm.apply(this,arguments)}function qm(){return qm=(0,C.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Mg(i);Je("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Yd(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>Yd(e.remoteStore,d)),i.onlineComponents=e}),qm.apply(this,arguments)}function Mg(i){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,C.Z)(function*(i){return i.offlineComponents||(Je("FirestoreClient","Using default OfflineComponentProvider"),yield Wm(i,new Sg)),i.offlineComponents}),Rg.apply(this,arguments)}function Gf(i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,C.Z)(function*(i){return i.onlineComponents||(Je("FirestoreClient","Using default OnlineComponentProvider"),yield Km(i,new Um)),i.onlineComponents}),Wf.apply(this,arguments)}function ed(i){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,C.Z)(function*(i){const e=yield Gf(i),t=e.eventManager;return t.onListen=hg.bind(null,e.syncEngine),t.onUnlisten=dc.bind(null,e.syncEngine),t}),Ng.apply(this,arguments)}class Gy{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Sf(this,"async_queue_retry"),this.Wc=()=>{const t=Yc();t&&Je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Yc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Yc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Sr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,C.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!$r(t))throw t;Je("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=ug.createAndSchedule(this,e,t,o,d=>this.Yc(d));return this.Uc.push(u),u}zc(){this.Kc&&Dt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,C.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function sa(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class hr extends pc{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Gy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tl(this),this._firestoreClient.terminate()}}function oa(i,e){const t="object"==typeof i?i:(0,j.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,j.qX)(t,"firestore").getImmediate({identifier:o});if(!u._initialized){const d=(0,Z.P0)("firestore");d&&function h_(i,e,t,o={}){var u;const d=(i=Yn(i,pc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Vn("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let p,w;if("string"==typeof o.mockUserToken)p=o.mockUserToken,w=er.MOCK_USER;else{p=(0,Z.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const R=o.mockUserToken.sub||o.mockUserToken.user_id;if(!R)throw new Ye(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new er(R)}i._authCredentials=new Ic(new al(p,w))}}(u,...d)}return u}function di(i){return i._firestoreClient||tl(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function tl(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Zn(i._databaseId,d,i._persistenceKey,(w=t).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var d,w;i._firestoreClient=new lh(i._authCredentials,i._appCheckCredentials,i._queue,o)}class mc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mc(qr.fromBase64String(e))}catch(t){throw new Ye(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mc(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ye(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fg{constructor(e){this._methodName=e}}class Zf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const Ym=/^__.*__$/;class qy{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}function Ug(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class Yf{constructor(e,t,o,u,d,p){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=u,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return bh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Ug(this.sa)&&Ym.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Zy{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||ac(e)}da(e,t,o,u=!1){return new Yf({sa:e,methodName:t,fa:o,path:Ir.emptyPath(),oa:!1,la:u},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function yc(i){const e=i._freezeSettings(),t=ac(i._databaseId);return new Zy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Eh(i,e,t,o,u,d={}){const p=i.da(d.merge||d.mergeFields?2:0,e,t,u);Dh("Data must be an object, but it was:",p,o);const w=Hg(o,p);let R,O;if(d.merge)R=new Wr(p.fieldMask),O=p.fieldTransforms;else if(d.mergeFields){const G=[];for(const se of d.mergeFields){const De=Xf(e,se,t);if(!p.contains(De))throw new Ye(Pe.INVALID_ARGUMENT,`Field '${De}' is specified in your field mask but missing from your input data.`);Wg(G,De)||G.push(De)}R=new Wr(G),O=p.fieldTransforms.filter(se=>R.covers(se.field))}else R=null,O=p.fieldTransforms;return new qy(new ui(w),R,O)}function Ru(i,e){if(Gg(i=(0,Z.m9)(i)))return Dh("Unsupported field value:",e,i),Hg(i,e);if(i instanceof Fg)return function(t,o){if(!Ug(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const p of t){let w=Ru(p,o.aa(d));null==w&&(w={nullValue:"NULL_VALUE"}),u.push(w),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,Z.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Sc(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=rn.fromDate(t);return{timestampValue:Oo(o.yt,u)}}if(t instanceof rn){const u=new rn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Oo(o.yt,u)}}if(t instanceof Zf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mc)return{bytesValue:ef(o.yt,t._byteString)};if(t instanceof Xr){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tp(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Jl(t)}`)}(i,e)}function Hg(i,e){const t={};return Dc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(i,(o,u)=>{const d=Ru(u,e.ra(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function Gg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof rn||i instanceof Zf||i instanceof mc||i instanceof Xr||i instanceof Fg)}function Dh(i,e,t){if(!Gg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Jl(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function Xf(i,e,t){if((e=(0,Z.m9)(e))instanceof rl)return e._internalPath;if("string"==typeof e)return Th(i,e);throw bh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Qy=new RegExp("[~\\*/\\[\\]]");function Th(i,e,t){if(e.search(Qy)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new rl(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function bh(i,e,t,o,u){const d=o&&!o.isEmpty(),p=void 0!==u;let w=`Function ${e}() called with invalid data`;t&&(w+=" (via `toFirestore()`)"),w+=". ";let R="";return(d||p)&&(R+=" (found",d&&(R+=` in field ${o}`),p&&(R+=` in document ${u}`),R+=")"),new Ye(Pe.INVALID_ARGUMENT,w+i+R)}function Wg(i,e){return i.some(t=>t.isEqual(e))}class Jf{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ep("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xy extends Jf{data(){return super.data()}}function ep(i,e){return"string"==typeof e?Th(i,e):e instanceof rl?e._internalPath:e._delegate._internalPath}class vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ah extends Jf{constructor(e,t,o,u,d,p){super(e,t,o,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(ep("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class xh extends Ah{data(e={}){return super.data(e)}}class _c{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new vc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new xh(this._firestore,this._userDataWriter,o.key,o,new vc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||3!==p.type).map(p=>{const w=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let R=-1,O=-1;return 0!==p.type&&(R=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),1!==p.type&&(d=d.add(p.doc),O=d.indexOf(p.doc.key)),{type:ru(p.type),doc:w,oldIndex:R,newIndex:O}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ru(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}class Es extends class iv{convertValue(e,t="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dt()}}convertObject(e,t){const o={};return ba(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new Zf(ar(e.latitude),ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Tc(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(jr(e));default:return null}}convertTimestamp(e){const t=sr(e);return new rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Sn.fromString(e);Ot(af(o));const u=new ea(o.get(1),o.get(3)),d=new ft(o.popFirst(5));return u.isEqual(t)||Cr(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,t)}}function Yg(i,e){const t=Yn(i.firestore,hr),o=Ag(i),u=function np(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return function id(i,e){return function(t,o){const u=new Sr;return t.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function Ay(i,e,t){return pg.apply(this,arguments)}(yield function Pg(i){return Gf(i).then(e=>e.syncEngine)}(t),o,u)})),u.promise}(di(i),e)}(t,[Eh(yc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Mn.exists(!1))]).then(()=>o)}function Mh(i,...e){var t,o,u;i=(0,Z.m9)(i);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||sa(e[p])||(d=e[p],p++);const w={includeMetadataChanges:d.includeMetadataChanges};if(sa(e[p])){const se=e[p];e[p]=null===(t=se.next)||void 0===t?void 0:t.bind(se),e[p+1]=null===(o=se.error)||void 0===o?void 0:o.bind(se),e[p+2]=null===(u=se.complete)||void 0===u?void 0:u.bind(se)}let R,O,G;if(i instanceof Xr)O=Yn(i.firestore,hr),G=Lu(i._key.path),R={next:se=>{e[p]&&e[p](function Qg(i,e,t){const o=t.docs.get(e._key),u=new Es(i);return new Ah(i,u,e._key,o,new vc(t.hasPendingWrites,t.fromCache),e.converter)}(O,i,se))},error:e[p+1],complete:e[p+2]};else{const se=Yn(i,Ns);O=Yn(se.firestore,hr),G=se._query;const De=new Es(O);R={next:Ge=>{e[p]&&e[p](new _c(O,De,se,Ge))},error:e[p+1],complete:e[p+2]},function Xm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ye(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(se,De,Ge,rt){const Tt=new el(rt),Ht=new xm(De,Tt,Ge);return se.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function Rf(i,e){return Pf.apply(this,arguments)}(yield ed(se),Ht)})),()=>{Tt.bc(),se.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function lg(i,e){return nh.apply(this,arguments)}(yield ed(se),Ht)}))}}(di(O),G,w,R)}!function(i,e=!0){vr=j.Jn,(0,j.Xd)(new K.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const d=t.getProvider("app").getImmediate(),p=new hr(new Vi(t.getProvider("auth-internal")),new js(t.getProvider("app-check-internal")),function(w,R){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Ye(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(w.options.projectId,R)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),(0,j.KN)(lo,"3.8.0",i),(0,j.KN)(lo,"3.8.0","esm2017")}()},2090:(_t,Re,L)=>{L.d(Re,{$s:()=>st,BH:()=>Tn,L:()=>ee,LL:()=>Kt,P0:()=>Oe,Pz:()=>nn,Sg:()=>Ut,US:()=>ce,ZR:()=>yn,aH:()=>At,b$:()=>pt,eu:()=>Mt,hl:()=>Xe,m9:()=>an,ne:()=>Hn,ru:()=>nt,tV:()=>ve,uI:()=>Be,vZ:()=>_n,xO:()=>kn,z$:()=>qe,zI:()=>Ne});const ae=function(re){const J=[];let ue=0;for(let Ue=0;Ue<re.length;Ue++){let Ce=re.charCodeAt(Ue);Ce<128?J[ue++]=Ce:Ce<2048?(J[ue++]=Ce>>6|192,J[ue++]=63&Ce|128):55296==(64512&Ce)&&Ue+1<re.length&&56320==(64512&re.charCodeAt(Ue+1))?(Ce=65536+((1023&Ce)<<10)+(1023&re.charCodeAt(++Ue)),J[ue++]=Ce>>18|240,J[ue++]=Ce>>12&63|128,J[ue++]=Ce>>6&63|128,J[ue++]=63&Ce|128):(J[ue++]=Ce>>12|224,J[ue++]=Ce>>6&63|128,J[ue++]=63&Ce|128)}return J},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,J){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ue=[];for(let Ce=0;Ce<re.length;Ce+=3){const Et=re[Ce],Gt=Ce+1<re.length,Ln=Gt?re[Ce+1]:0,qt=Ce+2<re.length,hn=qt?re[Ce+2]:0;let q=(15&Ln)<<2|hn>>6,_e=63&hn;qt||(_e=64,Gt||(q=64)),Ue.push(ue[Et>>2],ue[(3&Et)<<4|Ln>>4],ue[q],ue[_e])}return Ue.join("")},encodeString(re,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(re):this.encodeByteArray(ae(re),J)},decodeString(re,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(re):function(re){const J=[];let ue=0,Ue=0;for(;ue<re.length;){const Ce=re[ue++];if(Ce<128)J[Ue++]=String.fromCharCode(Ce);else if(Ce>191&&Ce<224){const Et=re[ue++];J[Ue++]=String.fromCharCode((31&Ce)<<6|63&Et)}else if(Ce>239&&Ce<365){const qt=((7&Ce)<<18|(63&re[ue++])<<12|(63&re[ue++])<<6|63&re[ue++])-65536;J[Ue++]=String.fromCharCode(55296+(qt>>10)),J[Ue++]=String.fromCharCode(56320+(1023&qt))}else{const Et=re[ue++],Gt=re[ue++];J[Ue++]=String.fromCharCode((15&Ce)<<12|(63&Et)<<6|63&Gt)}}return J.join("")}(this.decodeStringToByteArray(re,J))},decodeStringToByteArray(re,J){this.init_();const ue=J?this.charToByteMapWebSafe_:this.charToByteMap_,Ue=[];for(let Ce=0;Ce<re.length;){const Et=ue[re.charAt(Ce++)],Ln=Ce<re.length?ue[re.charAt(Ce)]:0;++Ce;const hn=Ce<re.length?ue[re.charAt(Ce)]:64;++Ce;const ne=Ce<re.length?ue[re.charAt(Ce)]:64;if(++Ce,null==Et||null==Ln||null==hn||null==ne)throw Error();Ue.push(Et<<2|Ln>>4),64!==hn&&(Ue.push(Ln<<4&240|hn>>2),64!==ne&&Ue.push(hn<<6&192|ne))}return Ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}},ee=function(re){return function(re){const J=ae(re);return ce.encodeByteArray(J,!0)}(re).replace(/\./g,"")},ve=function(re){try{return ce.decodeString(re,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function nt(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){try{return"object"==typeof indexedDB}catch{return!1}}function Mt(){return new Promise((re,J)=>{try{let ue=!0;const Ue="validate-browser-context-for-indexeddb-analytics-module",Ce=self.indexedDB.open(Ue);Ce.onsuccess=()=>{Ce.result.close(),ue||self.indexedDB.deleteDatabase(Ue),re(!0)},Ce.onupgradeneeded=()=>{ue=!1},Ce.onerror=()=>{var Et;J((null===(Et=Ce.error)||void 0===Et?void 0:Et.message)||"")}}catch(ue){J(ue)}})}function Ne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ge=()=>{try{return function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=re&&ve(re[1]);return J&&JSON.parse(J)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},Oe=re=>{const J=(re=>{var J,ue;return null===(ue=null===(J=ge())||void 0===J?void 0:J.emulatorHosts)||void 0===ue?void 0:ue[re]})(re);if(!J)return;const ue=J.lastIndexOf(":");if(ue<=0||ue+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const Ue=parseInt(J.substring(ue+1),10);return"["===J[0]?[J.substring(1,ue-1),Ue]:[J.substring(0,ue),Ue]},At=()=>{var re;return null===(re=ge())||void 0===re?void 0:re.config},nn=re=>{var J;return null===(J=ge())||void 0===J?void 0:J[`_${re}`]};class Tn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,ue)=>{this.resolve=J,this.reject=ue})}wrapCallback(J){return(ue,Ue)=>{ue?this.reject(ue):this.resolve(Ue),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(ue):J(ue,Ue))}}}function Ut(re,J){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ue=J||"demo-project",Ce=re.iat||0,Et=re.sub||re.user_id;if(!Et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Gt=Object.assign({iss:`https://securetoken.google.com/${Ue}`,aud:Ue,iat:Ce,exp:Ce+3600,auth_time:Ce,sub:Et,user_id:Et,firebase:{sign_in_provider:"custom",identities:{}}},re);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(Gt)),""].join(".")}class yn extends Error{constructor(J,ue,Ue){super(ue),this.code=J,this.customData=Ue,this.name="FirebaseError",Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kt.prototype.create)}}class Kt{constructor(J,ue,Ue){this.service=J,this.serviceName=ue,this.errors=Ue}create(J,...ue){const Ue=ue[0]||{},Ce=`${this.service}/${J}`,Et=this.errors[J],Gt=Et?function Bt(re,J){return re.replace(cr,(ue,Ue)=>{const Ce=J[Ue];return null!=Ce?String(Ce):`<${Ue}?>`})}(Et,Ue):"Error";return new yn(Ce,`${this.serviceName}: ${Gt} (${Ce}).`,Ue)}}const cr=/\{\$([^}]+)}/g;function _n(re,J){if(re===J)return!0;const ue=Object.keys(re),Ue=Object.keys(J);for(const Ce of ue){if(!Ue.includes(Ce))return!1;const Et=re[Ce],Gt=J[Ce];if(qn(Et)&&qn(Gt)){if(!_n(Et,Gt))return!1}else if(Et!==Gt)return!1}for(const Ce of Ue)if(!ue.includes(Ce))return!1;return!0}function qn(re){return null!==re&&"object"==typeof re}function kn(re){const J=[];for(const[ue,Ue]of Object.entries(re))Array.isArray(Ue)?Ue.forEach(Ce=>{J.push(encodeURIComponent(ue)+"="+encodeURIComponent(Ce))}):J.push(encodeURIComponent(ue)+"="+encodeURIComponent(Ue));return J.length?"&"+J.join("&"):""}function Hn(re,J){const ue=new ln(re,J);return ue.subscribe.bind(ue)}class ln{constructor(J,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{J(this)}).catch(Ue=>{this.error(Ue)})}next(J){this.forEachObserver(ue=>{ue.next(J)})}error(J){this.forEachObserver(ue=>{ue.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,ue,Ue){let Ce;if(void 0===J&&void 0===ue&&void 0===Ue)throw new Error("Missing Observer.");Ce=function Pt(re,J){if("object"!=typeof re||null===re)return!1;for(const ue of J)if(ue in re&&"function"==typeof re[ue])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:ue,complete:Ue},void 0===Ce.next&&(Ce.next=Gn),void 0===Ce.error&&(Ce.error=Gn),void 0===Ce.complete&&(Ce.complete=Gn);const Et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ce.error(this.finalError):Ce.complete()}catch{}}),this.observers.push(Ce),Et}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,J)}sendOne(J,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{ue(this.observers[J])}catch(Ue){typeof console<"u"&&console.error&&console.error(Ue)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}function st(re,J=1e3,ue=2){const Ue=J*Math.pow(ue,re),Ce=Math.round(.5*Ue*(Math.random()-.5)*2);return Math.min(144e5,Ue+Ce)}function an(re){return re&&re._delegate?re._delegate:re}},3870:(_t,Re,L)=>{L.d(Re,{a:()=>Z});var C=L(4004),j=L(1571),K=L(384),ae=L(2839);let Z=(()=>{class ce{constructor(ee,ve){this._auth=ee,this._router=ve}canActivate(){return this._auth.user$.pipe((0,C.U)(ee=>!!ee||this._router.createUrlTree(["auth"])))}}return ce.\u0275fac=function(ee){return new(ee||ce)(j.LFG(K.e),j.LFG(ae.F0))},ce.\u0275prov=j.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},384:(_t,Re,L)=>{L.d(Re,{e:()=>pe});var C=L(2783),j=L(9646),K=L(8505),ae=L(4778),Z=L(4397),ce=L(1571);let pe=(()=>{class ee{constructor(H){this._store=H;const te=ae.m.get("userId");this.user$=te?this._getUser(te):(0,j.of)(null)}isLogin(){return Boolean(this.user)}getList(){const H=(0,C.hJ)(this._store,"users");return(0,C.BS)(H,{idField:"id"})}_getUser(H){const te=(0,C.JU)(this._store,"users",String(H)),de=(0,C._1)(te,{idField:"id"}).pipe((0,K.b)(qe=>this.user=qe));return(0,Z.y)(de)}}return ee.\u0275fac=function(H){return new(H||ee)(ce.LFG(C.gg))},ee.\u0275prov=ce.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},4778:(_t,Re,L)=>{L.d(Re,{m:()=>C});class C{static set(K,ae){const Z=JSON.stringify(ae);return localStorage.setItem(K,Z)}static get(K){const ae=localStorage.getItem(K);return ae&&JSON.parse(ae)}}},4397:(_t,Re,L)=>{L.d(Re,{y:()=>ae});var C=L(7579),j=L(6063);class K extends C.x{constructor(ce=1/0,pe=1/0,ee=j.l){super(),this._bufferSize=ce,this._windowTime=pe,this._timestampProvider=ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=pe===1/0,this._bufferSize=Math.max(1,ce),this._windowTime=Math.max(1,pe)}next(ce){const{isStopped:pe,_buffer:ee,_infiniteTimeWindow:ve,_timestampProvider:H,_windowTime:te}=this;pe||(ee.push(ce),!ve&&ee.push(H.now()+te)),this._trimBuffer(),super.next(ce)}_subscribe(ce){this._throwIfClosed(),this._trimBuffer();const pe=this._innerSubscribe(ce),{_infiniteTimeWindow:ee,_buffer:ve}=this,H=ve.slice();for(let te=0;te<H.length&&!ce.closed;te+=ee?1:2)ce.next(H[te]);return this._checkFinalizedStatuses(ce),pe}_trimBuffer(){const{_bufferSize:ce,_timestampProvider:pe,_buffer:ee,_infiniteTimeWindow:ve}=this,H=(ve?1:2)*ce;if(ce<1/0&&H<ee.length&&ee.splice(0,ee.length-H),!ve){const te=pe.now();let de=0;for(let qe=1;qe<ee.length&&ee[qe]<=te;qe+=2)de=qe;de&&ee.splice(0,de+1)}}}function ae(Z){const ce=new K(1);return Z.subscribe(ce),ce}},6734:(_t,Re,L)=>{var C=L(1481),j=L(1571),K=L(3692),ae=L(2783),Z=L(6895),ce=L(9770),pe=L(2843),ee=L(8421),ve=L(9751),H=L(5577),te=L(1144),de=L(576),qe=L(3268);const Be=["addListener","removeListener"],ut=["addEventListener","removeEventListener"],We=["on","off"];function nt(Te,ct,Ae,Ct){if((0,de.m)(Ae)&&(Ct=Ae,Ae=void 0),Ct)return nt(Te,ct,Ae).pipe((0,qe.Z)(Ct));const[et,dn]=function Ie(Te){return(0,de.m)(Te.addEventListener)&&(0,de.m)(Te.removeEventListener)}(Te)?ut.map(Jt=>dt=>Te[Jt](ct,dt,Ae)):function ze(Te){return(0,de.m)(Te.addListener)&&(0,de.m)(Te.removeListener)}(Te)?Be.map(pt(Te,ct)):function pn(Te){return(0,de.m)(Te.on)&&(0,de.m)(Te.off)}(Te)?We.map(pt(Te,ct)):[];if(!et&&(0,te.z)(Te))return(0,H.z)(Jt=>nt(Jt,ct,Ae))((0,ee.Xf)(Te));if(!et)throw new TypeError("Invalid event target");return new ve.y(Jt=>{const dt=(...Fe)=>Jt.next(1<Fe.length?Fe:Fe[0]);return et(dt),()=>dn(dt)})}function pt(Te,ct){return Ae=>Ct=>Te[Ae](ct,Ct)}var ke=L(9646),Ke=L(7272),Xe=L(7579),Mt=L(5032);const Ne=new ve.y(Mt.Z);var fe=L(6451),Y=L(4004),we=L(9300),ge=L(3900),Ze=L(4033),Oe=L(4482);const nn={connector:()=>new Xe.x};function Tn(Te,ct=nn){const{connector:Ae}=ct;return(0,Oe.e)((Ct,et)=>{const dn=Ae();(0,ee.Xf)(Te(function At(Te){return new ve.y(ct=>Te.subscribe(ct))}(dn))).subscribe(et),et.add(Ct.subscribe(dn))})}var yn=L(5698),Kt=L(8505),Bt=L(4986),cr=L(5403),fi=L(9718);function Kn(Te,ct){return ct?Ae=>(0,Ke.z)(ct.pipe((0,yn.q)(1),function Nn(){return(0,Oe.e)((Te,ct)=>{Te.subscribe((0,cr.x)(ct,Mt.Z))})}()),Ae.pipe(Kn(Te))):(0,H.z)((Ae,Ct)=>Te(Ae,Ct).pipe((0,yn.q)(1),(0,fi.h)(Ae)))}var yt=L(3532);const Rr="Service workers are disabled or not supported by this browser";class jn{constructor(ct){if(this.serviceWorker=ct,ct){const Ct=nt(ct,"controllerchange").pipe((0,Y.U)(()=>ct.controller)),et=(0,ce.P)(()=>(0,ke.of)(ct.controller)),dn=(0,Ke.z)(et,Ct);this.worker=dn.pipe((0,we.h)(mt=>!!mt)),this.registration=this.worker.pipe((0,ge.w)(()=>ct.getRegistration()));const st=nt(ct,"message").pipe((0,Y.U)(mt=>mt.data)).pipe((0,we.h)(mt=>mt&&mt.type)).pipe(function An(Te){return Te?ct=>Tn(Te)(ct):ct=>function Ut(Te,ct){const Ae=(0,de.m)(Te)?Te:()=>Te;return(0,de.m)(ct)?Tn(ct,{connector:Ae}):Ct=>new Ze.c(Ct,Ae)}(new Xe.x)(ct)}());st.connect(),this.events=st}else this.worker=this.events=this.registration=function lr(Te){return(0,ce.P)(()=>(0,pe._)(new Error(Te)))}(Rr)}postMessage(ct,Ae){return this.worker.pipe((0,yn.q)(1),(0,Kt.b)(Ct=>{Ct.postMessage({action:ct,...Ae})})).toPromise().then(()=>{})}postMessageWithOperation(ct,Ae,Ct){const et=this.waitForOperationCompleted(Ct),dn=this.postMessage(ct,Ae);return Promise.all([dn,et]).then(([,Jt])=>Jt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(ct){let Ae;return Ae="string"==typeof ct?Ct=>Ct.type===ct:Ct=>ct.includes(Ct.type),this.events.pipe((0,we.h)(Ae))}nextEventOfType(ct){return this.eventsOfType(ct).pipe((0,yn.q)(1))}waitForOperationCompleted(ct){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,we.h)(Ae=>Ae.nonce===ct),(0,yn.q)(1),(0,Y.U)(Ae=>{if(void 0!==Ae.result)return Ae.result;throw new Error(Ae.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let _i=(()=>{class Te{constructor(Ae){if(this.sw=Ae,this.subscriptionChanges=new Xe.x,!Ae.isEnabled)return this.messages=Ne,this.notificationClicks=Ne,void(this.subscription=Ne);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Y.U)(et=>et.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Y.U)(et=>et.data)),this.pushManager=this.sw.registration.pipe((0,Y.U)(et=>et.pushManager));const Ct=this.pushManager.pipe((0,ge.w)(et=>et.getSubscription()));this.subscription=(0,fe.T)(Ct,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(Ae){if(!this.sw.isEnabled)return Promise.reject(new Error(Rr));const Ct={userVisibleOnly:!0};let et=this.decodeBase64(Ae.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),dn=new Uint8Array(new ArrayBuffer(et.length));for(let Jt=0;Jt<et.length;Jt++)dn[Jt]=et.charCodeAt(Jt);return Ct.applicationServerKey=dn,this.pushManager.pipe((0,ge.w)(Jt=>Jt.subscribe(Ct)),(0,yn.q)(1)).toPromise().then(Jt=>(this.subscriptionChanges.next(Jt),Jt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,yn.q)(1),(0,ge.w)(Ct=>{if(null===Ct)throw new Error("Not subscribed to push notifications.");return Ct.unsubscribe().then(et=>{if(!et)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Rr))}decodeBase64(Ae){return atob(Ae)}}return Te.\u0275fac=function(Ae){return new(Ae||Te)(j.LFG(jn))},Te.\u0275prov=j.Yz7({token:Te,factory:Te.\u0275fac}),Te})(),_n=(()=>{class Te{constructor(Ae){if(this.sw=Ae,!Ae.isEnabled)return this.versionUpdates=Ne,this.available=Ne,this.activated=Ne,void(this.unrecoverable=Ne);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,we.h)(Ct=>"VERSION_READY"===Ct.type),(0,Y.U)(Ct=>({type:"UPDATE_AVAILABLE",current:Ct.currentVersion,available:Ct.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rr));const Ae=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Ae},Ae)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rr));const Ae=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Ae},Ae)}}return Te.\u0275fac=function(Ae){return new(Ae||Te)(j.LFG(jn))},Te.\u0275prov=j.Yz7({token:Te,factory:Te.\u0275fac}),Te})();class qn{}const zi=new j.OlP("NGSW_REGISTER_SCRIPT");function kn(Te,ct,Ae,Ct){return()=>{if(!(0,Z.NF)(Ct)||!("serviceWorker"in navigator)||!1===Ae.enabled)return;let et;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof Ae.registrationStrategy)et=Ae.registrationStrategy();else{const[Jt,...dt]=(Ae.registrationStrategy||"registerWhenStable:30000").split(":");switch(Jt){case"registerImmediately":et=(0,ke.of)(null);break;case"registerWithDelay":et=It(+dt[0]||0);break;case"registerWhenStable":et=dt[0]?(0,fe.T)(Fr(Te),It(+dt[0])):Fr(Te);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Ae.registrationStrategy}`)}}Te.get(j.R0b).runOutsideAngular(()=>et.pipe((0,yn.q)(1)).subscribe(()=>navigator.serviceWorker.register(ct,{scope:Ae.scope}).catch(Jt=>console.error("Service worker registration failed with:",Jt))))}}function It(Te){return(0,ke.of)(null).pipe(function zr(Te,ct=Bt.z){const Ae=function ei(Te=0,ct,Ae=Bt.P){let Ct=-1;return null!=ct&&((0,yt.K)(ct)?Ae=ct:Ct=ct),new ve.y(et=>{let dn=function cn(Te){return Te instanceof Date&&!isNaN(Te)}(Te)?+Te-Ae.now():Te;dn<0&&(dn=0);let Jt=0;return Ae.schedule(function(){et.closed||(et.next(Jt++),0<=Ct?this.schedule(void 0,Ct):et.complete())},dn)})}(Te,ct);return Kn(()=>Ae)}(Te))}function Fr(Te){return Te.get(j.z2F).isStable.pipe((0,we.h)(Ae=>Ae))}function Tr(Te,ct){return new jn((0,Z.NF)(ct)&&!1!==Te.enabled?navigator.serviceWorker:void 0)}let Hn=(()=>{class Te{static register(Ae,Ct={}){return{ngModule:Te,providers:[{provide:zi,useValue:Ae},{provide:qn,useValue:Ct},{provide:jn,useFactory:Tr,deps:[qn,j.Lbi]},{provide:j.ip1,useFactory:kn,deps:[j.zs3,zi,qn,j.Lbi],multi:!0}]}}}return Te.\u0275fac=function(Ae){return new(Ae||Te)},Te.\u0275mod=j.oAB({type:Te}),Te.\u0275inj=j.cJS({providers:[_i,_n]}),Te})();const ln_firebase={projectId:"task-manager-a2665",appId:"1:795933253568:web:0bc216c2d346814b757225",storageBucket:"task-manager-a2665.appspot.com",apiKey:"AIzaSyBtRTSaPXSazLXhZCaRYFaJ8WmKn1BkrAg",authDomain:"task-manager-a2665.firebaseapp.com",messagingSenderId:"795933253568"};var Rt=L(2839);const Gn=[{path:"auth",loadComponent:()=>L.e(972).then(L.bind(L,8972)).then(Te=>Te.AuthComponent)},{path:"task",loadChildren:()=>L.e(881).then(L.bind(L,7881)).then(Te=>Te.TaskModule),canActivate:[L(3870).a]},{path:"",redirectTo:"task",pathMatch:"full"},{path:"**",redirectTo:"task",pathMatch:"full"}];let Ur=(()=>{class Te{}return Te.\u0275fac=function(Ae){return new(Ae||Te)},Te.\u0275mod=j.oAB({type:Te}),Te.\u0275inj=j.cJS({imports:[Rt.Bz.forRoot(Gn),Rt.Bz]}),Te})(),Cn=(()=>{class Te{}return Te.\u0275fac=function(Ae){return new(Ae||Te)},Te.\u0275cmp=j.Xpm({type:Te,selectors:[["app-root"]],decls:1,vars:0,template:function(Ae,Ct){1&Ae&&j._UZ(0,"router-outlet")},dependencies:[Rt.lC],encapsulation:2,changeDetection:0}),Te})(),pr=(()=>{class Te{}return Te.\u0275fac=function(Ae){return new(Ae||Te)},Te.\u0275mod=j.oAB({type:Te,bootstrap:[Cn]}),Te.\u0275inj=j.cJS({imports:[C.b2,Ur,(0,K.hX)(()=>(0,K.ZF)(ln_firebase)),(0,ae.Cm)(()=>(0,ae.ad)()),Hn.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),Te})();(0,j.G48)(),C.q6().bootstrapModule(pr).catch(Te=>console.error(Te))},9751:(_t,Re,L)=>{L.d(Re,{y:()=>ee});var C=L(930),j=L(727),K=L(8822),ae=L(9635),Z=L(2416),ce=L(576),pe=L(2806);let ee=(()=>{class de{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const ut=new de;return ut.source=this,ut.operator=Be,ut}subscribe(Be,ut,We){const nt=function te(de){return de&&de instanceof C.Lv||function H(de){return de&&(0,ce.m)(de.next)&&(0,ce.m)(de.error)&&(0,ce.m)(de.complete)}(de)&&(0,j.Nn)(de)}(Be)?Be:new C.Hp(Be,ut,We);return(0,pe.x)(()=>{const{operator:pt,source:ze}=this;nt.add(pt?pt.call(nt,ze):ze?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Be){try{return this._subscribe(Be)}catch(ut){Be.error(ut)}}forEach(Be,ut){return new(ut=ve(ut))((We,nt)=>{const pt=new C.Hp({next:ze=>{try{Be(ze)}catch(pn){nt(pn),pt.unsubscribe()}},error:nt,complete:We});this.subscribe(pt)})}_subscribe(Be){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(Be)}[K.L](){return this}pipe(...Be){return(0,ae.U)(Be)(this)}toPromise(Be){return new(Be=ve(Be))((ut,We)=>{let nt;this.subscribe(pt=>nt=pt,pt=>We(pt),()=>ut(nt))})}}return de.create=qe=>new de(qe),de})();function ve(de){var qe;return null!==(qe=de??Z.v.Promise)&&void 0!==qe?qe:Promise}},7579:(_t,Re,L)=>{L.d(Re,{x:()=>pe});var C=L(9751),j=L(727);const ae=(0,L(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=L(8737),ce=L(2806);let pe=(()=>{class ve extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const de=new ee(this,this);return de.operator=te,de}_throwIfClosed(){if(this.closed)throw new ae}next(te){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(te)}})}error(te){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:de}=this;for(;de.length;)de.shift().error(te)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:de,isStopped:qe,observers:Be}=this;return de||qe?j.Lc:(this.currentObservers=null,Be.push(te),new j.w0(()=>{this.currentObservers=null,(0,Z.P)(Be,te)}))}_checkFinalizedStatuses(te){const{hasError:de,thrownError:qe,isStopped:Be}=this;de?te.error(qe):Be&&te.complete()}asObservable(){const te=new C.y;return te.source=this,te}}return ve.create=(H,te)=>new ee(H,te),ve})();class ee extends pe{constructor(H,te){super(),this.destination=H,this.source=te}next(H){var te,de;null===(de=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===de||de.call(te,H)}error(H){var te,de;null===(de=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===de||de.call(te,H)}complete(){var H,te;null===(te=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===te||te.call(H)}_subscribe(H){var te,de;return null!==(de=null===(te=this.source)||void 0===te?void 0:te.subscribe(H))&&void 0!==de?de:j.Lc}}},930:(_t,Re,L)=>{L.d(Re,{Hp:()=>We,Lv:()=>de});var C=L(576),j=L(727),K=L(2416),ae=L(7849),Z=L(5032);const ce=ve("C",void 0,void 0);function ve(Ie,ke,Ke){return{kind:Ie,value:ke,error:Ke}}var H=L(3410),te=L(2806);class de extends j.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,j.Nn)(ke)&&ke.add(this)):this.destination=pn}static create(ke,Ke,Xe){return new We(ke,Ke,Xe)}next(ke){this.isStopped?ze(function ee(Ie){return ve("N",Ie,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?ze(function pe(Ie){return ve("E",void 0,Ie)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?ze(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Be(Ie,ke){return qe.call(Ie,ke)}class ut{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(ke)}catch(Xe){nt(Xe)}}error(ke){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(ke)}catch(Xe){nt(Xe)}else nt(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ke){nt(Ke)}}}class We extends de{constructor(ke,Ke,Xe){let Mt;if(super(),(0,C.m)(ke)||!ke)Mt={next:ke??void 0,error:Ke??void 0,complete:Xe??void 0};else{let Ne;this&&K.v.useDeprecatedNextContext?(Ne=Object.create(ke),Ne.unsubscribe=()=>this.unsubscribe(),Mt={next:ke.next&&Be(ke.next,Ne),error:ke.error&&Be(ke.error,Ne),complete:ke.complete&&Be(ke.complete,Ne)}):Mt=ke}this.destination=new ut(Mt)}}function nt(Ie){K.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(Ie):(0,ae.h)(Ie)}function ze(Ie,ke){const{onStoppedNotification:Ke}=K.v;Ke&&H.z.setTimeout(()=>Ke(Ie,ke))}const pn={closed:!0,next:Z.Z,error:function pt(Ie){throw Ie},complete:Z.Z}},727:(_t,Re,L)=>{L.d(Re,{Lc:()=>ce,w0:()=>Z,Nn:()=>pe});var C=L(576);const K=(0,L(3888).d)(ve=>function(te){ve(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((de,qe)=>`${qe+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var ae=L(8737);class Z{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Be of te)Be.remove(this);else te.remove(this);const{initialTeardown:de}=this;if((0,C.m)(de))try{de()}catch(Be){H=Be instanceof K?Be.errors:[Be]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Be of qe)try{ee(Be)}catch(ut){H=H??[],ut instanceof K?H=[...H,...ut.errors]:H.push(ut)}}if(H)throw new K(H)}}add(H){var te;if(H&&H!==this)if(this.closed)ee(H);else{if(H instanceof Z){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(H)}}_hasParent(H){const{_parentage:te}=this;return te===H||Array.isArray(te)&&te.includes(H)}_addParent(H){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(H),te):te?[te,H]:H}_removeParent(H){const{_parentage:te}=this;te===H?this._parentage=null:Array.isArray(te)&&(0,ae.P)(te,H)}remove(H){const{_finalizers:te}=this;te&&(0,ae.P)(te,H),H instanceof Z&&H._removeParent(this)}}Z.EMPTY=(()=>{const ve=new Z;return ve.closed=!0,ve})();const ce=Z.EMPTY;function pe(ve){return ve instanceof Z||ve&&"closed"in ve&&(0,C.m)(ve.remove)&&(0,C.m)(ve.add)&&(0,C.m)(ve.unsubscribe)}function ee(ve){(0,C.m)(ve)?ve():ve.unsubscribe()}},2416:(_t,Re,L)=>{L.d(Re,{v:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(_t,Re,L)=>{L.d(Re,{c:()=>ce});var C=L(9751),j=L(727),K=L(8343),ae=L(5403),Z=L(4482);class ce extends C.y{constructor(ee,ve){super(),this.source=ee,this.subjectFactory=ve,this._subject=null,this._refCount=0,this._connection=null,(0,Z.A)(ee)&&(this.lift=ee.lift)}_subscribe(ee){return this.getSubject().subscribe(ee)}getSubject(){const ee=this._subject;return(!ee||ee.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ee}=this;this._subject=this._connection=null,ee?.unsubscribe()}connect(){let ee=this._connection;if(!ee){ee=this._connection=new j.w0;const ve=this.getSubject();ee.add(this.source.subscribe((0,ae.x)(ve,void 0,()=>{this._teardown(),ve.complete()},H=>{this._teardown(),ve.error(H)},()=>this._teardown()))),ee.closed&&(this._connection=null,ee=j.w0.EMPTY)}return ee}refCount(){return(0,K.x)()(this)}}},9841:(_t,Re,L)=>{L.d(Re,{a:()=>H});var C=L(9751),j=L(4742),K=L(8996),ae=L(4671),Z=L(3268),ce=L(3269),pe=L(1810),ee=L(5403),ve=L(9672);function H(...qe){const Be=(0,ce.yG)(qe),ut=(0,ce.jO)(qe),{args:We,keys:nt}=(0,j.D)(qe);if(0===We.length)return(0,K.D)([],Be);const pt=new C.y(function te(qe,Be,ut=ae.y){return We=>{de(Be,()=>{const{length:nt}=qe,pt=new Array(nt);let ze=nt,pn=nt;for(let Ie=0;Ie<nt;Ie++)de(Be,()=>{const ke=(0,K.D)(qe[Ie],Be);let Ke=!1;ke.subscribe((0,ee.x)(We,Xe=>{pt[Ie]=Xe,Ke||(Ke=!0,pn--),pn||We.next(ut(pt.slice()))},()=>{--ze||We.complete()}))},We)},We)}}(We,Be,nt?ze=>(0,pe.n)(nt,ze):ae.y));return ut?pt.pipe((0,Z.Z)(ut)):pt}function de(qe,Be,ut){qe?(0,ve.f)(ut,qe,Be):Be()}},7272:(_t,Re,L)=>{L.d(Re,{z:()=>Z});var C=L(8189),K=L(3269),ae=L(8996);function Z(...ce){return function j(){return(0,C.J)(1)}()((0,ae.D)(ce,(0,K.yG)(ce)))}},9770:(_t,Re,L)=>{L.d(Re,{P:()=>K});var C=L(9751),j=L(8421);function K(ae){return new C.y(Z=>{(0,j.Xf)(ae()).subscribe(Z)})}},515:(_t,Re,L)=>{L.d(Re,{E:()=>j});const j=new(L(9751).y)(Z=>Z.complete())},8996:(_t,Re,L)=>{L.d(Re,{D:()=>ke});var C=L(8421),j=L(5363),K=L(9468),ce=L(9751),ee=L(2202),ve=L(576),H=L(9672);function de(Ke,Xe){if(!Ke)throw new Error("Iterable cannot be null");return new ce.y(Mt=>{(0,H.f)(Mt,Xe,()=>{const Ne=Ke[Symbol.asyncIterator]();(0,H.f)(Mt,Xe,()=>{Ne.next().then(Le=>{Le.done?Mt.complete():Mt.next(Le.value)})},0,!0)})})}var qe=L(3670),Be=L(8239),ut=L(1144),We=L(6495),nt=L(2206),pt=L(4532),ze=L(3260);function ke(Ke,Xe){return Xe?function Ie(Ke,Xe){if(null!=Ke){if((0,qe.c)(Ke))return function ae(Ke,Xe){return(0,C.Xf)(Ke).pipe((0,K.R)(Xe),(0,j.Q)(Xe))}(Ke,Xe);if((0,ut.z)(Ke))return function pe(Ke,Xe){return new ce.y(Mt=>{let Ne=0;return Xe.schedule(function(){Ne===Ke.length?Mt.complete():(Mt.next(Ke[Ne++]),Mt.closed||this.schedule())})})}(Ke,Xe);if((0,Be.t)(Ke))return function Z(Ke,Xe){return(0,C.Xf)(Ke).pipe((0,K.R)(Xe),(0,j.Q)(Xe))}(Ke,Xe);if((0,nt.D)(Ke))return de(Ke,Xe);if((0,We.T)(Ke))return function te(Ke,Xe){return new ce.y(Mt=>{let Ne;return(0,H.f)(Mt,Xe,()=>{Ne=Ke[ee.h](),(0,H.f)(Mt,Xe,()=>{let Le,fe;try{({value:Le,done:fe}=Ne.next())}catch(Y){return void Mt.error(Y)}fe?Mt.complete():Mt.next(Le)},0,!0)}),()=>(0,ve.m)(Ne?.return)&&Ne.return()})}(Ke,Xe);if((0,ze.L)(Ke))return function pn(Ke,Xe){return de((0,ze.Q)(Ke),Xe)}(Ke,Xe)}throw(0,pt.z)(Ke)}(Ke,Xe):(0,C.Xf)(Ke)}},8421:(_t,Re,L)=>{L.d(Re,{Xf:()=>qe});var C=L(655),j=L(1144),K=L(8239),ae=L(9751),Z=L(3670),ce=L(2206),pe=L(4532),ee=L(6495),ve=L(3260),H=L(576),te=L(7849),de=L(8822);function qe(Ie){if(Ie instanceof ae.y)return Ie;if(null!=Ie){if((0,Z.c)(Ie))return function Be(Ie){return new ae.y(ke=>{const Ke=Ie[de.L]();if((0,H.m)(Ke.subscribe))return Ke.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,j.z)(Ie))return function ut(Ie){return new ae.y(ke=>{for(let Ke=0;Ke<Ie.length&&!ke.closed;Ke++)ke.next(Ie[Ke]);ke.complete()})}(Ie);if((0,K.t)(Ie))return function We(Ie){return new ae.y(ke=>{Ie.then(Ke=>{ke.closed||(ke.next(Ke),ke.complete())},Ke=>ke.error(Ke)).then(null,te.h)})}(Ie);if((0,ce.D)(Ie))return pt(Ie);if((0,ee.T)(Ie))return function nt(Ie){return new ae.y(ke=>{for(const Ke of Ie)if(ke.next(Ke),ke.closed)return;ke.complete()})}(Ie);if((0,ve.L)(Ie))return function ze(Ie){return pt((0,ve.Q)(Ie))}(Ie)}throw(0,pe.z)(Ie)}function pt(Ie){return new ae.y(ke=>{(function pn(Ie,ke){var Ke,Xe,Mt,Ne;return(0,C.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,C.KL)(Ie);!(Xe=yield Ke.next()).done;)if(ke.next(Xe.value),ke.closed)return}catch(Le){Mt={error:Le}}finally{try{Xe&&!Xe.done&&(Ne=Ke.return)&&(yield Ne.call(Ke))}finally{if(Mt)throw Mt.error}}ke.complete()})})(Ie,ke).catch(Ke=>ke.error(Ke))})}},6451:(_t,Re,L)=>{L.d(Re,{T:()=>ce});var C=L(8189),j=L(8421),K=L(515),ae=L(3269),Z=L(8996);function ce(...pe){const ee=(0,ae.yG)(pe),ve=(0,ae._6)(pe,1/0),H=pe;return H.length?1===H.length?(0,j.Xf)(H[0]):(0,C.J)(ve)((0,Z.D)(H,ee)):K.E}},9646:(_t,Re,L)=>{L.d(Re,{of:()=>K});var C=L(3269),j=L(8996);function K(...ae){const Z=(0,C.yG)(ae);return(0,j.D)(ae,Z)}},2843:(_t,Re,L)=>{L.d(Re,{_:()=>K});var C=L(9751),j=L(576);function K(ae,Z){const ce=(0,j.m)(ae)?ae:()=>ae,pe=ee=>ee.error(ce());return new C.y(Z?ee=>Z.schedule(pe,0,ee):pe)}},5403:(_t,Re,L)=>{L.d(Re,{x:()=>j});var C=L(930);function j(ae,Z,ce,pe,ee){return new K(ae,Z,ce,pe,ee)}class K extends C.Lv{constructor(Z,ce,pe,ee,ve,H){super(Z),this.onFinalize=ve,this.shouldUnsubscribe=H,this._next=ce?function(te){try{ce(te)}catch(de){Z.error(de)}}:super._next,this._error=ee?function(te){try{ee(te)}catch(de){Z.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(te){Z.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(Z=this.onFinalize)||void 0===Z||Z.call(this))}}}},9300:(_t,Re,L)=>{L.d(Re,{h:()=>K});var C=L(4482),j=L(5403);function K(ae,Z){return(0,C.e)((ce,pe)=>{let ee=0;ce.subscribe((0,j.x)(pe,ve=>ae.call(Z,ve,ee++)&&pe.next(ve)))})}},4004:(_t,Re,L)=>{L.d(Re,{U:()=>K});var C=L(4482),j=L(5403);function K(ae,Z){return(0,C.e)((ce,pe)=>{let ee=0;ce.subscribe((0,j.x)(pe,ve=>{pe.next(ae.call(Z,ve,ee++))}))})}},9718:(_t,Re,L)=>{L.d(Re,{h:()=>j});var C=L(4004);function j(K){return(0,C.U)(()=>K)}},8189:(_t,Re,L)=>{L.d(Re,{J:()=>K});var C=L(5577),j=L(4671);function K(ae=1/0){return(0,C.z)(j.y,ae)}},5577:(_t,Re,L)=>{L.d(Re,{z:()=>ee});var C=L(4004),j=L(8421),K=L(4482),ae=L(9672),Z=L(5403),pe=L(576);function ee(ve,H,te=1/0){return(0,pe.m)(H)?ee((de,qe)=>(0,C.U)((Be,ut)=>H(de,Be,qe,ut))((0,j.Xf)(ve(de,qe))),te):("number"==typeof H&&(te=H),(0,K.e)((de,qe)=>function ce(ve,H,te,de,qe,Be,ut,We){const nt=[];let pt=0,ze=0,pn=!1;const Ie=()=>{pn&&!nt.length&&!pt&&H.complete()},ke=Xe=>pt<de?Ke(Xe):nt.push(Xe),Ke=Xe=>{Be&&H.next(Xe),pt++;let Mt=!1;(0,j.Xf)(te(Xe,ze++)).subscribe((0,Z.x)(H,Ne=>{qe?.(Ne),Be?ke(Ne):H.next(Ne)},()=>{Mt=!0},void 0,()=>{if(Mt)try{for(pt--;nt.length&&pt<de;){const Ne=nt.shift();ut?(0,ae.f)(H,ut,()=>Ke(Ne)):Ke(Ne)}Ie()}catch(Ne){H.error(Ne)}}))};return ve.subscribe((0,Z.x)(H,ke,()=>{pn=!0,Ie()})),()=>{We?.()}}(de,qe,ve,te)))}},5363:(_t,Re,L)=>{L.d(Re,{Q:()=>ae});var C=L(9672),j=L(4482),K=L(5403);function ae(Z,ce=0){return(0,j.e)((pe,ee)=>{pe.subscribe((0,K.x)(ee,ve=>(0,C.f)(ee,Z,()=>ee.next(ve),ce),()=>(0,C.f)(ee,Z,()=>ee.complete(),ce),ve=>(0,C.f)(ee,Z,()=>ee.error(ve),ce)))})}},8343:(_t,Re,L)=>{L.d(Re,{x:()=>K});var C=L(4482),j=L(5403);function K(){return(0,C.e)((ae,Z)=>{let ce=null;ae._refCount++;const pe=(0,j.x)(Z,void 0,void 0,void 0,()=>{if(!ae||ae._refCount<=0||0<--ae._refCount)return void(ce=null);const ee=ae._connection,ve=ce;ce=null,ee&&(!ve||ee===ve)&&ee.unsubscribe(),Z.unsubscribe()});ae.subscribe(pe),pe.closed||(ce=ae.connect())})}},9468:(_t,Re,L)=>{L.d(Re,{R:()=>j});var C=L(4482);function j(K,ae=0){return(0,C.e)((Z,ce)=>{ce.add(K.schedule(()=>Z.subscribe(ce),ae))})}},3900:(_t,Re,L)=>{L.d(Re,{w:()=>ae});var C=L(8421),j=L(4482),K=L(5403);function ae(Z,ce){return(0,j.e)((pe,ee)=>{let ve=null,H=0,te=!1;const de=()=>te&&!ve&&ee.complete();pe.subscribe((0,K.x)(ee,qe=>{ve?.unsubscribe();let Be=0;const ut=H++;(0,C.Xf)(Z(qe,ut)).subscribe(ve=(0,K.x)(ee,We=>ee.next(ce?ce(qe,We,ut,Be++):We),()=>{ve=null,de()}))},()=>{te=!0,de()}))})}},5698:(_t,Re,L)=>{L.d(Re,{q:()=>ae});var C=L(515),j=L(4482),K=L(5403);function ae(Z){return Z<=0?()=>C.E:(0,j.e)((ce,pe)=>{let ee=0;ce.subscribe((0,K.x)(pe,ve=>{++ee<=Z&&(pe.next(ve),Z<=ee&&pe.complete())}))})}},8505:(_t,Re,L)=>{L.d(Re,{b:()=>Z});var C=L(576),j=L(4482),K=L(5403),ae=L(4671);function Z(ce,pe,ee){const ve=(0,C.m)(ce)||pe||ee?{next:ce,error:pe,complete:ee}:ce;return ve?(0,j.e)((H,te)=>{var de;null===(de=ve.subscribe)||void 0===de||de.call(ve);let qe=!0;H.subscribe((0,K.x)(te,Be=>{var ut;null===(ut=ve.next)||void 0===ut||ut.call(ve,Be),te.next(Be)},()=>{var Be;qe=!1,null===(Be=ve.complete)||void 0===Be||Be.call(ve),te.complete()},Be=>{var ut;qe=!1,null===(ut=ve.error)||void 0===ut||ut.call(ve,Be),te.error(Be)},()=>{var Be,ut;qe&&(null===(Be=ve.unsubscribe)||void 0===Be||Be.call(ve)),null===(ut=ve.finalize)||void 0===ut||ut.call(ve)}))}):ae.y}},4408:(_t,Re,L)=>{L.d(Re,{o:()=>Z});var C=L(727);class j extends C.w0{constructor(pe,ee){super()}schedule(pe,ee=0){return this}}const K={setInterval(ce,pe,...ee){const{delegate:ve}=K;return ve?.setInterval?ve.setInterval(ce,pe,...ee):setInterval(ce,pe,...ee)},clearInterval(ce){const{delegate:pe}=K;return(pe?.clearInterval||clearInterval)(ce)},delegate:void 0};var ae=L(8737);class Z extends j{constructor(pe,ee){super(pe,ee),this.scheduler=pe,this.work=ee,this.pending=!1}schedule(pe,ee=0){var ve;if(this.closed)return this;this.state=pe;const H=this.id,te=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(te,H,ee)),this.pending=!0,this.delay=ee,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(te,this.id,ee),this}requestAsyncId(pe,ee,ve=0){return K.setInterval(pe.flush.bind(pe,this),ve)}recycleAsyncId(pe,ee,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ee;null!=ee&&K.clearInterval(ee)}execute(pe,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(pe,ee);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,ee){let H,ve=!1;try{this.work(pe)}catch(te){ve=!0,H=te||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:pe,scheduler:ee}=this,{actions:ve}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ve,this),null!=pe&&(this.id=this.recycleAsyncId(ee,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,Re,L)=>{L.d(Re,{v:()=>K});var C=L(6063);class j{constructor(Z,ce=j.now){this.schedulerActionCtor=Z,this.now=ce}schedule(Z,ce=0,pe){return new this.schedulerActionCtor(this,Z).schedule(pe,ce)}}j.now=C.l.now;class K extends j{constructor(Z,ce=j.now){super(Z,ce),this.actions=[],this._active=!1}flush(Z){const{actions:ce}=this;if(this._active)return void ce.push(Z);let pe;this._active=!0;do{if(pe=Z.execute(Z.state,Z.delay))break}while(Z=ce.shift());if(this._active=!1,pe){for(;Z=ce.shift();)Z.unsubscribe();throw pe}}}},4986:(_t,Re,L)=>{L.d(Re,{P:()=>ae,z:()=>K});var C=L(4408);const K=new(L(7565).v)(C.o),ae=K},6063:(_t,Re,L)=>{L.d(Re,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},3410:(_t,Re,L)=>{L.d(Re,{z:()=>C});const C={setTimeout(j,K,...ae){const{delegate:Z}=C;return Z?.setTimeout?Z.setTimeout(j,K,...ae):setTimeout(j,K,...ae)},clearTimeout(j){const{delegate:K}=C;return(K?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(_t,Re,L)=>{L.d(Re,{h:()=>j});const j=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Re,L)=>{L.d(Re,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Re,L)=>{L.d(Re,{_6:()=>ce,jO:()=>ae,yG:()=>Z});var C=L(576),j=L(3532);function K(pe){return pe[pe.length-1]}function ae(pe){return(0,C.m)(K(pe))?pe.pop():void 0}function Z(pe){return(0,j.K)(K(pe))?pe.pop():void 0}function ce(pe,ee){return"number"==typeof K(pe)?pe.pop():ee}},4742:(_t,Re,L)=>{L.d(Re,{D:()=>Z});const{isArray:C}=Array,{getPrototypeOf:j,prototype:K,keys:ae}=Object;function Z(pe){if(1===pe.length){const ee=pe[0];if(C(ee))return{args:ee,keys:null};if(function ce(pe){return pe&&"object"==typeof pe&&j(pe)===K}(ee)){const ve=ae(ee);return{args:ve.map(H=>ee[H]),keys:ve}}}return{args:pe,keys:null}}},8737:(_t,Re,L)=>{function C(j,K){if(j){const ae=j.indexOf(K);0<=ae&&j.splice(ae,1)}}L.d(Re,{P:()=>C})},3888:(_t,Re,L)=>{function C(j){const ae=j(Z=>{Error.call(Z),Z.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}L.d(Re,{d:()=>C})},1810:(_t,Re,L)=>{function C(j,K){return j.reduce((ae,Z,ce)=>(ae[Z]=K[ce],ae),{})}L.d(Re,{n:()=>C})},2806:(_t,Re,L)=>{L.d(Re,{O:()=>ae,x:()=>K});var C=L(2416);let j=null;function K(Z){if(C.v.useDeprecatedSynchronousErrorHandling){const ce=!j;if(ce&&(j={errorThrown:!1,error:null}),Z(),ce){const{errorThrown:pe,error:ee}=j;if(j=null,pe)throw ee}}else Z()}function ae(Z){C.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=Z)}},9672:(_t,Re,L)=>{function C(j,K,ae,Z=0,ce=!1){const pe=K.schedule(function(){ae(),ce?j.add(this.schedule(null,Z)):this.unsubscribe()},Z);if(j.add(pe),!ce)return pe}L.d(Re,{f:()=>C})},4671:(_t,Re,L)=>{function C(j){return j}L.d(Re,{y:()=>C})},1144:(_t,Re,L)=>{L.d(Re,{z:()=>C});const C=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(_t,Re,L)=>{L.d(Re,{D:()=>j});var C=L(576);function j(K){return Symbol.asyncIterator&&(0,C.m)(K?.[Symbol.asyncIterator])}},576:(_t,Re,L)=>{function C(j){return"function"==typeof j}L.d(Re,{m:()=>C})},3670:(_t,Re,L)=>{L.d(Re,{c:()=>K});var C=L(8822),j=L(576);function K(ae){return(0,j.m)(ae[C.L])}},6495:(_t,Re,L)=>{L.d(Re,{T:()=>K});var C=L(2202),j=L(576);function K(ae){return(0,j.m)(ae?.[C.h])}},8239:(_t,Re,L)=>{L.d(Re,{t:()=>j});var C=L(576);function j(K){return(0,C.m)(K?.then)}},3260:(_t,Re,L)=>{L.d(Re,{L:()=>ae,Q:()=>K});var C=L(655),j=L(576);function K(Z){return(0,C.FC)(this,arguments,function*(){const pe=Z.getReader();try{for(;;){const{value:ee,done:ve}=yield(0,C.qq)(pe.read());if(ve)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(ee)}}finally{pe.releaseLock()}})}function ae(Z){return(0,j.m)(Z?.getReader)}},3532:(_t,Re,L)=>{L.d(Re,{K:()=>j});var C=L(576);function j(K){return K&&(0,C.m)(K.schedule)}},4482:(_t,Re,L)=>{L.d(Re,{A:()=>j,e:()=>K});var C=L(576);function j(ae){return(0,C.m)(ae?.lift)}function K(ae){return Z=>{if(j(Z))return Z.lift(function(ce){try{return ae(ce,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(_t,Re,L)=>{L.d(Re,{Z:()=>ae});var C=L(4004);const{isArray:j}=Array;function ae(Z){return(0,C.U)(ce=>function K(Z,ce){return j(ce)?Z(...ce):Z(ce)}(Z,ce))}},5032:(_t,Re,L)=>{function C(){}L.d(Re,{Z:()=>C})},9635:(_t,Re,L)=>{L.d(Re,{U:()=>K,z:()=>j});var C=L(4671);function j(...ae){return K(ae)}function K(ae){return 0===ae.length?C.y:1===ae.length?ae[0]:function(ce){return ae.reduce((pe,ee)=>ee(pe),ce)}}},7849:(_t,Re,L)=>{L.d(Re,{h:()=>K});var C=L(2416),j=L(3410);function K(ae){j.z.setTimeout(()=>{const{onUnhandledError:Z}=C.v;if(!Z)throw ae;Z(ae)})}},4532:(_t,Re,L)=>{function C(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Re,{z:()=>C})},655:(_t,Re,L)=>{function ae(fe,Y){var we={};for(var ge in fe)Object.prototype.hasOwnProperty.call(fe,ge)&&Y.indexOf(ge)<0&&(we[ge]=fe[ge]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ge=Object.getOwnPropertySymbols(fe);Ze<ge.length;Ze++)Y.indexOf(ge[Ze])<0&&Object.prototype.propertyIsEnumerable.call(fe,ge[Ze])&&(we[ge[Ze]]=fe[ge[Ze]])}return we}function ee(fe,Y,we,ge){return new(we||(we=Promise))(function(Oe,At){function nn(An){try{Ut(ge.next(An))}catch(yn){At(yn)}}function Tn(An){try{Ut(ge.throw(An))}catch(yn){At(yn)}}function Ut(An){An.done?Oe(An.value):function Ze(Oe){return Oe instanceof we?Oe:new we(function(At){At(Oe)})}(An.value).then(nn,Tn)}Ut((ge=ge.apply(fe,Y||[])).next())})}function nt(fe){return this instanceof nt?(this.v=fe,this):new nt(fe)}function pt(fe,Y,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,ge=we.apply(fe,Y||[]),Oe=[];return Ze={},At("next"),At("throw"),At("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function At(Kt){ge[Kt]&&(Ze[Kt]=function(Bt){return new Promise(function(cr,Nn){Oe.push([Kt,Bt,cr,Nn])>1||nn(Kt,Bt)})})}function nn(Kt,Bt){try{!function Tn(Kt){Kt.value instanceof nt?Promise.resolve(Kt.value.v).then(Ut,An):yn(Oe[0][2],Kt)}(ge[Kt](Bt))}catch(cr){yn(Oe[0][3],cr)}}function Ut(Kt){nn("next",Kt)}function An(Kt){nn("throw",Kt)}function yn(Kt,Bt){Kt(Bt),Oe.shift(),Oe.length&&nn(Oe[0][0],Oe[0][1])}}function pn(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,Y=fe[Symbol.asyncIterator];return Y?Y.call(fe):(fe=function de(fe){var Y="function"==typeof Symbol&&Symbol.iterator,we=Y&&fe[Y],ge=0;if(we)return we.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&ge>=fe.length&&(fe=void 0),{value:fe&&fe[ge++],done:!fe}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),we={},ge("next"),ge("throw"),ge("return"),we[Symbol.asyncIterator]=function(){return this},we);function ge(Oe){we[Oe]=fe[Oe]&&function(At){return new Promise(function(nn,Tn){!function Ze(Oe,At,nn,Tn){Promise.resolve(Tn).then(function(Ut){Oe({value:Ut,done:nn})},At)}(nn,Tn,(At=fe[Oe](At)).done,At.value)})}}}L.d(Re,{FC:()=>pt,KL:()=>pn,_T:()=>ae,mG:()=>ee,qq:()=>nt})},6895:(_t,Re,L)=>{L.d(Re,{Do:()=>pn,EM:()=>Ls,HT:()=>Z,JF:()=>To,K0:()=>pe,Mx:()=>ti,NF:()=>Os,Ov:()=>Ho,S$:()=>nt,V_:()=>H,Ye:()=>Ie,b0:()=>ze,bD:()=>eo,ez:()=>la,q:()=>K,sg:()=>Zs,w_:()=>ce});var C=L(1571);let j=null;function K(){return j}function Z(b){j||(j=b)}class ce{}const pe=new C.OlP("DocumentToken");let ee=(()=>{class b{historyGo(S){throw new Error("Not implemented")}}return b.\u0275fac=function(S){return new(S||b)},b.\u0275prov=C.Yz7({token:b,factory:function(){return function ve(){return(0,C.LFG)(te)}()},providedIn:"platform"}),b})();const H=new C.OlP("Location Initialized");let te=(()=>{class b extends ee{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(S){const B=K().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",S,!1),()=>B.removeEventListener("popstate",S)}onHashChange(S){const B=K().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",S,!1),()=>B.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,B,ie){de()?this._history.pushState(S,B,ie):this.location.hash=ie}replaceState(S,B,ie){de()?this._history.replaceState(S,B,ie):this.location.hash=ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return b.\u0275fac=function(S){return new(S||b)(C.LFG(pe))},b.\u0275prov=C.Yz7({token:b,factory:function(){return function qe(){return new te((0,C.LFG)(pe))}()},providedIn:"platform"}),b})();function de(){return!!window.history.pushState}function Be(b,N){if(0==b.length)return N;if(0==N.length)return b;let S=0;return b.endsWith("/")&&S++,N.startsWith("/")&&S++,2==S?b+N.substring(1):1==S?b+N:b+"/"+N}function ut(b){const N=b.match(/#|\?|$/),S=N&&N.index||b.length;return b.slice(0,S-("/"===b[S-1]?1:0))+b.slice(S)}function We(b){return b&&"?"!==b[0]?"?"+b:b}let nt=(()=>{class b{historyGo(S){throw new Error("Not implemented")}}return b.\u0275fac=function(S){return new(S||b)},b.\u0275prov=C.Yz7({token:b,factory:function(){return(0,C.f3M)(ze)},providedIn:"root"}),b})();const pt=new C.OlP("appBaseHref");let ze=(()=>{class b extends nt{constructor(S,B){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,C.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Be(this._baseHref,S)}path(S=!1){const B=this._platformLocation.pathname+We(this._platformLocation.search),ie=this._platformLocation.hash;return ie&&S?`${B}${ie}`:B}pushState(S,B,ie,Se){const je=this.prepareExternalUrl(ie+We(Se));this._platformLocation.pushState(S,B,je)}replaceState(S,B,ie,Se){const je=this.prepareExternalUrl(ie+We(Se));this._platformLocation.replaceState(S,B,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return b.\u0275fac=function(S){return new(S||b)(C.LFG(ee),C.LFG(pt,8))},b.\u0275prov=C.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),pn=(()=>{class b extends nt{constructor(S,B){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(S){const B=Be(this._baseHref,S);return B.length>0?"#"+B:B}pushState(S,B,ie,Se){let je=this.prepareExternalUrl(ie+We(Se));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.pushState(S,B,je)}replaceState(S,B,ie,Se){let je=this.prepareExternalUrl(ie+We(Se));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.replaceState(S,B,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return b.\u0275fac=function(S){return new(S||b)(C.LFG(ee),C.LFG(pt,8))},b.\u0275prov=C.Yz7({token:b,factory:b.\u0275fac}),b})(),Ie=(()=>{class b{constructor(S){this._subject=new C.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const B=this._locationStrategy.getBaseHref();this._baseHref=ut(Xe(B)),this._locationStrategy.onPopState(ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:ie.state,type:ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,B=""){return this.path()==this.normalize(S+We(B))}normalize(S){return b.stripTrailingSlash(function Ke(b,N){return b&&N.startsWith(b)?N.substring(b.length):N}(this._baseHref,Xe(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,B="",ie=null){this._locationStrategy.pushState(ie,"",S,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+We(B)),ie)}replaceState(S,B="",ie=null){this._locationStrategy.replaceState(ie,"",S,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+We(B)),ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)})),()=>{const B=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",B){this._urlChangeListeners.forEach(ie=>ie(S,B))}subscribe(S,B,ie){return this._subject.subscribe({next:S,error:B,complete:ie})}}return b.normalizeQueryParams=We,b.joinWithSlash=Be,b.stripTrailingSlash=ut,b.\u0275fac=function(S){return new(S||b)(C.LFG(nt))},b.\u0275prov=C.Yz7({token:b,factory:function(){return function ke(){return new Ie((0,C.LFG)(nt))}()},providedIn:"root"}),b})();function Xe(b){return b.replace(/\/index.html$/,"")}function ti(b,N){N=encodeURIComponent(N);for(const S of b.split(";")){const B=S.indexOf("="),[ie,Se]=-1==B?[S,""]:[S.slice(0,B),S.slice(B+1)];if(ie.trim()===N)return decodeURIComponent(Se)}return null}class En{constructor(N,S,B,ie){this.$implicit=N,this.ngForOf=S,this.index=B,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zs=(()=>{class b{constructor(S,B,ie){this._viewContainer=S,this._template=B,this._differs=ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const B=this._viewContainer;S.forEachOperation((ie,Se,je)=>{if(null==ie.previousIndex)B.createEmbeddedView(this._template,new En(ie.item,this._ngForOf,-1,-1),null===je?void 0:je);else if(null==je)B.remove(null===Se?void 0:Se);else if(null!==Se){const vt=B.get(Se);B.move(vt,je),Ys(vt,ie)}});for(let ie=0,Se=B.length;ie<Se;ie++){const vt=B.get(ie).context;vt.index=ie,vt.count=Se,vt.ngForOf=this._ngForOf}S.forEachIdentityChange(ie=>{Ys(B.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(S,B){return!0}}return b.\u0275fac=function(S){return new(S||b)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},b.\u0275dir=C.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),b})();function Ys(b,N){b.context.$implicit=N.item}class jo{createSubscription(N,S){return N.subscribe({next:S,error:B=>{throw B}})}dispose(N){N.unsubscribe()}}class ua{createSubscription(N,S){return N.then(S,B=>{throw B})}dispose(N){}}const Di=new ua,ca=new jo;let Ho=(()=>{class b{constructor(S){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,B=>this._updateLatestValue(S,B))}_selectStrategy(S){if((0,C.QGY)(S))return Di;if((0,C.F4k)(S))return ca;throw function Oi(b,N){return new C.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,B){S===this._obj&&(this._latestValue=B,this._ref.markForCheck())}}return b.\u0275fac=function(S){return new(S||b)(C.Y36(C.sBO,16))},b.\u0275pipe=C.Yjl({name:"async",type:b,pure:!1,standalone:!0}),b})(),la=(()=>{class b{}return b.\u0275fac=function(S){return new(S||b)},b.\u0275mod=C.oAB({type:b}),b.\u0275inj=C.cJS({}),b})();const eo="browser";function Os(b){return b===eo}let Ls=(()=>{class b{}return b.\u0275prov=(0,C.Yz7)({token:b,providedIn:"root",factory:()=>new da((0,C.LFG)(pe),window)}),b})();class da{constructor(N,S){this.document=N,this.window=S,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(N){this.supportsScrolling()&&this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){if(!this.supportsScrolling())return;const S=function Xn(b,N){const S=b.getElementById(N)||b.getElementsByName(N)[0];if(S)return S;if("function"==typeof b.createTreeWalker&&b.body&&(b.body.createShadowRoot||b.body.attachShadow)){const B=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let ie=B.currentNode;for(;ie;){const Se=ie.shadowRoot;if(Se){const je=Se.getElementById(N)||Se.querySelector(`[name="${N}"]`);if(je)return je}ie=B.nextNode()}}return null}(this.document,N);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(N){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=N)}}scrollToElement(N){const S=N.getBoundingClientRect(),B=S.left+this.window.pageXOffset,ie=S.top+this.window.pageYOffset,Se=this.offset();this.window.scrollTo(B-Se[0],ie-Se[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const N=as(this.window.history)||as(Object.getPrototypeOf(this.window.history));return!(!N||!N.writable&&!N.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function as(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class To{}},1571:(_t,Re,L)=>{L.d(Re,{tb:()=>oE,AFp:()=>rE,ip1:()=>nE,CZH:()=>py,hGG:()=>SD,z2F:()=>my,sBO:()=>dD,Sil:()=>zw,_Vd:()=>Su,EJc:()=>Gw,Xts:()=>Rd,SBq:()=>Au,lqb:()=>yo,qLn:()=>qc,vpe:()=>Ec,XFs:()=>It,OlP:()=>Zn,zs3:()=>oc,ZZ4:()=>Zv,aQg:()=>Yv,soG:()=>gy,YKP:()=>c0,h0i:()=>op,PXZ:()=>sD,R0b:()=>ou,FiY:()=>en,Lbi:()=>$w,g9A:()=>sE,Qsj:()=>vf,FYo:()=>Kc,JOm:()=>ko,tp0:()=>In,Rgc:()=>om,dDg:()=>tD,eoX:()=>fE,q4F:()=>_f,GfV:()=>Vl,s_b:()=>dy,ifc:()=>pr,MMx:()=>Tv,Lck:()=>OI,eFA:()=>mE,G48:()=>lD,Gpc:()=>ut,f3M:()=>Q,_c5:()=>CD,c2e:()=>jw,zSh:()=>Tu,wAp:()=>on,vHH:()=>ze,lri:()=>dE,rWj:()=>hE,D6c:()=>AD,cg1:()=>mv,kL8:()=>N_,dqk:()=>Te,Z0I:()=>zr,sIi:()=>td,CqO:()=>Gg,QGY:()=>Ru,QP$:()=>ne,F4k:()=>Hg,RDi:()=>xp,AaK:()=>de,qOj:()=>zf,TTD:()=>os,_Bn:()=>u0,jDz:()=>d0,xp6:()=>bf,uIk:()=>di,ekj:()=>_c,Suo:()=>N0,Xpm:()=>an,lG2:()=>Gt,Yz7:()=>Kn,cJS:()=>cn,oAB:()=>Ue,Yjl:()=>Ln,Y36:()=>Dn,_UZ:()=>Vg,qZA:()=>nd,TgZ:()=>wh,EpF:()=>jg,n5z:()=>xe,LFG:()=>M,$8M:()=>ps,$Z:()=>Uo,NdJ:()=>Dh,CRH:()=>k0,oxw:()=>Jf,ALo:()=>b0,lcZ:()=>C0,Q6J:()=>yc,DdM:()=>v0,VKq:()=>_0,iGM:()=>P0,KtG:()=>Vs,CHM:()=>Us,LSH:()=>Al,YNc:()=>Ug,_uU:()=>ry,Oqu:()=>iy});var C=L(7579),j=L(727),K=L(9751),ae=L(6451),Z=L(8421),ce=L(930),pe=L(4482);function ve(n,r,...s){if(!0===r)return void n();if(!1===r)return;const a=new ce.Hp({next:()=>{a.unsubscribe(),n()}});return r(...s).subscribe(a)}function H(n){for(let r in n)if(n[r]===H)return r;throw Error("Could not find renamed property on target object.")}function te(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function de(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(de).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function qe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Be=H({__forward_ref__:H});function ut(n){return n.__forward_ref__=ut,n.toString=function(){return de(this())},n}function We(n){return nt(n)?n():n}function nt(n){return"function"==typeof n&&n.hasOwnProperty(Be)&&n.__forward_ref__===ut}class ze extends Error{constructor(r,s){super(function pn(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Ne(n,r){throw new ze(-201,!1)}function Kt(n,r){null==n&&function Bt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Kn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ei(n){return Rr(n,_n)||Rr(n,zi)}function zr(n){return null!==ei(n)}function Rr(n,r){return n.hasOwnProperty(r)?n[r]:null}function _i(n){return n&&(n.hasOwnProperty(qn)||n.hasOwnProperty(kn))?n[qn]:null}const _n=H({\u0275prov:H}),qn=H({\u0275inj:H}),zi=H({ngInjectableDef:H}),kn=H({ngInjectorDef:H});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let Fr;function Hn(n){const r=Fr;return Fr=n,r}function ln(n,r,s){const a=ei(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&It.Optional?null:void 0!==r?r:void Ne(de(n))}function Pt(n){return{toString:n}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),pr=(()=>{return(n=pr||(pr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pr;var n})();const Te=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ct={},et=[],dn=H({\u0275cmp:H}),Jt=H({\u0275dir:H}),dt=H({\u0275pipe:H}),Fe=H({\u0275mod:H}),st=H({\u0275fac:H}),mt=H({__NG_ELEMENT_ID__:H});let Yt=0;function an(n){return Pt(()=>{const s=!0===n.standalone,a={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||et,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||pr.Emulated,id:"c"+Yt++,styles:n.styles||et,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,m=n.features;return c.inputs=Et(n.inputs,a),c.outputs=Et(n.outputs),m&&m.forEach(I=>I(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(J).filter(ue):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(me).filter(ue):null,c})}function J(n){return qt(n)||hn(n)}function ue(n){return null!==n}function Ue(n){return Pt(()=>({type:n.type,bootstrap:n.bootstrap||et,declarations:n.declarations||et,imports:n.imports||et,exports:n.exports||et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Et(n,r){if(null==n)return Ct;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,r&&(r[c]=h)}return s}const Gt=an;function Ln(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function qt(n){return n[dn]||null}function hn(n){return n[Jt]||null}function me(n){return n[dt]||null}function ne(n){const r=qt(n)||hn(n)||me(n);return null!==r&&r.standalone}function q(n,r){const s=n[Fe]||null;if(!s&&!0===r)throw new Error(`Type ${de(n)} does not have '\u0275mod' property.`);return s}function gr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Zr(n){return Array.isArray(n)&&!0===n[1]}function Eo(n){return 0!=(8&n.flags)}function Xs(n){return 2==(2&n.flags)}function is(n){return 1==(1&n.flags)}function gi(n){return null!==n.template}function aa(n){return 0!=(256&n[2])}function yr(n,r){return n.hasOwnProperty(st)?n[st]:null}class Do{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function os(){return Nu}function Nu(n){return n.type.prototype.ngOnChanges&&(n.setInput=eo),la}function la(){const n=Si(this),r=n?.current;if(r){const s=n.previous;if(s===Ct)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function eo(n,r,s,a){const c=Si(n)||function Li(n,r){return n[qi]=r}(n,{previous:Ct,current:null}),h=c.current||(c.current={}),m=c.previous,I=this.declaredInputs[s],T=m[I];h[I]=new Do(T&&T.currentValue,r,m===Ct),n[a]=r}os.ngInherit=!0;const qi="__ngSimpleChanges__";function Si(n){return n[qi]||null}function Xn(n){for(;Array.isArray(n);)n=n[0];return n}function bo(n,r){return Xn(r[n])}function xn(n,r){return Xn(r[n.index])}function bs(n,r){return n.data[r]}function Vr(n,r){const s=r[n];return gr(s)?s:s[0]}function rr(n){return 64==(64&n[2])}function ir(n,r){return null==r?null:n[r]}function no(n){n[18]=0}function xi(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const jt={lFrame:S(null),bindingsEnabled:!0};function io(){return jt.bindingsEnabled}function He(){return jt.lFrame.lView}function Xt(){return jt.lFrame.tView}function Us(n){return jt.lFrame.contextLView=n,n[8]}function Vs(n){return jt.lFrame.contextLView=null,n}function Jn(){let n=ao();for(;null!==n&&64===n.type;)n=n.parent;return n}function ao(){return jt.lFrame.currentTNode}function Kr(n,r){const s=jt.lFrame;s.currentTNode=n,s.isParent=r}function Bs(){return jt.lFrame.isParent}function ii(){const n=jt.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function So(){return jt.lFrame.bindingIndex++}function Ao(n,r){const s=jt.lFrame;s.bindingIndex=s.bindingRootIndex=n,ds(r)}function ds(n){jt.lFrame.currentDirectiveIndex=n}function mi(){return jt.lFrame.currentQueryIndex}function ga(n){jt.lFrame.currentQueryIndex=n}function $s(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function xo(n,r,s){if(s&It.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||s&It.Host||(c=$s(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;r=c,n=h}const a=jt.lFrame=N();return a.currentTNode=r,a.lView=n,!0}function b(n){const r=N(),s=n[1];jt.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function N(){const n=jt.lFrame,r=null===n?null:n.child;return null===r?S(n):r}function S(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function B(){const n=jt.lFrame;return jt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ie=B;function Se(){const n=B();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $t(){return jt.lFrame.selectedIndex}function gn(n){jt.lFrame.selectedIndex=n}function Ft(){const n=jt.lFrame;return bs(n.tView,n.selectedIndex)}function vr(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:T,ngAfterViewChecked:P,ngOnDestroy:V}=h;m&&(n.contentHooks||(n.contentHooks=[])).push(-s,m),I&&((n.contentHooks||(n.contentHooks=[])).push(s,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,I)),T&&(n.viewHooks||(n.viewHooks=[])).push(-s,T),P&&((n.viewHooks||(n.viewHooks=[])).push(s,P),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,P)),null!=V&&(n.destroyHooks||(n.destroyHooks=[])).push(s,V)}}function Br(n,r,s){Je(n,r,3,s)}function As(n,r,s,a){(3&n[2])===s&&Je(n,r,s,a)}function ma(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Je(n,r,s,a){const h=a??-1,m=r.length-1;let I=0;for(let T=void 0!==a?65535&n[18]:0;T<m;T++)if("number"==typeof r[T+1]){if(I=r[T],null!=a&&I>=a)break}else r[T]<0&&(n[18]+=65536),(I<h||-1==h)&&(Cr(n,s,r,T),n[18]=(4294901760&n[18])+T+2),T++}function Cr(n,r,s,a){const c=s[a]<0,h=s[a+1],I=n[c?-s[a]:s[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(I)}finally{}}}else try{h.call(I)}finally{}}class Mi{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function va(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const h=s[a++],m=s[a++],I=s[a++];n.setAttribute(r,m,I,h)}else{const h=c,m=s[++a];Vi(h)?n.setProperty(r,h,m):n.setAttribute(r,h,m),a++}}return a}function Ic(n){return 3===n||4===n||6===n}function Vi(n){return 64===n.charCodeAt(0)}function uu(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||wc(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function wc(n,r,s,a,c){let h=0,m=n.length;if(-1===r)m=-1;else for(;h<n.length;){const I=n[h++];if("number"==typeof I){if(I===r){m=-1;break}if(I>r){m=h-1;break}}}for(;h<n.length;){const I=n[h];if("number"==typeof I)break;if(I===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(n.splice(m,0,r),h=m+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}function cu(n){return-1!==n}function js(n){return 32767&n}function ho(n,r){let s=function ul(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let ja=!0;function Qt(n){const r=ja;return ja=n,r}let Lt=0;const si={};function hs(n,r){const s=ft(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Ir(a.data,n),Ir(r,null),Ir(a.blueprint,null));const c=fs(n,r),h=n.injectorIndex;if(cu(c)){const m=js(c),I=ho(c,r),T=I[1].data;for(let P=0;P<8;P++)r[h+P]=I[m+P]|T[m+P]}return r[h+8]=c,h}function Ir(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ft(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function fs(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=wa(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function fo(n,r,s){!function Sn(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(mt)&&(a=s[mt]),null==a&&(a=s[mt]=Lt++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function _a(n,r,s){if(s&It.Optional||void 0!==n)return n;Ne()}function po(n,r,s,a){if(s&It.Optional&&void 0===a&&(a=null),0==(s&(It.Self|It.Host))){const c=n[9],h=Hn(void 0);try{return c?c.get(r,a,s&It.Optional):ln(r,a,s&It.Optional)}finally{Hn(h)}}return _a(a,0,s)}function Yo(n,r,s,a=It.Default,c){if(null!==n){if(1024&r[2]){const m=function Qi(n,r,s,a,c){let h=n,m=r;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const I=Mo(h,m,s,a|It.Self,si);if(I!==si)return I;let T=h.parent;if(!T){const P=m[21];if(P){const V=P.get(s,si,a);if(V!==si)return V}T=wa(m),m=m[15]}h=T}return c}(n,r,s,a,si);if(m!==si)return m}const h=Mo(n,r,s,a,si);if(h!==si)return h}return po(r,s,a,c)}function Mo(n,r,s,a,c){const h=function Ea(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(mt)?n[mt]:void 0;return"number"==typeof r?r>=0?255&r:Ia:r}(s);if("function"==typeof h){if(!xo(r,n,a))return a&It.Host?_a(c,0,a):po(r,s,a,c);try{const m=h(a);if(null!=m||a&It.Optional)return m;Ne()}finally{ie()}}else if("number"==typeof h){let m=null,I=ft(n,r),T=-1,P=a&It.Host?r[16][6]:null;for((-1===I||a&It.SkipSelf)&&(T=-1===I?fs(n,r):r[I+8],-1!==T&&du(a,!1)?(m=r[1],I=js(T),r=ho(T,r)):I=-1);-1!==I;){const V=r[1];if(go(h,I,V.data)){const W=Ar(I,r,s,m,a,P);if(W!==si)return W}T=r[I+8],-1!==T&&du(a,r[1].data[I+8]===P)&&go(h,I,r)?(m=V,I=js(T),r=ho(T,r)):I=-1}}return c}function Ar(n,r,s,a,c,h){const m=r[1],I=m.data[n+8],V=Qo(I,m,s,null==a?Xs(I)&&ja:a!=m&&0!=(3&I.type),c&It.Host&&h===I);return null!==V?xr(r,m,V,I):si}function Qo(n,r,s,a,c){const h=n.providerIndexes,m=r.data,I=1048575&h,T=n.directiveStart,V=h>>20,oe=c?I+V:n.directiveEnd;for(let Ee=a?I:I+V;Ee<oe;Ee++){const $e=m[Ee];if(Ee<T&&s===$e||Ee>=T&&$e.type===s)return Ee}if(c){const Ee=m[T];if(Ee&&gi(Ee)&&Ee.type===s)return T}return null}function xr(n,r,s,a){let c=n[s];const h=r.data;if(function Dt(n){return n instanceof Mi}(c)){const m=c;m.resolving&&function Ke(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ze(-200,`Circular dependency in DI detected for ${n}${s}`)}(function ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ie(n)}(h[s]));const I=Qt(m.canSeeViewProviders);m.resolving=!0;const T=m.injectImpl?Hn(m.injectImpl):null;xo(n,a,It.Default);try{c=n[s]=m.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function er(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){const m=Nu(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==T&&Hn(T),Qt(I),m.resolving=!1,ie()}}return c}function go(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function du(n,r){return!(n&It.Self||n&It.Host&&r)}class Yi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Yo(this._tNode,this._lView,r,a,s)}}function Ia(){return new Yi(Jn(),He())}function xe(n){return Pt(()=>{const r=n.prototype.constructor,s=r[st]||Bi(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[st]||Bi(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Bi(n){return nt(n)?()=>{const r=Bi(We(n));return r&&r()}:yr(n)}function wa(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function ps(n){return function xs(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Ic(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(Jn(),n)}const Xo="__parameters__";function Da(n,r,s){return Pt(()=>{const a=function Jo(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return I.annotation=m,I;function I(T,P,V){const W=T.hasOwnProperty(Xo)?T[Xo]:Object.defineProperty(T,Xo,{value:[]})[Xo];for(;W.length<=V;)W.push(null);return(W[V]=W[V]||[]).push(m),T}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Zn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Kn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jr(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),jr(a,r)):r!==n&&r.push(a)}return r}function yi(n,r){n.forEach(s=>Array.isArray(s)?yi(s,r):r(s))}function Ro(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Xi(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function z(n,r,s){let a=Me(n,r);return a>=0?n[1|a]=s:(a=~a,function y(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function X(n,r){const s=Me(n,r);if(s>=0)return n[1|s]}function Me(n,r){return function Zt(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),m=n[h<<s];if(r===m)return h<<s;m>r?c=h:a=h+1}return~(c<<s)}(n,r,1)}const Rs={},bn="__NG_DI_FLAG__",vn="ngTempTokenPath",Ou=/\n/gm,bc="__source";let Aa;function ta(n){const r=Aa;return Aa=n,r}function A(n,r=It.Default){if(void 0===Aa)throw new ze(-203,!1);return null===Aa?ln(n,void 0,r):Aa.get(n,r&It.Optional?null:void 0,r)}function M(n,r=It.Default){return(function Tr(){return Fr}()||A)(We(n),r)}function Q(n,r=It.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),M(n,r)}function ye(n){const r=[];for(let s=0;s<n.length;s++){const a=We(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ze(900,!1);let c,h=It.Default;for(let m=0;m<a.length;m++){const I=a[m],T=tt(I);"number"==typeof T?-1===T?c=I.token:h|=T:c=I}r.push(M(c,h))}else r.push(M(a))}return r}function be(n,r){return n[bn]=r,n.prototype[bn]=r,n}function tt(n){return n[bn]}const en=be(Da("Optional"),8),In=be(Da("SkipSelf"),4);var ko=(()=>((ko=ko||{})[ko.Important=1]="Important",ko[ko.DashCase=2]="DashCase",ko))();const Mc=new Map;let Fu=0;const Bu="__ngContext__";function ji(n,r){gr(r)?(n[Bu]=r[20],function Gh(n){Mc.set(n[20],n)}(r)):n[Bu]=r}function $n(n,r){return undefined(n,r)}function gl(n){const r=n[3];return Zr(r)?r[3]:r}function Hu(n){return na(n[13])}function gd(n){return na(n[4])}function na(n){for(;null!==n&&!Zr(n);)n=n[4];return n}function Ra(n,r,s,a,c){if(null!=a){let h,m=!1;Zr(a)?h=a:gr(a)&&(m=!0,a=a[0]);const I=Xn(a);0===n&&null!==s?null==c?ef(r,s,I):Oo(r,s,I,c||null,!0):1===n&&null!==s?Oo(r,s,I,c||null,!0):2===n?function Wu(n,r,s){const a=vl(n,r);a&&function ci(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,I,m):3===n&&r.destroyNode(I),null!=h&&function Ed(n,r,s,a,c){const h=s[7];h!==Xn(s)&&Ra(r,n,a,h,c);for(let I=10;I<s.length;I++){const T=s[I];Dl(T[1],T,n,r,a,h)}}(r,n,h,s,c)}}function Yh(n,r,s){return n.createElement(r,s)}function Qh(n,r){const s=n[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,xi(c,-1)),s.splice(a,1)}function Xh(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const c=a[17];null!==c&&c!==n&&Qh(c,a),r>0&&(n[s-1][4]=a[4]);const h=Xi(n,10+r);!function md(n,r){Dl(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=h[19];null!==m&&m.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Jh(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Dl(n,r,s,3,null,null),function yd(n){let r=n[13];if(!r)return vd(n[1],n);for(;r;){let s=null;if(gr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)gr(r)&&vd(r[1],r),r=r[3];null===r&&(r=n),gr(r)&&vd(r[1],r),s=r&&r[4]}r=s}}(r)}}function vd(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function hm(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Mi)){const h=s[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const I=c[h[m]],T=h[m+1];try{T.call(I)}finally{}}else try{h.call(c)}finally{}}}}(n,r),function dm(n,r){const s=n.cleanup,a=r[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const m=s[h+1],I="function"==typeof m?m(r):Xn(r[m]),T=a[c=s[h+2]],P=s[h+3];"boolean"==typeof P?I.removeEventListener(s[h],T,P):P>=0?a[c=P]():a[c=-P].unsubscribe(),h+=2}else{const m=a[c=s[h+1]];s[h].call(m)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Zr(r[3])){s!==r[3]&&Qh(s,r);const a=r[19];null!==a&&a.detachView(n)}!function fp(n){Mc.delete(n[20])}(r)}}function Ip(n,r,s){return function wp(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===pr.None||c===pr.Emulated)return null}return xn(a,s)}(n,r.parent,s)}function Oo(n,r,s,a,c){n.insertBefore(r,s,a,c)}function ef(n,r,s){n.appendChild(r,s)}function Dp(n,r,s,a,c){null!==a?Oo(n,r,s,a,c):ef(n,r,s)}function vl(n,r){return n.parentNode(r)}let Hi,tf=function _d(n,r,s){return 40&n.type?xn(n,s):null};function El(n,r,s,a){const c=Ip(n,a,r),h=r[11],I=function ra(n,r,s){return tf(n,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let T=0;T<s.length;T++)Dp(h,c,s[T],I,!1);else Dp(h,c,s,I,!1)}function Il(n,r){if(null!==r){const s=r.type;if(3&s)return xn(r,n);if(4&s)return rf(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Il(n,a);{const c=n[r.index];return Zr(c)?rf(-1,c):Xn(c)}}if(32&s)return $n(r,n)()||Xn(n[r.index]);{const a=bp(n,r);return null!==a?Array.isArray(a)?a[0]:Il(gl(n[16]),a):Il(n,r.next)}}return null}function bp(n,r){return null!==r?n[16][6].projection[r.projection]:null}function rf(n,r){const s=10+n+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return Il(a,c)}return r[7]}function wl(n,r,s,a,c,h,m){for(;null!=s;){const I=a[s.index],T=s.type;if(m&&0===r&&(I&&ji(Xn(I),a),s.flags|=4),64!=(64&s.flags))if(8&T)wl(n,r,s.child,a,c,h,!1),Ra(r,n,c,I,h);else if(32&T){const P=$n(s,a);let V;for(;V=P();)Ra(r,n,c,V,h);Ra(r,n,c,I,h)}else 16&T?zu(n,r,a,s,c,h):Ra(r,n,c,I,h);s=m?s.projectionNext:s.next}}function Dl(n,r,s,a,c,h){wl(s,a,n.firstChild,r,c,h,!1)}function zu(n,r,s,a,c,h){const m=s[16],T=m[6].projection[a.projection];if(Array.isArray(T))for(let P=0;P<T.length;P++)Ra(r,n,c,T[P],h);else wl(n,r,T,m[3],c,h,!0)}function vi(n,r,s){n.setAttribute(r,"style",s)}function Id(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function xp(n){Hi=n}class Tl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Za(n){return n instanceof Tl?n.changingThisBreaksApplicationSecurity:n}const Sd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Or=(()=>((Or=Or||{})[Or.NONE=0]="NONE",Or[Or.HTML=1]="HTML",Or[Or.STYLE=2]="STYLE",Or[Or.SCRIPT=3]="SCRIPT",Or[Or.URL=4]="URL",Or[Or.RESOURCE_URL=5]="RESOURCE_URL",Or))();function Al(n){const r=function ec(){const n=He();return n&&n[12]}();return r?r.sanitize(Or.URL,n)||"":function Pa(n,r){const s=function uf(n){return n instanceof Tl&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Za(n):function Zu(n){return(n=String(n)).match(Sd)?n:"unsafe:"+n}(Ie(n))}const Rd=new Zn("ENVIRONMENT_INITIALIZER"),xl=new Zn("INJECTOR",-1),Bc=new Zn("INJECTOR_DEF_TYPES");class Ml{get(r,s=Rs){if(s===Rs){const a=new Error(`NullInjectorError: No provider for ${de(r)}!`);throw a.name="NullInjectorError",a}return s}}function Rl(...n){return{\u0275providers:$c(0,n)}}function $c(n,...r){const s=[],a=new Set;let c;return yi(r,h=>{const m=h;jc(m,s,[],a)&&(c||(c=[]),c.push(m))}),void 0!==c&&Pl(c,s),s}function Pl(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];yi(c,h=>{r.push(h)})}}function jc(n,r,s,a){if(!(n=We(n)))return!1;let c=null,h=_i(n);const m=!h&&qt(n);if(h||m){if(m&&!m.standalone)return!1;c=n}else{const T=n.ngModule;if(h=_i(T),!h)return!1;c=T}const I=a.has(c);if(m){if(I)return!1;if(a.add(c),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const P of T)jc(P,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let P;a.add(c);try{yi(h.imports,V=>{jc(V,r,s,a)&&(P||(P=[]),P.push(V))})}finally{}void 0!==P&&Pl(P,r)}if(!I){const P=yr(c)||(()=>new c);r.push({provide:c,useFactory:P,deps:et},{provide:Bc,useValue:c,multi:!0},{provide:Rd,useValue:()=>M(c),multi:!0})}const T=h.providers;null==T||I||yi(T,V=>{r.push(V)})}}return c!==n&&void 0!==n.providers}const pf=H({provide:String,useValue:H});function Hc(n){return null!==n&&"object"==typeof n&&pf in n}function Lo(n){return"function"==typeof n}const Tu=new Zn("Set Injector scope."),tc={},kl={};let Gi;function Ol(){return void 0===Gi&&(Gi=new Ml),Gi}class yo{}class Ll extends yo{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nd(r,m=>this.processProvider(m)),this.records.set(xl,Fo(void 0,this)),c.has("environment")&&this.records.set(yo,Fo(void 0,this));const h=this.records.get(Tu);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Bc.multi,et,It.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=ta(this),a=Hn(void 0);try{return r()}finally{ta(s),Hn(a)}}get(r,s=Rs,a=It.Default){this.assertNotDestroyed();const c=ta(this),h=Hn(void 0);try{if(!(a&It.SkipSelf)){let I=this.records.get(r);if(void 0===I){const T=function Vp(n){return"function"==typeof n||"object"==typeof n&&n instanceof Zn}(r)&&ei(r);I=T&&this.injectableDefInScope(T)?Fo(Fl(r),tc):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&It.Self?Ol():this.parent).get(r,s=a&It.Optional&&s===Rs?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[vn]=m[vn]||[]).unshift(de(r)),c)throw m;return function St(n,r,s,a){const c=n[vn];throw r[bc]&&c.unshift(r[bc]),n.message=function Vt(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=de(r);if(Array.isArray(r))c=r.map(de).join(" -> ");else if("object"==typeof r){let h=[];for(let m in r)if(r.hasOwnProperty(m)){let I=r[m];h.push(m+":"+("string"==typeof I?JSON.stringify(I):de(I)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(Ou,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[vn]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{Hn(h),ta(c)}}resolveInjectorInitializers(){const r=ta(this),s=Hn(void 0);try{const a=this.get(Rd.multi,et,It.Self);for(const c of a)c()}finally{ta(r),Hn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(de(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(r){let s=Lo(r=We(r))?r:We(r&&r.provide);const a=function nc(n){return Hc(n)?Fo(void 0,n.useValue):Fo(Pd(n),tc)}(r);if(Lo(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Fo(void 0,tc,!0),c.factory=()=>ye(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===tc&&(s.value=kl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function rc(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=We(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Fl(n){const r=ei(n),s=null!==r?r.factory:yr(n);if(null!==s)return s;if(n instanceof Zn)throw new ze(204,!1);if(n instanceof Function)return function bu(n){const r=n.length;if(r>0)throw function oi(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new ze(204,!1);const s=function lr(n){const r=n&&(n[_n]||n[zi]);if(r){const s=function jn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ze(204,!1)}function Pd(n,r,s){let a;if(Lo(n)){const c=We(n);return yr(c)||Fl(c)}if(Hc(n))a=()=>We(n.useValue);else if(function gf(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ye(n.deps||[]));else if(function Nl(n){return!(!n||!n.useExisting)}(n))a=()=>M(We(n.useExisting));else{const c=We(n&&(n.useClass||n.provide));if(!function ym(n){return!!n.deps}(n))return yr(c)||Fl(c);a=()=>new c(...ye(n.deps))}return a}function Fo(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Cu(n){return!!n.\u0275providers}function Nd(n,r){for(const s of n)Array.isArray(s)?Nd(s,r):Cu(s)?Nd(s.\u0275providers,r):r(s)}class Bp{}class $p{resolveComponentFactory(r){throw function Wc(n){const r=Error(`No component factory found for ${de(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Su=(()=>{class n{}return n.NULL=new $p,n})();function yf(){return ic(Jn(),He())}function ic(n,r){return new Au(xn(n,r))}let Au=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=yf,n})();function Qa(n){return n instanceof Au?n.nativeElement:n}class Kc{}let vf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jp(){const n=He(),s=Vr(Jn().index,n);return(gr(s)?s:n)[11]}(),n})(),kd=(()=>{class n{}return n.\u0275prov=Kn({token:n,providedIn:"root",factory:()=>null}),n})();class Vl{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const _f=new Vl("14.2.12"),sc={};function Ef(n){return n.ngOriginalError}class qc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Ef(r);for(;s&&Ef(s);)s=Ef(s);return s||null}}function zs(n){return n instanceof Function?n():n}function Bd(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}const wf="ng-template";function Kp(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==Bd(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function qp(n){return 4===n.type&&n.value!==wf}function Df(n,r,s){return r===(4!==n.type||s?n.value:wf)}function wm(n,r,s){let a=4;const c=n.attrs||[],h=function Zp(n){for(let r=0;r<n.length;r++)if(Ic(n[r]))return r;return n.length}(c);let m=!1;for(let I=0;I<r.length;I++){const T=r[I];if("number"!=typeof T){if(!m)if(4&a){if(a=2|1&a,""!==T&&!Df(n,T,s)||""===T&&1===r.length){if(_s(a))return!1;m=!0}}else{const P=8&a?T:r[++I];if(8&a&&null!==n.attrs){if(!Kp(n.attrs,P,s)){if(_s(a))return!1;m=!0}continue}const W=Zc(8&a?"class":T,c,qp(n),s);if(-1===W){if(_s(a))return!1;m=!0;continue}if(""!==P){let oe;oe=W>h?"":c[W+1].toLowerCase();const Ee=8&a?oe:null;if(Ee&&-1!==Bd(Ee,P,0)||2&a&&P!==oe){if(_s(a))return!1;m=!0}}}}else{if(!m&&!_s(a)&&!_s(T))return!1;if(m&&_s(T))continue;m=!1,a=T|1&a}}return _s(a)||m}function _s(n){return 0==(1&n)}function Zc(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let h=!1;for(;c<r.length;){const m=r[c];if(m===n)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function Yp(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function jl(n,r,s=!1){for(let a=0;a<r.length;a++)if(wm(n,r[a],s))return!0;return!1}function Xp(n,r){return n?":not("+r.trim()+")":r}function jd(n){let r=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&a){const I=n[++s];c+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!_s(m)&&(r+=Xp(h,c),c=""),a=m,h=h||!_s(a);s++}return""!==c&&(r+=Xp(h,c)),r}const fn={};function bf(n){Hd(Xt(),He(),$t()+n,!1)}function Hd(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&Br(r,h,s)}else{const h=n.preOrderHooks;null!==h&&As(r,h,0,s)}gn(s)}function tg(n,r=null,s=null,a){const c=ng(n,r,s,a);return c.resolveInjectorInitializers(),c}function ng(n,r=null,s=null,a,c=new Set){const h=[s||et,Rl(n)];return a=a||("object"==typeof n?void 0:de(n)),new Ll(h,r||Ol(),a||null,c)}let oc=(()=>{class n{static create(s,a){if(Array.isArray(s))return tg({name:""},a,s,"");{const c=s.name??"";return tg({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=Rs,n.NULL=new Ml,n.\u0275prov=Kn({token:n,providedIn:"any",factory:()=>M(xl)}),n.__NG_ELEMENT_ID__=-1,n})();function Dn(n,r=It.Default){const s=He();return null===s?M(n,r):Yo(Jn(),s,We(n),r)}function Uo(){throw new Error("invalid")}function Fa(n,r){return n<<17|r<<2}function vo(n){return n>>17&32767}function Xc(n){return 2|n}function Vo(n){return(131068&n)>>2}function uc(n,r){return-131069&n|r<<2}function xu(n){return 1|n}function gg(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],h=s[a+1];if(-1!==h){const m=n.data[h];ga(c),m.contentQueries(2,r[h],h)}}}function Of(n,r,s,a,c,h,m,I,T,P,V){const W=r.blueprint.slice();return W[0]=c,W[2]=76|a,(null!==V||n&&1024&n[2])&&(W[2]|=1024),no(W),W[3]=W[15]=n,W[8]=s,W[10]=m||n&&n[10],W[11]=I||n&&n[11],W[12]=T||n&&n[12]||null,W[9]=P||n&&n[9]||null,W[6]=h,W[20]=function Hh(){return Fu++}(),W[21]=V,W[16]=2==r.type?n[16]:W,W}function hc(n,r,s,a,c){let h=n.data[r];if(null===h)h=function yg(n,r,s,a,c){const h=ao(),m=Bs(),T=n.data[r]=function Ig(n,r,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=T),null!==h&&(m?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T)),T}(n,r,s,a,c),function co(){return jt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const m=function uo(){const n=jt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Kr(h,!0),h}function fc(n,r,s,a){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function vg(n,r,s){b(r);try{const a=n.viewQuery;null!==a&&Xr(1,a,s);const c=n.template;null!==c&&Pm(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&gg(n,r),n.staticViewQueries&&Xr(2,n.viewQuery,s);const h=n.components;null!==h&&function Rm(n,r){for(let s=0;s<r.length;s++)Yn(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Se()}}function Xl(n,r,s,a){const c=r[2];if(128!=(128&c)){b(r);try{no(r),function cs(n){return jt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Pm(n,r,s,2,a);const m=3==(3&c);if(m){const P=n.preOrderCheckHooks;null!==P&&Br(r,P,null)}else{const P=n.preOrderHooks;null!==P&&As(r,P,0,null),ma(r,0)}if(function Vm(n){for(let r=Hu(n);null!==r;r=gd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],h=c[3];0==(512&c[2])&&xi(h,1),c[2]|=512}}}(r),function Ly(n){for(let r=Hu(n);null!==r;r=gd(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];rr(a)&&Xl(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&gg(n,r),m){const P=n.contentCheckHooks;null!==P&&Br(r,P)}else{const P=n.contentHooks;null!==P&&As(r,P,1),ma(r,1)}!function pg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)gn(~c);else{const h=c,m=s[++a],I=s[++a];Ao(m,h),I(2,r[h])}}}finally{gn(-1)}}(n,r);const I=n.components;null!==I&&function mg(n,r){for(let s=0;s<r.length;s++)Bm(n,r[s])}(r,I);const T=n.viewQuery;if(null!==T&&Xr(2,T,a),m){const P=n.viewCheckHooks;null!==P&&Br(r,P)}else{const P=n.viewHooks;null!==P&&As(r,P,2),ma(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,xi(r[3],-1))}finally{Se()}}}function Pm(n,r,s,a,c){const h=$t(),m=2&a;try{gn(-1),m&&r.length>22&&Hd(n,r,22,!1),s(a,c)}finally{gn(h)}}function ih(n,r,s){!io()||(function Lm(n,r,s,a){const c=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||hs(s,r),ji(a,r);const m=s.initialInputs;for(let I=c;I<h;I++){const T=n.data[I],P=gi(T);P&&Cg(r,s,T);const V=xr(r,n,I,s);ji(V,r),null!==m&&ky(0,I-c,V,T,0,m),P&&(Vr(s.index,r)[8]=V)}}(n,r,s,xn(s,r)),128==(128&s.flags)&&function Dg(n,r,s){const a=s.directiveStart,c=s.directiveEnd,h=s.index,m=function fa(){return jt.lFrame.currentDirectiveIndex}();try{gn(h);for(let I=a;I<c;I++){const T=n.data[I],P=r[I];ds(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Tg(T,P)}}finally{gn(-1),ds(m)}}(n,r,s))}function sh(n,r,s=xn){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],I=-1===m?s(r,n):n[m];n[c++]=I}}}function Jc(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Ff(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Ff(n,r,s,a,c,h,m,I,T,P){const V=22+a,W=V+c,oe=function _g(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:fn);return s}(V,W),Ee="function"==typeof P?P():P;return oe[1]={type:n,blueprint:oe,template:s,queries:null,viewQuery:I,declTNode:r,data:oe.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Ee,incompleteFirstPass:!1}}function eu(n,r,s,a){const c=Ua(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&jm(n).push(a,c.length-1))}function Nm(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function Uf(n,r){const a=r.directiveEnd,c=n.data,h=r.attrs,m=[];let I=null,T=null;for(let P=r.directiveStart;P<a;P++){const V=c[P],W=V.inputs,oe=null===h||qp(r)?null:Oy(W,h);m.push(oe),I=Nm(W,P,I),T=Nm(V.outputs,P,T)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=I,r.outputs=T}function Vf(n,r){const s=Vr(r,n);16&s[2]||(s[2]|=32)}function oh(n,r,s,a){let c=!1;if(io()){const h=function Py(n,r,s){const a=n.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const m=a[h];jl(s,m.selectors,!1)&&(c||(c=[]),fo(hs(s,r),n,m.type),gi(m)?(Fm(n,s),c.unshift(m)):c.push(m))}return c}(n,r,s),m=null===a?null:{"":-1};if(null!==h){c=!0,Bf(s,n.data.length,h.length);for(let V=0;V<h.length;V++){const W=h[V];W.providersResolver&&W.providersResolver(W)}let I=!1,T=!1,P=fc(n,r,h.length,null);for(let V=0;V<h.length;V++){const W=h[V];s.mergedAttrs=uu(s.mergedAttrs,W.hostAttrs),$f(n,s,r,P,W),Ny(P,W,m),null!==W.contentQueries&&(s.flags|=8),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(s.flags|=128);const oe=W.type.prototype;!I&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!T&&(oe.ngOnChanges||oe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),T=!0),P++}Uf(n,s)}m&&function bg(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new ze(-301,!1);a.push(r[c],h)}}}(s,a,m)}return s.mergedAttrs=uu(s.mergedAttrs,s.attrs),c}function Om(n,r,s,a,c,h){const m=h.hostBindings;if(m){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const T=~r.index;(function wg(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=T&&I.push(T),I.push(a,c,m)}}function Tg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Fm(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Ny(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;gi(r)&&(s[""]=n)}}function Bf(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function $f(n,r,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=yr(c.type)),m=new Mi(h,gi(c),Dn);n.blueprint[a]=m,s[a]=m,Om(n,r,0,a,fc(n,s,c.hostVars,fn),c)}function Cg(n,r,s){const a=xn(r,n),c=Jc(s),h=n[10],m=ah(n,Of(n,c,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=m}function tu(n,r,s,a,c,h){const m=xn(n,r);!function Sg(n,r,s,a,c,h,m){if(null==h)n.removeAttribute(r,c,s);else{const I=null==m?Ie(h):m(h,a||"",c);n.setAttribute(r,c,I,s)}}(r[11],m,h,n.value,s,a,c)}function ky(n,r,s,a,c,h){const m=h[r];if(null!==m){const I=a.setInput;for(let T=0;T<m.length;){const P=m[T++],V=m[T++],W=m[T++];null!==I?a.setInput(s,W,P,V):s[V]=W}}}function Oy(n,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function jf(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Bm(n,r){const s=Vr(r,n);if(rr(s)){const a=s[1];48&s[2]?Xl(a,s,a.template,s[8]):s[5]>0&&Jl(s)}}function Jl(n){for(let a=Hu(n);null!==a;a=gd(a))for(let c=10;c<a.length;c++){const h=a[c];if(rr(h))if(512&h[2]){const m=h[1];Xl(m,h,m.template,h[8])}else h[5]>0&&Jl(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Vr(s[a],n);rr(c)&&c[5]>0&&Jl(c)}}function Yn(n,r){const s=Vr(r,n),a=s[1];(function $m(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),vg(a,s,s[8])}function ah(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Hf(n){for(;n;){n[2]|=32;const r=gl(n);if(aa(n)&&!r)return n;n=r}return null}function pc(n,r,s,a=!0){const c=r[10];c.begin&&c.begin();try{Xl(n,r,n.template,s)}catch(m){throw a&&Ag(r,m),m}finally{c.end&&c.end()}}function Xr(n,r,s){ga(0),r(n,s)}function Ua(n){return n[7]||(n[7]=[])}function jm(n){return n.cleanup||(n.cleanup=[])}function Ag(n,r){const s=n[9],a=s?s.get(qc,null):null;a&&a.handleError(r)}function Hm(n,r,s,a,c){for(let h=0;h<s.length;){const m=s[h++],I=s[h++],T=r[m],P=n.data[m];null!==P.setInput?P.setInput(T,c,a,I):T[I]=c}}function uh(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==r)for(let m=0;m<r.length;m++){const I=r[m];"number"==typeof I?h=I:1==h?c=qe(c,I):2==h&&(a=qe(a,I+": "+r[++m]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function el(n,r,s,a,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Xn(h)),Zr(h))for(let I=10;I<h.length;I++){const T=h[I],P=T[1].firstChild;null!==P&&el(T[1],T,P,a)}const m=s.type;if(8&m)el(n,r,s.child,a);else if(32&m){const I=$n(s,r);let T;for(;T=I();)a.push(T)}else if(16&m){const I=bp(r,s);if(Array.isArray(I))a.push(...I);else{const T=gl(r[16]);el(T[1],T,I,a,!0)}}s=c?s.projectionNext:s.next}return a}class ch{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return el(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Zr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Xh(r,a),Xi(s,a))}this._attachedToViewContainer=!1}Jh(this._lView[1],this._lView)}onDestroy(r){eu(this._lView[1],this._lView,null,r)}markForCheck(){Hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){pc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yl(n,r){Dl(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=r}}class f_ extends ch{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;pc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class xg extends Su{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=qt(r);return new lh(s,this.ngModule)}}function Gm(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Vy{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,sc,a);return c!==sc||s===sc?c:this.parentInjector.get(r,s,a)}}class lh extends Bp{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Dm(n){return n.map(jd).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Gm(this.componentDef.inputs)}get outputs(){return Gm(this.componentDef.outputs)}create(r,s,a,c){let h=(c=c||this.ngModule)instanceof yo?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new Vy(r,h):r,I=m.get(Kc,null);if(null===I)throw new ze(407,!1);const T=m.get(kd,null),P=I.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",W=a?function Eg(n,r,s){return n.selectRootElement(r,s===pr.ShadowDom)}(P,a,this.componentDef.encapsulation):Yh(P,V,function Uy(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(V)),oe=this.componentDef.onPush?288:272,Ee=Ff(0,null,null,1,0,null,null,null,null,null),$e=Of(null,Ee,null,oe,null,null,I,P,T,m,null);let at,gt;b($e);try{const kt=function Mg(n,r,s,a,c,h){const m=s[1];s[22]=n;const T=hc(m,22,2,"#host",null),P=T.mergedAttrs=r.hostAttrs;null!==P&&(uh(T,P,!0),null!==n&&(va(c,n,P),null!==T.classes&&Id(c,n,T.classes),null!==T.styles&&vi(c,n,T.styles)));const V=a.createRenderer(n,r),W=Of(s,Jc(r),null,r.onPush?32:16,s[22],T,a,V,h||null,null,null);return m.firstCreatePass&&(fo(hs(T,s),m,r.type),Fm(m,T),Bf(T,s.length,1)),ah(s,W),s[22]=W}(W,this.componentDef,$e,I,P);if(W)if(a)va(P,W,["ng-version",_f.full]);else{const{attrs:zt,classes:Qe}=function Tf(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++a]):8===c&&s.push(h);else{if(!_s(c))break;c=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);zt&&va(P,W,zt),Qe&&Qe.length>0&&Id(P,W,Qe.join(" "))}if(gt=bs(Ee,22),void 0!==s){const zt=gt.projection=[];for(let Qe=0;Qe<this.ngContentSelectors.length;Qe++){const un=s[Qe];zt.push(null!=un?Array.from(un):null)}}at=function Rg(n,r,s,a){const c=s[1],h=function Ry(n,r,s){const a=Jn();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),$f(n,a,r,fc(n,r,1,null),s),Uf(n,a));const c=xr(r,n,a.directiveStart,a);ji(c,r);const h=xn(a,r);return h&&ji(h,r),c}(c,s,r);if(n[8]=s[8]=h,null!==a)for(const I of a)I(h,r);if(r.contentQueries){const I=Jn();r.contentQueries(1,h,I.directiveStart)}const m=Jn();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(gn(m.index),Om(s[1],m,0,m.directiveStart,m.directiveEnd,r),Tg(r,h)),h}(kt,this.componentDef,$e,[Gf]),vg(Ee,$e,null)}finally{Se()}return new Km(this.componentType,at,ic(gt,$e),$e,gt)}}class Km extends class vm{}{constructor(r,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new f_(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const h=this._rootLView;Hm(h[1],h,c,r,s),Vf(h,this._tNode.index)}}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Gf(){const n=Jn();vr(He()[1],n)}function zf(n){let r=function Wf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(gi(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ze(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const m=n;m.inputs=dh(n.inputs),m.declaredInputs=dh(n.declaredInputs),m.outputs=dh(n.outputs);const I=c.hostBindings;I&&ed(n,I);const T=c.viewQuery,P=c.contentQueries;if(T&&Pg(n,T),P&&Zm(n,P),te(n.inputs,c.inputs),te(n.declaredInputs,c.declaredInputs),te(n.outputs,c.outputs),gi(c)&&c.data.animation){const V=n.data;V.animation=(V.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const I=h[m];I&&I.ngInherit&&I(n),I===zf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Kf(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=uu(c.hostAttrs,s=uu(s,c.hostAttrs))}}(a)}function dh(n){return n===Ct?{}:n===et?[]:n}function Pg(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Zm(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{r(a,c,h),s(a,c,h)}:r}function ed(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let qf=null;function gc(){if(!qf){const n=Te.Symbol;if(n&&n.iterator)qf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(qf=a)}}}return qf}function td(n){return!!kg(n)&&(Array.isArray(n)||!(n instanceof Map)&&gc()in n)}function kg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function sa(n,r,s){return n[r]=s}function Ks(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function di(n,r,s,a){const c=He();return Ks(c,So(),r)&&(Xt(),tu(Ft(),c,n,r,s,a)),di}function Ug(n,r,s,a,c,h,m,I){const T=He(),P=Xt(),V=n+22,W=P.firstCreatePass?function Qm(n,r,s,a,c,h,m,I,T){const P=r.consts,V=hc(r,n,4,m||null,ir(P,I));oh(r,s,V,ir(P,T)),vr(r,V);const W=V.tViews=Ff(2,V,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,P);return null!==r.queries&&(r.queries.template(r,V),W.queries=r.queries.embeddedTView(V)),V}(V,P,T,r,s,a,c,h,m):P.data[V];Kr(W,!1);const oe=T[11].createComment("");El(P,T,oe,W),ji(oe,T),ah(T,T[V]=jf(oe,T,oe,W)),is(W)&&ih(P,T,W),null!=m&&sh(T,W,I)}function yc(n,r,s){const a=He();return Ks(a,So(),r)&&function Bo(n,r,s,a,c,h,m,I){const T=xn(r,s);let V,P=r.inputs;!I&&null!=P&&(V=P[a])?(Hm(n,s,V,a,c),Xs(r)&&Vf(s,r.index)):3&r.type&&(a=function xy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=m?m(c,r.value||"",a):c,h.setProperty(T,a,c))}(Xt(),Ft(),a,n,r,a[11],s,!1),yc}function Eh(n,r,s,a,c){const m=c?"class":"style";Hm(n,s,r.inputs[m],m,a)}function wh(n,r,s,a){const c=He(),h=Xt(),m=22+n,I=c[11],T=c[m]=Yh(I,r,function lo(){return jt.lFrame.currentNamespace}()),P=h.firstCreatePass?function Ih(n,r,s,a,c,h,m){const I=r.consts,P=hc(r,n,2,c,ir(I,h));return oh(r,s,P,ir(I,m)),null!==P.attrs&&uh(P,P.attrs,!1),null!==P.mergedAttrs&&uh(P,P.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,P),P}(m,h,c,0,r,s,a):h.data[m];Kr(P,!0);const V=P.mergedAttrs;null!==V&&va(I,T,V);const W=P.classes;null!==W&&Id(I,T,W);const oe=P.styles;return null!==oe&&vi(I,T,oe),64!=(64&P.flags)&&El(h,c,T,P),0===function Un(){return jt.lFrame.elementDepthCount}()&&ji(T,c),function Ko(){jt.lFrame.elementDepthCount++}(),is(P)&&(ih(h,c,P),function Lf(n,r,s){if(Eo(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,s[h],h)}}}(h,P,c)),null!==a&&sh(c,P),wh}function nd(){let n=Jn();Bs()?function Cs(){jt.lFrame.isParent=!1}():(n=n.parent,Kr(n,!1));const r=n;!function ha(){jt.lFrame.elementDepthCount--}();const s=Xt();return s.firstCreatePass&&(vr(s,n),Eo(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Pe(n){return 0!=(16&n.flags)}(r)&&Eh(s,r,He(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ye(n){return 0!=(32&n.flags)}(r)&&Eh(s,r,He(),r.stylesWithoutHost,!1),nd}function Vg(n,r,s,a){return wh(n,r,s,a),nd(),Vg}function jg(){return He()}function Ru(n){return!!n&&"function"==typeof n.then}function Hg(n){return!!n&&"function"==typeof n.subscribe}const Gg=Hg;function Dh(n,r,s,a){const c=He(),h=Xt(),m=Jn();return function Th(n,r,s,a,c,h,m,I){const T=is(a),V=n.firstCreatePass&&jm(n),W=r[8],oe=Ua(r);let Ee=!0;if(3&a.type||I){const gt=xn(a,r),kt=I?I(gt):gt,zt=oe.length,Qe=I?Er=>I(Xn(Er[a.index])):a.index;let un=null;if(!I&&T&&(un=function Qy(n,r,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===s&&c[h+1]===a){const I=r[7],T=c[h+2];return I.length>T?I[T]:null}"string"==typeof m&&(h+=2)}return null}(n,r,c,a.index)),null!==un)(un.__ngLastListenerFn__||un).__ngNextListenerFn__=h,un.__ngLastListenerFn__=h,Ee=!1;else{h=Wg(a,r,W,h,!1);const Er=s.listen(kt,c,h);oe.push(h,Er),V&&V.push(c,Qe,zt,zt+1)}}else h=Wg(a,r,W,h,!1);const $e=a.outputs;let at;if(Ee&&null!==$e&&(at=$e[c])){const gt=at.length;if(gt)for(let kt=0;kt<gt;kt+=2){const hi=r[at[kt]][at[kt+1]].subscribe(h),kh=oe.length;oe.push(h,hi),V&&V.push(c,a.index,kh,-(kh+1))}}}(h,c,c[11],m,n,r,0,a),Dh}function bh(n,r,s,a){try{return!1!==s(a)}catch(c){return Ag(n,c),!1}}function Wg(n,r,s,a,c){return function h(m){if(m===Function)return a;Hf(2&n.flags?Vr(n.index,r):r);let T=bh(r,0,a,m),P=h.__ngNextListenerFn__;for(;P;)T=bh(r,0,P,m)&&T,P=P.__ngNextListenerFn__;return c&&!1===T&&(m.preventDefault(),m.returnValue=!1),T}}function Jf(n=1){return function je(n){return(jt.lFrame.contextLView=function vt(n,r){for(;n>0;)r=r[15],n--;return r}(n,jt.lFrame.contextLView))[8]}(n)}function Ch(n,r,s,a,c){const h=n[s+1],m=null===r;let I=a?vo(h):Vo(h),T=!1;for(;0!==I&&(!1===T||m);){const V=n[I+1];y_(n[I],r)&&(T=!0,n[I+1]=a?xu(V):Xc(V)),I=a?vo(V):Vo(V)}T&&(n[s+1]=a?Xc(h):xu(h))}function y_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Me(n,r)>=0}function _c(n,r){return function iu(n,r,s,a){const c=He(),h=Xt(),m=function ls(n){const r=jt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);h.firstUpdatePass&&function ov(n,r,s,a){const c=n.data;if(null===c[s+1]){const h=c[$t()],m=function sv(n,r){return r>=n.expandoStartIndex}(n,s);(function Rh(n,r){return 0!=(n.flags&(r?16:32))})(h,a)&&null===r&&!m&&(r=!1),r=function D_(n,r,s,a){const c=function pa(n){const r=jt.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Mh(s=Yg(null,n,r,s,a),r.attrs,a),h=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==c)if(s=Yg(c,n,r,s,a),null===h){let T=function T_(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Vo(a))return n[vo(a)]}(n,r,a);void 0!==T&&Array.isArray(T)&&(T=Yg(null,n,r,T[1],a),T=Mh(T,r.attrs,a),function b_(n,r,s,a){n[vo(s?r.classBindings:r.styleBindings)]=a}(n,r,a,T))}else h=function C_(n,r,s){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=Mh(a,n[h].hostAttrs,s);return Mh(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,a),function g_(n,r,s,a,c,h){let m=h?r.classBindings:r.styleBindings,I=vo(m),T=Vo(m);n[a]=s;let V,P=!1;if(Array.isArray(s)){const W=s;V=W[1],(null===V||Me(W,V)>0)&&(P=!0)}else V=s;if(c)if(0!==T){const oe=vo(n[I+1]);n[a+1]=Fa(oe,I),0!==oe&&(n[oe+1]=uc(n[oe+1],a)),n[I+1]=function qd(n,r){return 131071&n|r<<17}(n[I+1],a)}else n[a+1]=Fa(I,0),0!==I&&(n[I+1]=uc(n[I+1],a)),I=a;else n[a+1]=Fa(T,0),0===I?I=a:n[T+1]=uc(n[T+1],a),T=a;P&&(n[a+1]=Xc(n[a+1])),Ch(n,V,a,!0),Ch(n,V,a,!1),function m_(n,r,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&Me(h,r)>=0&&(s[a+1]=xu(s[a+1]))}(r,V,n,a,h),m=Fa(I,T),h?r.classBindings=m:r.styleBindings=m}(c,h,r,s,m,a)}}(h,n,m,a),r!==fn&&Ks(c,m,r)&&function av(n,r,s,a,c,h,m,I){if(!(3&r.type))return;const T=n.data,P=T[I+1];rp(function Zd(n){return 1==(1&n)}(P)?uv(T,r,s,c,Vo(P),m):void 0)||(rp(h)||function ql(n){return 2==(2&n)}(P)&&(h=uv(T,null,s,c,I,m)),function Sp(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:ko.DashCase;null==c?n.removeStyle(s,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=ko.Important),n.setStyle(s,a,c,h))}}(a,m,bo($t(),s),c,h))}(h,h.data[$t()],c,c[11],n,c[m+1]=function cv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=de(Za(n)))),n}(r,s),a,m)}(n,r,null,!0),_c}function Yg(n,r,s,a,c){let h=null;const m=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<m&&(h=r[I],a=Mh(a,h.hostAttrs,c),h!==n);)I++;return null!==n&&(s.directiveStylingLast=I),a}function Mh(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?c=m:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),z(n,m,!!s||r[++h]))}return void 0===n?null:n}function uv(n,r,s,a,c,h){const m=null===r;let I;for(;c>0;){const T=n[c],P=Array.isArray(T),V=P?T[1]:T,W=null===V;let oe=s[c+1];oe===fn&&(oe=W?et:void 0);let Ee=W?X(oe,a):V===a?oe:void 0;if(P&&!rp(Ee)&&(Ee=X(T,a)),rp(Ee)&&(I=Ee,m))return I;const $e=n[c+1];c=m?vo($e):Vo($e)}if(null!==r){let T=h?r.residualClasses:r.residualStyles;null!=T&&(I=X(T,a))}return I}function rp(n){return void 0!==n}function ry(n,r=""){const s=He(),a=Xt(),c=n+22,h=a.firstCreatePass?hc(a,c,1,r,null):a.data[c],m=s[c]=function Zh(n,r){return n.createText(r)}(s[11],r);El(a,s,m,h),Kr(h,!1)}function iy(n){return sy("",n,""),iy}function sy(n,r,s){const a=He(),c=function fh(n,r,s,a){return Ks(n,So(),s)?r+Ie(s)+a:fn}(a,n,r,s);return c!==fn&&function nu(n,r,s){const a=bo(r,n);!function vp(n,r,s){n.setValue(r,s)}(n[11],a,s)}(a,$t(),c),sy}const Ph=void 0;var LE=["en",[["a","p"],["AM","PM"],Ph],[["AM","PM"],Ph,Ph],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ph,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ph,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ph,"{1} 'at' {0}",Ph],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OE(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ip={};function mv(n){const r=function FE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=k_(r);if(s)return s;const a=r.split("-")[0];if(s=k_(a),s)return s;if("en"===a)return LE;throw new ze(701,!1)}function N_(n){return mv(n)[on.PluralCase]}function k_(n){return n in ip||(ip[n]=Te.ng&&Te.ng.common&&Te.ng.common.locales&&Te.ng.common.locales[n]),ip[n]}var on=(()=>((on=on||{})[on.LocaleId=0]="LocaleId",on[on.DayPeriodsFormat=1]="DayPeriodsFormat",on[on.DayPeriodsStandalone=2]="DayPeriodsStandalone",on[on.DaysFormat=3]="DaysFormat",on[on.DaysStandalone=4]="DaysStandalone",on[on.MonthsFormat=5]="MonthsFormat",on[on.MonthsStandalone=6]="MonthsStandalone",on[on.Eras=7]="Eras",on[on.FirstDayOfWeek=8]="FirstDayOfWeek",on[on.WeekendRange=9]="WeekendRange",on[on.DateFormat=10]="DateFormat",on[on.TimeFormat=11]="TimeFormat",on[on.DateTimeFormat=12]="DateTimeFormat",on[on.NumberSymbols=13]="NumberSymbols",on[on.NumberFormats=14]="NumberFormats",on[on.CurrencyCode=15]="CurrencyCode",on[on.CurrencySymbol=16]="CurrencySymbol",on[on.CurrencyName=17]="CurrencyName",on[on.Currencies=18]="Currencies",on[on.Directionality=19]="Directionality",on[on.PluralCase=20]="PluralCase",on[on.ExtraData=21]="ExtraData",on))();const sp="en-US";let O_=sp;function _v(n,r,s,a,c){if(n=We(n),Array.isArray(n))for(let h=0;h<n.length;h++)_v(n[h],r,s,a,c);else{const h=Xt(),m=He();let I=Lo(n)?n:We(n.provide),T=Pd(n);const P=Jn(),V=1048575&P.providerIndexes,W=P.directiveStart,oe=P.providerIndexes>>20;if(Lo(n)||!n.multi){const Ee=new Mi(T,c,Dn),$e=Iv(I,r,c?V:V+oe,W);-1===$e?(fo(hs(P,m),h,I),Ev(h,n,r.length),r.push(I),P.directiveStart++,P.directiveEnd++,c&&(P.providerIndexes+=1048576),s.push(Ee),m.push(Ee)):(s[$e]=Ee,m[$e]=Ee)}else{const Ee=Iv(I,r,V+oe,W),$e=Iv(I,r,V,V+oe),at=Ee>=0&&s[Ee],gt=$e>=0&&s[$e];if(c&&!gt||!c&&!at){fo(hs(P,m),h,I);const kt=function kI(n,r,s,a,c){const h=new Mi(n,s,Dn);return h.multi=[],h.index=r,h.componentProviders=0,a0(h,c,a&&!s),h}(c?NI:PI,s.length,c,a,T);!c&&gt&&(s[$e].providerFactory=kt),Ev(h,n,r.length,0),r.push(I),P.directiveStart++,P.directiveEnd++,c&&(P.providerIndexes+=1048576),s.push(kt),m.push(kt)}else Ev(h,n,Ee>-1?Ee:$e,a0(s[c?$e:Ee],T,!c&&a));!c&&a&&gt&&s[$e].componentProviders++}}}function Ev(n,r,s,a){const c=Lo(r),h=function Gc(n){return!!n.useClass}(r);if(c||h){const T=(h?We(r.useClass):r).prototype.ngOnDestroy;if(T){const P=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const V=P.indexOf(s);-1===V?P.push(s,[a,T]):P[V+1].push(a,T)}else P.push(s,T)}}}function a0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Iv(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function PI(n,r,s,a){return wv(this.multi,[])}function NI(n,r,s,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=xr(s,s[1],this.providerFactory.index,a);h=I.slice(0,m),wv(c,h);for(let T=m;T<I.length;T++)h.push(I[T])}else h=[],wv(c,h);return h}function wv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function u0(n,r=[]){return s=>{s.providersResolver=(a,c)=>function RI(n,r,s){const a=Xt();if(a.firstCreatePass){const c=gi(n);_v(s,a.data,a.blueprint,c,!0),_v(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class op{}class c0{}function OI(n,r){return new l0(n,r??null)}class l0 extends op{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xg(this);const a=q(r);this._bootstrapComponents=zs(a.bootstrap),this._r3Injector=ng(r,s,[{provide:op,useValue:this},{provide:Su,useValue:this.componentFactoryResolver}],de(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Dv extends c0{constructor(r){super(),this.moduleType=r}create(r){return new l0(this.moduleType,r)}}class LI extends op{constructor(r,s,a){super(),this.componentFactoryResolver=new xg(this),this.instance=null;const c=new Ll([...r,{provide:op,useValue:this},{provide:Su,useValue:this.componentFactoryResolver}],s||Ol(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Tv(n,r,s=null){return new LI(n,r,s).injector}let FI=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=$c(0,s.type),c=a.length>0?Tv([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Kn({token:n,providedIn:"environment",factory:()=>new n(M(yo))}),n})();function d0(n){n.getStandaloneInjector=r=>r.get(FI).getOrCreateStandaloneInjector(n)}function v0(n,r,s){const a=ii()+n,c=He();return c[a]===fn?sa(c,a,s?r.call(s):r()):function hh(n,r){return n[r]}(c,a)}function _0(n,r,s,a){return E0(He(),ii(),n,r,s,a)}function E0(n,r,s,a,c,h){const m=r+s;return Ks(n,m,c)?sa(n,m+1,h?a.call(h,c):a(c)):function im(n,r){const s=n[r];return s===fn?void 0:s}(n,m+1)}function b0(n,r){const s=Xt();let a;const c=n+22;s.firstCreatePass?(a=function ew(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=yr(a.type)),m=Hn(Dn);try{const I=Qt(!1),T=h();return Qt(I),function Yf(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,He(),c,T),T}finally{Hn(m)}}function C0(n,r,s){const a=n+22,c=He(),h=function Ai(n,r){return n[r]}(c,a);return function sm(n,r){return n[1].data[r].pure}(c,a)?E0(c,ii(),r,h.transform,s,h):h.transform(s)}function Cv(n){return r=>{setTimeout(n,void 0,r)}}const Ec=class sw extends C.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,h=s||(()=>null),m=a;if(r&&"object"==typeof r){const T=r;c=T.next?.bind(T),h=T.error?.bind(T),m=T.complete?.bind(T)}this.__isAsync&&(h=Cv(h),c&&(c=Cv(c)),m&&(m=Cv(m)));const I=super.subscribe({next:c,error:h,complete:m});return r instanceof j.w0&&r.add(I),I}};function ow(){return this._results[gc()]()}class Sv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=gc(),a=Sv.prototype;a[s]||(a[s]=ow)}get changes(){return this._changes||(this._changes=new Ec)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=jr(r);(this._changesDetected=!function Tc(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=r[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let om=(()=>{class n{}return n.__NG_ELEMENT_ID__=cw,n})();const aw=om,uw=class extends aw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=Of(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(a)),vg(a,c,r),new ch(c)}};function cw(){return ly(Jn(),He())}function ly(n,r){return 4&n.type?new uw(r,n,ic(n,r)):null}let dy=(()=>{class n{}return n.__NG_ELEMENT_ID__=lw,n})();function lw(){return x0(Jn(),He())}const dw=dy,S0=class extends dw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return ic(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){const r=fs(this._hostTNode,this._hostLView);if(cu(r)){const s=ho(r,this._hostLView),a=js(r);return new Yi(s[1].data[a+8],s)}return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=A0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const m=r.createEmbeddedView(s||{},h);return this.insert(m,c),m}createComponent(r,s,a,c,h){const m=r&&!function Ms(n){return"function"==typeof n}(r);let I;if(m)I=s;else{const W=s||{};I=W.index,a=W.injector,c=W.projectableNodes,h=W.environmentInjector||W.ngModuleRef}const T=m?r:new lh(qt(r)),P=a||this.parentInjector;if(!h&&null==T.ngModule){const oe=(m?P:this.parentInjector).get(yo,null);oe&&(h=oe)}const V=T.create(P,c,void 0,h);return this.insert(V.hostView,I),V}insert(r,s){const a=r._lView,c=a[1];if(function Fs(n){return Zr(n[3])}(a)){const V=this.indexOf(r);if(-1!==V)this.detach(V);else{const W=a[3],oe=new S0(W,W[6],W[3]);oe.detach(oe.indexOf(r))}}const h=this._adjustIndex(s),m=this._lContainer;!function _p(n,r,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=r),a<h-10?(r[4]=s[c],Ro(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function Ep(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(m,r);const I=r[19];null!==I&&I.insertView(n),r[2]|=64}(c,a,m,h);const I=rf(h,m),T=a[11],P=vl(T,m[7]);return null!==P&&function ml(n,r,s,a,c,h){a[0]=c,a[6]=r,Dl(n,a,s,1,c,h)}(c,m[6],T,a,P,I),r.attachToViewContainerRef(),Ro(Av(m),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=A0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Xh(this._lContainer,s);a&&(Xi(Av(this._lContainer),s),Jh(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Xh(this._lContainer,s);return a&&null!=Xi(Av(this._lContainer),s)?new ch(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function A0(n){return n[8]}function Av(n){return n[8]||(n[8]=[])}function x0(n,r){let s;const a=r[n.index];if(Zr(a))s=a;else{let c;if(8&n.type)c=Xn(a);else{const h=r[11];c=h.createComment("");const m=xn(n,r);Oo(h,vl(h,m),c,function _l(n,r){return n.nextSibling(r)}(h,m),!1)}r[n.index]=s=jf(a,r,c,n),ah(r,s)}return new S0(s,n,r)}class xv{constructor(r){this.queryList=r,this.matches=null}clone(){return new xv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const m=s.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new Mv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==F0(r,s).matches&&this.queries[s].setDirty()}}class M0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Rv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new Rv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Pv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Pv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,s,pw(s,h)),this.matchTNodeWithReadOption(r,s,Qo(s,r,h,!1,!1))}else a===om?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Qo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Au||c===dy||c===om&&4&s.type)this.addMatch(s.index,-2);else{const h=Qo(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function pw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function mw(n,r,s,a){return-1===s?function gw(n,r){return 11&n.type?ic(n,r):4&n.type?ly(n,r):null}(r,n):-2===s?function yw(n,r,s){return s===Au?ic(r,n):s===om?ly(r,n):s===dy?x0(r,n):void 0}(n,r,a):xr(n,n[1],s,r)}function R0(n,r,s,a){const c=r[19].queries[a];if(null===c.matches){const h=n.data,m=s.matches,I=[];for(let T=0;T<m.length;T+=2){const P=m[T];I.push(P<0?null:mw(r,h[P],m[T+1],s.metadata.read))}c.matches=I}return c.matches}function Nv(n,r,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const m=R0(n,r,c,s);for(let I=0;I<h.length;I+=2){const T=h[I];if(T>0)a.push(m[I/2]);else{const P=h[I+1],V=r[-T];for(let W=10;W<V.length;W++){const oe=V[W];oe[17]===oe[3]&&Nv(oe[1],oe,P,a)}if(null!==V[9]){const W=V[9];for(let oe=0;oe<W.length;oe++){const Ee=W[oe];Nv(Ee[1],Ee,P,a)}}}}}return a}function P0(n){const r=He(),s=Xt(),a=mi();ga(a+1);const c=F0(s,a);if(n.dirty&&function $a(n){return 4==(4&n[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?Nv(s,r,a,[]):R0(s,r,c,a);n.reset(h,Qa),n.notifyOnChanges()}return!0}return!1}function N0(n,r,s,a){const c=Xt();if(c.firstCreatePass){const h=Jn();(function L0(n,r,s){null===n.queries&&(n.queries=new Rv),n.queries.track(new Pv(r,s))})(c,new M0(r,s,a),h.index),function Ew(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}!function O0(n,r,s){const a=new Sv(4==(4&s));eu(n,r,a,a.destroy),null===r[19]&&(r[19]=new Mv),r[19].queries.push(new xv(a))}(c,He(),s)}function k0(){return function _w(n,r){return n[19].queries[r].queryList}(He(),mi())}function F0(n,r){return n.queries.getByIndex(r)}function fy(...n){}const nE=new Zn("Application Initializer");let py=(()=>{class n{constructor(s){this.appInits=s,this.resolve=fy,this.reject=fy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Ru(h))s.push(h);else if(Gg(h)){const m=new Promise((I,T)=>{h.subscribe({complete:I,error:T})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(M(nE,8))},n.\u0275prov=Kn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rE=new Zn("AppId",{providedIn:"root",factory:function iE(){return`${Uv()}${Uv()}${Uv()}`}});function Uv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sE=new Zn("Platform Initializer"),$w=new Zn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oE=new Zn("appBootstrapListener");let jw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Kn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const gy=new Zn("LocaleId",{providedIn:"root",factory:()=>Q(gy,It.Optional|It.SkipSelf)||function Hw(){return typeof $localize<"u"&&$localize.locale||sp}()}),Gw=new Zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ww{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let zw=(()=>{class n{compileModuleSync(s){return new Dv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=zs(q(s).declarations).reduce((m,I)=>{const T=qt(I);return T&&m.push(new lh(T)),m},[]);return new Ww(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Kn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zw=(()=>Promise.resolve(0))();function Vv(n){typeof Zone>"u"?Zw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ou{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ec(!1),this.onMicrotaskEmpty=new Ec(!1),this.onStable=new Ec(!1),this.onError=new Ec(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Yw(){let n=Te.requestAnimationFrame,r=Te.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Jw(n){const r=()=>{!function Xw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Te,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$v(n),n.isCheckStableRunning=!0,Bv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$v(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,m,I)=>{try{return cE(n),s.invokeTask(c,h,m,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),lE(n)}},onInvoke:(s,a,c,h,m,I,T)=>{try{return cE(n),s.invoke(c,h,m,I,T)}finally{n.shouldCoalesceRunChangeDetection&&r(),lE(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,$v(n),Bv(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ou.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(ou.isInAngularZone())throw new ze(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,r,Qw,fy,fy);try{return h.runTask(m,s,a)}finally{h.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Qw={};function Bv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $v(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lE(n){n._nesting--,Bv(n)}class eD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ec,this.onMicrotaskEmpty=new Ec,this.onStable=new Ec,this.onError=new Ec}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const dE=new Zn(""),hE=new Zn("");let jv,tD=(()=>{class n{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jv||(function nD(n){jv=n}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ou.assertNotInAngularZone(),Vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(M(ou),M(fE),M(hE))},n.\u0275prov=Kn({token:n,factory:n.\u0275fac}),n})(),fE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return jv?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Kn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),od=null;const pE=new Zn("AllowMultipleToken"),Hv=new Zn("PlatformDestroyListeners");class sD{constructor(r,s){this.name=r,this.token=s}}function mE(n,r,s=[]){const a=`Platform: ${r}`,c=new Zn(a);return(h=[])=>{let m=Gv();if(!m||m.injector.get(pE,!1)){const I=[...s,...h,{provide:c,useValue:!0}];n?n(I):function oD(n){if(od&&!od.get(pE,!1))throw new ze(400,!1);od=n;const r=n.get(vE);(function gE(n){const r=n.get(sE,null);r&&r.forEach(s=>s())})(n)}(function yE(n=[],r){return oc.create({name:r,providers:[{provide:Tu,useValue:"platform"},{provide:Hv,useValue:new Set([()=>od=null])},...n]})}(I,a))}return function uD(n){const r=Gv();if(!r)throw new ze(401,!1);return r}()}}function Gv(){return od?.get(vE)??null}let vE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function EE(n,r){let s;return s="noop"===n?new eD:("zone.js"===n?void 0:n)||new ou(r),s}(a?.ngZone,function _E(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:ou,useValue:c}];return c.run(()=>{const m=oc.create({providers:h,parent:this.injector,name:s.moduleType.name}),I=s.create(m),T=I.injector.get(qc,null);if(!T)throw new ze(402,!1);return c.runOutsideAngular(()=>{const P=c.onError.subscribe({next:V=>{T.handleError(V)}});I.onDestroy(()=>{yy(this._modules,I),P.unsubscribe()})}),function IE(n,r,s){try{const a=s();return Ru(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(T,c,()=>{const P=I.injector.get(py);return P.runInitializers(),P.donePromise.then(()=>(function L_(n){Kt(n,"Expected localeId to be defined"),"string"==typeof n&&(O_=n.toLowerCase().replace(/_/g,"-"))}(I.injector.get(gy,sp)||sp),this._moduleDoBootstrap(I),I))})})}bootstrapModule(s,a=[]){const c=wE({},a);return function rD(n,r,s){const a=new Dv(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(my);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ze(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Hv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(M(oc))},n.\u0275prov=Kn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function wE(n,r){return Array.isArray(r)?r.reduce(wE,n):{...n,...r}}let my=(()=>{class n{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new K.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),m=new K.y(I=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{ou.assertNotInAngularZone(),Vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{T.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ae.T)(h,m.pipe(function ee(n={}){const{connector:r=(()=>new C.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=n;return h=>{let m,I,T,P=0,V=!1,W=!1;const oe=()=>{I?.unsubscribe(),I=void 0},Ee=()=>{oe(),m=T=void 0,V=W=!1},$e=()=>{const at=m;Ee(),at?.unsubscribe()};return(0,pe.e)((at,gt)=>{P++,!W&&!V&&oe();const kt=T=T??r();gt.add(()=>{P--,0===P&&!W&&!V&&(I=ve($e,c))}),kt.subscribe(gt),!m&&P>0&&(m=new ce.Hp({next:zt=>kt.next(zt),error:zt=>{W=!0,oe(),I=ve(Ee,s,zt),kt.error(zt)},complete:()=>{V=!0,oe(),I=ve(Ee,a),kt.complete()}}),(0,Z.Xf)(at).subscribe(m))})(h)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Bp;if(!this._injector.get(py).done)throw!c&&ne(s),new ze(405,false);let m;m=c?s:this._injector.get(Su).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const I=function iD(n){return n.isBoundToModule}(m)?void 0:this._injector.get(op),P=m.create(oc.NULL,[],a||m.selector,I),V=P.location.nativeElement,W=P.injector.get(dE,null);return W?.registerApplication(V),P.onDestroy(()=>{this.detachView(P.hostView),yy(this.components,P),W?.unregisterApplication(V)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;yy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(oE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>yy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ze(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(M(ou),M(yo),M(qc))},n.\u0275prov=Kn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let TE=!0;function lD(){TE=!1}let dD=(()=>{class n{}return n.__NG_ELEMENT_ID__=hD,n})();function hD(n){return function fD(n,r,s){if(Xs(n)&&!s){const a=Vr(n.index,r);return new ch(a,a)}return 47&n.type?new ch(r[16],r):null}(Jn(),He(),16==(16&n))}class xE{constructor(){}supports(r){return td(r)}create(r){return new _D(r)}}const vD=(n,r)=>r;class _D{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const m=!a||s&&s.currentIndex<RE(a,c,h)?s:a,I=RE(m,c,h),T=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{h||(h=[]);const P=I-c,V=T-c;if(P!=V){for(let oe=0;oe<P;oe++){const Ee=oe<h.length?h[oe]:h[oe]=0,$e=Ee+oe;V<=$e&&$e<P&&(h[oe]=Ee+1)}h[m.previousIndex]=V-P}}I!==T&&r(m,I,T)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!td(r))throw new ze(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)h=r[I],m=this._trackByFn(I,h),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,h,m,I)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,m,I),a=!0),s=s._next}else c=0,function Hy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[gc()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,I=>{m=this._trackByFn(c,I),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,I,m,c)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new ED(s,a),h,c),r}_verifyReinsertion(r,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new ME),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ME),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class ED{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ID{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class ME{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new ID,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RE(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class PE{constructor(){}supports(r){return r instanceof Map||kg(r)}create(){return new wD}}class wD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||kg(r)))throw new ze(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new DD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class DD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NE(){return new Zv([new xE])}let Zv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||NE()),deps:[[n,new In,new en]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new ze(901,!1)}}return n.\u0275prov=Kn({token:n,providedIn:"root",factory:NE}),n})();function kE(){return new Yv([new PE])}let Yv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||kE()),deps:[[n,new In,new en]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new ze(901,!1)}}return n.\u0275prov=Kn({token:n,providedIn:"root",factory:kE}),n})();const CD=mE(null,"core",[]);let SD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(M(my))},n.\u0275mod=Ue({type:n}),n.\u0275inj=cn({}),n})();function AD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(_t,Re,L)=>{L.d(Re,{Dx:()=>Hn,b2:()=>zi,q6:()=>jn});var C=L(6895),j=L(1571);class K extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends K{static makeCurrent(){(0,C.HT)(new ae)}onAndCancel(ne,q,_e){return ne.addEventListener(q,_e,!1),()=>{ne.removeEventListener(q,_e,!1)}}dispatchEvent(ne,q){ne.dispatchEvent(q)}remove(ne){ne.parentNode&&ne.parentNode.removeChild(ne)}createElement(ne,q){return(q=q||this.getDefaultDocument()).createElement(ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ne){return ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(ne){return ne instanceof DocumentFragment}getGlobalEventTarget(ne,q){return"window"===q?window:"document"===q?ne:"body"===q?ne.body:null}getBaseHref(ne){const q=function ce(){return Z=Z||document.querySelector("base"),Z?Z.getAttribute("href"):null}();return null==q?null:function ee(me){pe=pe||document.createElement("a"),pe.setAttribute("href",me);const ne=pe.pathname;return"/"===ne.charAt(0)?ne:`/${ne}`}(q)}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}getCookie(ne){return(0,C.Mx)(document.cookie,ne)}}let pe,Z=null;const ve=new j.OlP("TRANSITION_ID"),te=[{provide:j.ip1,useFactory:function H(me,ne,q){return()=>{q.get(j.CZH).donePromise.then(()=>{const _e=(0,C.q)(),he=ne.querySelectorAll(`style[ng-transition="${me}"]`);for(let it=0;it<he.length;it++)_e.remove(he[it])})}},deps:[ve,C.K0,j.zs3],multi:!0}];let qe=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(q){return new(q||me)},me.\u0275prov=j.Yz7({token:me,factory:me.\u0275fac}),me})();const Be=new j.OlP("EventManagerPlugins");let ut=(()=>{class me{constructor(q,_e){this._zone=_e,this._eventNameToPlugin=new Map,q.forEach(he=>he.manager=this),this._plugins=q.slice().reverse()}addEventListener(q,_e,he){return this._findPluginFor(_e).addEventListener(q,_e,he)}addGlobalEventListener(q,_e,he){return this._findPluginFor(_e).addGlobalEventListener(q,_e,he)}getZone(){return this._zone}_findPluginFor(q){const _e=this._eventNameToPlugin.get(q);if(_e)return _e;const he=this._plugins;for(let it=0;it<he.length;it++){const bt=he[it];if(bt.supports(q))return this._eventNameToPlugin.set(q,bt),bt}throw new Error(`No event manager plugin found for event ${q}`)}}return me.\u0275fac=function(q){return new(q||me)(j.LFG(Be),j.LFG(j.R0b))},me.\u0275prov=j.Yz7({token:me,factory:me.\u0275fac}),me})();class We{constructor(ne){this._doc=ne}addGlobalEventListener(ne,q,_e){const he=(0,C.q)().getGlobalEventTarget(this._doc,ne);if(!he)throw new Error(`Unsupported event target ${he} for event ${q}`);return this.addEventListener(he,q,_e)}}let nt=(()=>{class me{constructor(){this._stylesSet=new Set}addStyles(q){const _e=new Set;q.forEach(he=>{this._stylesSet.has(he)||(this._stylesSet.add(he),_e.add(he))}),this.onStylesAdded(_e)}onStylesAdded(q){}getAllStyles(){return Array.from(this._stylesSet)}}return me.\u0275fac=function(q){return new(q||me)},me.\u0275prov=j.Yz7({token:me,factory:me.\u0275fac}),me})(),pt=(()=>{class me extends nt{constructor(q){super(),this._doc=q,this._hostNodes=new Map,this._hostNodes.set(q.head,[])}_addStylesToHost(q,_e,he){q.forEach(it=>{const bt=this._doc.createElement("style");bt.textContent=it,he.push(_e.appendChild(bt))})}addHost(q){const _e=[];this._addStylesToHost(this._stylesSet,q,_e),this._hostNodes.set(q,_e)}removeHost(q){const _e=this._hostNodes.get(q);_e&&_e.forEach(ze),this._hostNodes.delete(q)}onStylesAdded(q){this._hostNodes.forEach((_e,he)=>{this._addStylesToHost(q,he,_e)})}ngOnDestroy(){this._hostNodes.forEach(q=>q.forEach(ze))}}return me.\u0275fac=function(q){return new(q||me)(j.LFG(C.K0))},me.\u0275prov=j.Yz7({token:me,factory:me.\u0275fac}),me})();function ze(me){(0,C.q)().remove(me)}const pn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ie=/%COMP%/g;function fe(me,ne,q){for(let _e=0;_e<ne.length;_e++){let he=ne[_e];Array.isArray(he)?fe(me,he,q):(he=he.replace(Ie,me),q.push(he))}return q}function Y(me){return ne=>{if("__ngUnwrap__"===ne)return me;!1===me(ne)&&(ne.preventDefault(),ne.returnValue=!1)}}let ge=(()=>{class me{constructor(q,_e,he){this.eventManager=q,this.sharedStylesHost=_e,this.appId=he,this.rendererByCompId=new Map,this.defaultRenderer=new Ze(q)}createRenderer(q,_e){if(!q||!_e)return this.defaultRenderer;switch(_e.encapsulation){case j.ifc.Emulated:{let he=this.rendererByCompId.get(_e.id);return he||(he=new Tn(this.eventManager,this.sharedStylesHost,_e,this.appId),this.rendererByCompId.set(_e.id,he)),he.applyToHost(q),he}case 1:case j.ifc.ShadowDom:return new Ut(this.eventManager,this.sharedStylesHost,q,_e);default:if(!this.rendererByCompId.has(_e.id)){const he=fe(_e.id,_e.styles,[]);this.sharedStylesHost.addStyles(he),this.rendererByCompId.set(_e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return me.\u0275fac=function(q){return new(q||me)(j.LFG(ut),j.LFG(pt),j.LFG(j.AFp))},me.\u0275prov=j.Yz7({token:me,factory:me.\u0275fac}),me})();class Ze{constructor(ne){this.eventManager=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ne,q){return q?document.createElementNS(pn[q]||q,ne):document.createElement(ne)}createComment(ne){return document.createComment(ne)}createText(ne){return document.createTextNode(ne)}appendChild(ne,q){(nn(ne)?ne.content:ne).appendChild(q)}insertBefore(ne,q,_e){ne&&(nn(ne)?ne.content:ne).insertBefore(q,_e)}removeChild(ne,q){ne&&ne.removeChild(q)}selectRootElement(ne,q){let _e="string"==typeof ne?document.querySelector(ne):ne;if(!_e)throw new Error(`The selector "${ne}" did not match any elements`);return q||(_e.textContent=""),_e}parentNode(ne){return ne.parentNode}nextSibling(ne){return ne.nextSibling}setAttribute(ne,q,_e,he){if(he){q=he+":"+q;const it=pn[he];it?ne.setAttributeNS(it,q,_e):ne.setAttribute(q,_e)}else ne.setAttribute(q,_e)}removeAttribute(ne,q,_e){if(_e){const he=pn[_e];he?ne.removeAttributeNS(he,q):ne.removeAttribute(`${_e}:${q}`)}else ne.removeAttribute(q)}addClass(ne,q){ne.classList.add(q)}removeClass(ne,q){ne.classList.remove(q)}setStyle(ne,q,_e,he){he&(j.JOm.DashCase|j.JOm.Important)?ne.style.setProperty(q,_e,he&j.JOm.Important?"important":""):ne.style[q]=_e}removeStyle(ne,q,_e){_e&j.JOm.DashCase?ne.style.removeProperty(q):ne.style[q]=""}setProperty(ne,q,_e){ne[q]=_e}setValue(ne,q){ne.nodeValue=q}listen(ne,q,_e){return"string"==typeof ne?this.eventManager.addGlobalEventListener(ne,q,Y(_e)):this.eventManager.addEventListener(ne,q,Y(_e))}}function nn(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class Tn extends Ze{constructor(ne,q,_e,he){super(ne),this.component=_e;const it=fe(he+"-"+_e.id,_e.styles,[]);q.addStyles(it),this.contentAttr=function Ne(me){return"_ngcontent-%COMP%".replace(Ie,me)}(he+"-"+_e.id),this.hostAttr=function Le(me){return"_nghost-%COMP%".replace(Ie,me)}(he+"-"+_e.id)}applyToHost(ne){super.setAttribute(ne,this.hostAttr,"")}createElement(ne,q){const _e=super.createElement(ne,q);return super.setAttribute(_e,this.contentAttr,""),_e}}class Ut extends Ze{constructor(ne,q,_e,he){super(ne),this.sharedStylesHost=q,this.hostEl=_e,this.shadowRoot=_e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const it=fe(he.id,he.styles,[]);for(let bt=0;bt<it.length;bt++){const Rn=document.createElement("style");Rn.textContent=it[bt],this.shadowRoot.appendChild(Rn)}}nodeOrShadowRoot(ne){return ne===this.hostEl?this.shadowRoot:ne}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ne,q){return super.appendChild(this.nodeOrShadowRoot(ne),q)}insertBefore(ne,q,_e){return super.insertBefore(this.nodeOrShadowRoot(ne),q,_e)}removeChild(ne,q){return super.removeChild(this.nodeOrShadowRoot(ne),q)}parentNode(ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ne)))}}let An=(()=>{class me extends We{constructor(q){super(q)}supports(q){return!0}addEventListener(q,_e,he){return q.addEventListener(_e,he,!1),()=>this.removeEventListener(q,_e,he)}removeEventListener(q,_e,he){return q.removeEventListener(_e,he)}}return me.\u0275fac=function(q){return new(q||me)(j.LFG(C.K0))},me.\u0275prov=j.Yz7({token:me,factory:me.\u0275fac}),me})();const yn=["alt","control","meta","shift"],Kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bt={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let cr=(()=>{class me extends We{constructor(q){super(q)}supports(q){return null!=me.parseEventName(q)}addEventListener(q,_e,he){const it=me.parseEventName(_e),bt=me.eventCallback(it.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(q,it.domEventName,bt))}static parseEventName(q){const _e=q.toLowerCase().split("."),he=_e.shift();if(0===_e.length||"keydown"!==he&&"keyup"!==he)return null;const it=me._normalizeKey(_e.pop());let bt="",Rn=_e.indexOf("code");if(Rn>-1&&(_e.splice(Rn,1),bt="code."),yn.forEach(tr=>{const Ni=_e.indexOf(tr);Ni>-1&&(_e.splice(Ni,1),bt+=tr+".")}),bt+=it,0!=_e.length||0===it.length)return null;const Wn={};return Wn.domEventName=he,Wn.fullKey=bt,Wn}static matchEventFullKeyCode(q,_e){let he=Kt[q.key]||q.key,it="";return _e.indexOf("code.")>-1&&(he=q.code,it="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),yn.forEach(bt=>{bt!==he&&(0,Bt[bt])(q)&&(it+=bt+".")}),it+=he,it===_e)}static eventCallback(q,_e,he){return it=>{me.matchEventFullKeyCode(it,q)&&he.runGuarded(()=>_e(it))}}static _normalizeKey(q){return"esc"===q?"escape":q}}return me.\u0275fac=function(q){return new(q||me)(j.LFG(C.K0))},me.\u0275prov=j.Yz7({token:me,factory:me.\u0275fac}),me})();const jn=(0,j.eFA)(j._c5,"browser",[{provide:j.Lbi,useValue:C.bD},{provide:j.g9A,useValue:function ei(){ae.makeCurrent()},multi:!0},{provide:C.K0,useFactory:function Rr(){return(0,j.RDi)(document),document},deps:[]}]),_i=new j.OlP(""),_n=[{provide:j.rWj,useClass:class de{addToWindow(ne){j.dqk.getAngularTestability=(_e,he=!0)=>{const it=ne.findTestabilityInTree(_e,he);if(null==it)throw new Error("Could not find testability for element.");return it},j.dqk.getAllAngularTestabilities=()=>ne.getAllTestabilities(),j.dqk.getAllAngularRootElements=()=>ne.getAllRootElements(),j.dqk.frameworkStabilizers||(j.dqk.frameworkStabilizers=[]),j.dqk.frameworkStabilizers.push(_e=>{const he=j.dqk.getAllAngularTestabilities();let it=he.length,bt=!1;const Rn=function(Wn){bt=bt||Wn,it--,0==it&&_e(bt)};he.forEach(function(Wn){Wn.whenStable(Rn)})})}findTestabilityInTree(ne,q,_e){return null==q?null:ne.getTestability(q)??(_e?(0,C.q)().isShadowRoot(q)?this.findTestabilityInTree(ne,q.host,!0):this.findTestabilityInTree(ne,q.parentElement,!0):null)}},deps:[]},{provide:j.lri,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]},{provide:j.dDg,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]}],qn=[{provide:j.zSh,useValue:"root"},{provide:j.qLn,useFactory:function zr(){return new j.qLn},deps:[]},{provide:Be,useClass:An,multi:!0,deps:[C.K0,j.R0b,j.Lbi]},{provide:Be,useClass:cr,multi:!0,deps:[C.K0]},{provide:ge,useClass:ge,deps:[ut,pt,j.AFp]},{provide:j.FYo,useExisting:ge},{provide:nt,useExisting:pt},{provide:pt,useClass:pt,deps:[C.K0]},{provide:ut,useClass:ut,deps:[Be,j.R0b]},{provide:C.JF,useClass:qe,deps:[]},[]];let zi=(()=>{class me{constructor(q){}static withServerTransition(q){return{ngModule:me,providers:[{provide:j.AFp,useValue:q.appId},{provide:ve,useExisting:j.AFp},te]}}}return me.\u0275fac=function(q){return new(q||me)(j.LFG(_i,12))},me.\u0275mod=j.oAB({type:me}),me.\u0275inj=j.cJS({providers:[...qn,..._n],imports:[C.ez,j.hGG]}),me})(),Hn=(()=>{class me{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}}return me.\u0275fac=function(q){return new(q||me)(j.LFG(C.K0))},me.\u0275prov=j.Yz7({token:me,factory:function(q){let _e=null;return _e=q?new q:function Tr(){return new Hn((0,j.LFG)(C.K0))}(),_e},providedIn:"root"}),me})();typeof window<"u"&&window},2839:(_t,Re,L)=>{L.d(Re,{gz:()=>ni,F0:()=>Ar,yS:()=>go,Bz:()=>ar,lC:()=>da});var C=L(1571),j=L(8996),K=L(9646),ae=L(7579);class Z extends ae.x{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const y=super._subscribe(_);return!y.closed&&_.next(this._value),y}getValue(){const{hasError:_,thrownError:y,_value:D}=this;if(_)throw y;return this._throwIfClosed(),D}next(_){super.next(this._value=_)}}const pe=(0,L(3888).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var ee=L(9841),ve=L(7272),H=L(9770),te=L(9635),de=L(2843),qe=L(9751),Be=L(515),ut=L(4033),We=L(6895),nt=L(4004),pt=L(3900),ze=L(5698),pn=L(3269),Ie=L(4482),Ke=L(9300),Xe=L(5577),Mt=L(5403);function Ne(v){return(0,Ie.e)((_,y)=>{let D=!1;_.subscribe((0,Mt.x)(y,x=>{D=!0,y.next(x)},()=>{D||y.next(v),y.complete()}))})}function Le(v=fe){return(0,Ie.e)((_,y)=>{let D=!1;_.subscribe((0,Mt.x)(y,x=>{D=!0,y.next(x)},()=>D?y.complete():y.error(v())))})}function fe(){return new pe}var Y=L(4671);function we(v,_){const y=arguments.length>=2;return D=>D.pipe(v?(0,Ke.h)((x,F)=>v(x,F,D)):Y.y,(0,ze.q)(1),y?Ne(_):Le(()=>new pe))}var ge=L(576);function Ze(v,_){return(0,ge.m)(_)?(0,Xe.z)(v,_,1):(0,Xe.z)(v,1)}var Oe=L(8505),At=L(8421);function nn(v){return(0,Ie.e)((_,y)=>{let F,D=null,x=!1;D=_.subscribe((0,Mt.x)(y,void 0,void 0,z=>{F=(0,At.Xf)(v(z,nn(v)(_))),D?(D.unsubscribe(),D=null,F.subscribe(y)):x=!0})),x&&(D.unsubscribe(),D=null,F.subscribe(y))})}function Tn(v,_,y,D,x){return(F,z)=>{let X=y,Me=_,lt=0;F.subscribe((0,Mt.x)(z,Zt=>{const wt=lt++;Me=X?v(Me,Zt,wt):(X=!0,Zt),D&&z.next(Me)},x&&(()=>{X&&z.next(Me),z.complete()})))}}function Ut(v,_){return(0,Ie.e)(Tn(v,_,arguments.length>=2,!0))}function An(v){return v<=0?()=>Be.E:(0,Ie.e)((_,y)=>{let D=[];_.subscribe((0,Mt.x)(y,x=>{D.push(x),v<D.length&&D.shift()},()=>{for(const x of D)y.next(x);y.complete()},void 0,()=>{D=null}))})}function yn(v,_){const y=arguments.length>=2;return D=>D.pipe(v?(0,Ke.h)((x,F)=>v(x,F,D)):Y.y,An(1),y?Ne(_):Le(()=>new pe))}var Bt=L(9718);function cr(v){return(0,Ie.e)((_,y)=>{try{_.subscribe(y)}finally{y.add(v)}})}var Nn=L(8343),fi=L(8189),Kn=L(1481);const yt="primary",cn=Symbol("RouteTitle");class ei{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y[0]:y}return null}getAll(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function zr(v){return new ei(v)}function Rr(v,_,y){const D=y.path.split("/");if(D.length>v.length||"full"===y.pathMatch&&(_.hasChildren()||D.length<v.length))return null;const x={};for(let F=0;F<D.length;F++){const z=D[F],X=v[F];if(z.startsWith(":"))x[z.substring(1)]=X;else if(z!==X.path)return null}return{consumed:v.slice(0,D.length),posParams:x}}function jn(v,_){const y=v?Object.keys(v):void 0,D=_?Object.keys(_):void 0;if(!y||!D||y.length!=D.length)return!1;let x;for(let F=0;F<y.length;F++)if(x=y[F],!_i(v[x],_[x]))return!1;return!0}function _i(v,_){if(Array.isArray(v)&&Array.isArray(_)){if(v.length!==_.length)return!1;const y=[...v].sort(),D=[..._].sort();return y.every((x,F)=>D[F]===x)}return v===_}function _n(v){return Array.prototype.concat.apply([],v)}function qn(v){return v.length>0?v[v.length-1]:null}function kn(v,_){for(const y in v)v.hasOwnProperty(y)&&_(v[y],y)}function It(v){return(0,C.CqO)(v)?v:(0,C.QGY)(v)?(0,j.D)(Promise.resolve(v)):(0,K.of)(v)}const Hn={exact:function Gn(v,_,y){if(!dn(v.segments,_.segments)||!Te(v.segments,_.segments,y)||v.numberOfChildren!==_.numberOfChildren)return!1;for(const D in _.children)if(!v.children[D]||!Gn(v.children[D],_.children[D],y))return!1;return!0},subset:Cn},ln={exact:function Pt(v,_){return jn(v,_)},subset:function Ur(v,_){return Object.keys(_).length<=Object.keys(v).length&&Object.keys(_).every(y=>_i(v[y],_[y]))},ignored:()=>!0};function Rt(v,_,y){return Hn[y.paths](v.root,_.root,y.matrixParams)&&ln[y.queryParams](v.queryParams,_.queryParams)&&!("exact"===y.fragment&&v.fragment!==_.fragment)}function Cn(v,_,y){return pr(v,_,_.segments,y)}function pr(v,_,y,D){if(v.segments.length>y.length){const x=v.segments.slice(0,y.length);return!(!dn(x,y)||_.hasChildren()||!Te(x,y,D))}if(v.segments.length===y.length){if(!dn(v.segments,y)||!Te(v.segments,y,D))return!1;for(const x in _.children)if(!v.children[x]||!Cn(v.children[x],_.children[x],D))return!1;return!0}{const x=y.slice(0,v.segments.length),F=y.slice(v.segments.length);return!!(dn(v.segments,x)&&Te(v.segments,x,D)&&v.children[yt])&&pr(v.children[yt],_,F,D)}}function Te(v,_,y){return _.every((D,x)=>ln[y](v[x].parameters,D.parameters))}class ct{constructor(_,y,D){this.root=_,this.queryParams=y,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zr(this.queryParams)),this._queryParamMap}toString(){return st.serialize(this)}}class Ae{constructor(_,y){this.segments=_,this.children=y,this.parent=null,kn(y,(D,x)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mt(this)}}class Ct{constructor(_,y){this.path=_,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=zr(this.parameters)),this._parameterMap}toString(){return Et(this)}}function dn(v,_){return v.length===_.length&&v.every((y,D)=>y.path===_[D].path)}let dt=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=C.Yz7({token:v,factory:function(){return new Fe},providedIn:"root"}),v})();class Fe{parse(_){const y=new he(_);return new ct(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(_){const y=`/${Yt(_.root,!0)}`,D=function Ln(v){const _=Object.keys(v).map(y=>{const D=v[y];return Array.isArray(D)?D.map(x=>`${re(y)}=${re(x)}`).join("&"):`${re(y)}=${re(D)}`}).filter(y=>!!y);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${y}${D}${"string"==typeof _.fragment?`#${function J(v){return encodeURI(v)}(_.fragment)}`:""}`}}const st=new Fe;function mt(v){return v.segments.map(_=>Et(_)).join("/")}function Yt(v,_){if(!v.hasChildren())return mt(v);if(_){const y=v.children[yt]?Yt(v.children[yt],!1):"",D=[];return kn(v.children,(x,F)=>{F!==yt&&D.push(`${F}:${Yt(x,!1)}`)}),D.length>0?`${y}(${D.join("//")})`:y}{const y=function Jt(v,_){let y=[];return kn(v.children,(D,x)=>{x===yt&&(y=y.concat(_(D,x)))}),kn(v.children,(D,x)=>{x!==yt&&(y=y.concat(_(D,x)))}),y}(v,(D,x)=>x===yt?[Yt(v.children[yt],!1)]:[`${x}:${Yt(D,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[yt]?`${mt(v)}/${y[0]}`:`${mt(v)}/(${y.join("//")})`}}function an(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function re(v){return an(v).replace(/%3B/gi,";")}function ue(v){return an(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ue(v){return decodeURIComponent(v)}function Ce(v){return Ue(v.replace(/\+/g,"%20"))}function Et(v){return`${ue(v.path)}${function Gt(v){return Object.keys(v).map(_=>`;${ue(_)}=${ue(v[_])}`).join("")}(v.parameters)}`}const qt=/^[^\/()?;=#]+/;function hn(v){const _=v.match(qt);return _?_[0]:""}const me=/^[^=?&#]+/,q=/^[^&#]+/;class he{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(_.length>0||Object.keys(y).length>0)&&(D[yt]=new Ae(_,y)),D}parseSegment(){const _=hn(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new C.vHH(4009,!1);return this.capture(_),new Ct(Ue(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const y=hn(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const x=hn(this.remaining);x&&(D=x,this.capture(D))}_[Ue(y)]=Ue(D)}parseQueryParam(_){const y=function ne(v){const _=v.match(me);return _?_[0]:""}(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const z=function _e(v){const _=v.match(q);return _?_[0]:""}(this.remaining);z&&(D=z,this.capture(D))}const x=Ce(y),F=Ce(D);if(_.hasOwnProperty(x)){let z=_[x];Array.isArray(z)||(z=[z],_[x]=z),z.push(F)}else _[x]=F}parseParens(_){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=hn(this.remaining),x=this.remaining[D.length];if("/"!==x&&")"!==x&&";"!==x)throw new C.vHH(4010,!1);let F;D.indexOf(":")>-1?(F=D.slice(0,D.indexOf(":")),this.capture(F),this.capture(":")):_&&(F=yt);const z=this.parseChildren();y[F]=1===Object.keys(z).length?z[yt]:new Ae([],z),this.consumeOptional("//")}return y}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new C.vHH(4011,!1)}}function it(v){return v.segments.length>0?new Ae([],{[yt]:v}):v}function bt(v){const _={};for(const D of Object.keys(v.children)){const F=bt(v.children[D]);(F.segments.length>0||F.hasChildren())&&(_[D]=F)}return function Rn(v){if(1===v.numberOfChildren&&v.children[yt]){const _=v.children[yt];return new Ae(v.segments.concat(_.segments),_.children)}return v}(new Ae(v.segments,_))}function Wn(v){return v instanceof ct}function Ki(v,_,y,D,x){if(0===y.length)return br(_.root,_.root,_.root,D,x);const F=function Pn(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new ki(!0,0,v);let _=0,y=!1;const D=v.reduce((x,F,z)=>{if("object"==typeof F&&null!=F){if(F.outlets){const X={};return kn(F.outlets,(Me,lt)=>{X[lt]="string"==typeof Me?Me.split("/"):Me}),[...x,{outlets:X}]}if(F.segmentPath)return[...x,F.segmentPath]}return"string"!=typeof F?[...x,F]:0===z?(F.split("/").forEach((X,Me)=>{0==Me&&"."===X||(0==Me&&""===X?y=!0:".."===X?_++:""!=X&&x.push(X))}),x):[...x,F]},[]);return new ki(y,_,D)}(y);return F.toRoot()?br(_.root,_.root,new Ae([],{}),D,x):function z(Me){const lt=function Qn(v,_,y,D){if(v.isAbsolute)return new ti(_.root,!0,0);if(-1===D)return new ti(y,y===_.root,0);return function Ii(v,_,y){let D=v,x=_,F=y;for(;F>x;){if(F-=x,D=D.parent,!D)throw new C.vHH(4005,!1);x=D.segments.length}return new ti(D,!1,x-F)}(y,D+(xt(v.commands[0])?0:1),v.numberOfDoubleDots)}(F,_,v.snapshot?._urlSegment,Me),Zt=lt.processChildren?Zs(lt.segmentGroup,lt.index,F.commands):En(lt.segmentGroup,lt.index,F.commands);return br(_.root,lt.segmentGroup,Zt,D,x)}(v.snapshot?._lastPathIndex)}function xt(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Ei(v){return"object"==typeof v&&null!=v&&v.outlets}function br(v,_,y,D,x){let z,F={};D&&kn(D,(Me,lt)=>{F[lt]=Array.isArray(Me)?Me.map(Zt=>`${Zt}`):`${Me}`}),z=v===_?y:Is(v,_,y);const X=it(bt(z));return new ct(X,F,x)}function Is(v,_,y){const D={};return kn(v.children,(x,F)=>{D[F]=x===_?y:Is(x,_,y)}),new Ae(v.segments,D)}class ki{constructor(_,y,D){if(this.isAbsolute=_,this.numberOfDoubleDots=y,this.commands=D,_&&D.length>0&&xt(D[0]))throw new C.vHH(4003,!1);const x=D.find(Ei);if(x&&x!==qn(D))throw new C.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ti{constructor(_,y,D){this.segmentGroup=_,this.processChildren=y,this.index=D}}function En(v,_,y){if(v||(v=new Ae([],{})),0===v.segments.length&&v.hasChildren())return Zs(v,_,y);const D=function Ys(v,_,y){let D=0,x=_;const F={match:!1,pathIndex:0,commandIndex:0};for(;x<v.segments.length;){if(D>=y.length)return F;const z=v.segments[x],X=y[D];if(Ei(X))break;const Me=`${X}`,lt=D<y.length-1?y[D+1]:null;if(x>0&&void 0===Me)break;if(Me&&lt&&"object"==typeof lt&&void 0===lt.outlets){if(!wi(Me,lt,z))return F;D+=2}else{if(!wi(Me,{},z))return F;D++}x++}return{match:!0,pathIndex:x,commandIndex:D}}(v,_,y),x=y.slice(D.commandIndex);if(D.match&&D.pathIndex<v.segments.length){const F=new Ae(v.segments.slice(0,D.pathIndex),{});return F.children[yt]=new Ae(v.segments.slice(D.pathIndex),v.children),Zs(F,0,x)}return D.match&&0===x.length?new Ae(v.segments,{}):D.match&&!v.hasChildren()?ns(v,_,y):D.match?Zs(v,0,x):ns(v,_,y)}function Zs(v,_,y){if(0===y.length)return new Ae(v.segments,{});{const D=function ws(v){return Ei(v[0])?v[0].outlets:{[yt]:v}}(y),x={};return kn(D,(F,z)=>{"string"==typeof F&&(F=[F]),null!==F&&(x[z]=En(v.children[z],_,F))}),kn(v.children,(F,z)=>{void 0===D[z]&&(x[z]=F)}),new Ae(v.segments,x)}}function ns(v,_,y){const D=v.segments.slice(0,_);let x=0;for(;x<y.length;){const F=y[x];if(Ei(F)){const Me=Qs(F.outlets);return new Ae(D,Me)}if(0===x&&xt(y[0])){D.push(new Ct(v.segments[_].path,pi(y[0]))),x++;continue}const z=Ei(F)?F.outlets[yt]:`${F}`,X=x<y.length-1?y[x+1]:null;z&&X&&xt(X)?(D.push(new Ct(z,pi(X))),x+=2):(D.push(new Ct(z,{})),x++)}return new Ae(D,{})}function Qs(v){const _={};return kn(v,(y,D)=>{"string"==typeof y&&(y=[y]),null!==y&&(_[D]=ns(new Ae([],{}),0,y))}),_}function pi(v){const _={};return kn(v,(y,D)=>_[D]=`${y}`),_}function wi(v,_,y){return v==y.path&&jn(_,y.parameters)}class Pr{constructor(_,y){this.id=_,this.url=y}}class dr extends Pr{constructor(_,y,D="imperative",x=null){super(_,y),this.type=0,this.navigationTrigger=D,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rs extends Pr{constructor(_,y,D){super(_,y),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gr extends Pr{constructor(_,y,D,x){super(_,y),this.reason=D,this.code=x,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zr extends Pr{constructor(_,y,D,x){super(_,y),this.error=D,this.target=x,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Eo extends Pr{constructor(_,y,D,x){super(_,y),this.urlAfterRedirects=D,this.state=x,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xs extends Pr{constructor(_,y,D,x){super(_,y),this.urlAfterRedirects=D,this.state=x,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class is extends Pr{constructor(_,y,D,x,F){super(_,y),this.urlAfterRedirects=D,this.state=x,this.shouldActivate=F,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gi extends Pr{constructor(_,y,D,x){super(_,y),this.urlAfterRedirects=D,this.state=x,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aa extends Pr{constructor(_,y,D,x){super(_,y),this.urlAfterRedirects=D,this.state=x,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jo{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ua{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Di{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ca{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ti{constructor(_,y,D){this.routerEvent=_,this.position=y,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Io{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const y=this.pathFromRoot(_);return y.length>1?y[y.length-2]:null}children(_){const y=Va(_,this._root);return y?y.children.map(D=>D.value):[]}firstChild(_){const y=Va(_,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(_){const y=Go(_,this._root);return y.length<2?[]:y[y.length-2].children.map(x=>x.value).filter(x=>x!==_)}pathFromRoot(_){return Go(_,this._root).map(y=>y.value)}}function Va(v,_){if(v===_.value)return _;for(const y of _.children){const D=Va(v,y);if(D)return D}return null}function Go(v,_){if(v===_.value)return[_];for(const y of _.children){const D=Go(v,y);if(D.length)return D.unshift(_),D}return[]}class ss{constructor(_,y){this.value=_,this.children=y}toString(){return`TreeNode(${this.value})`}}function Ds(v){const _={};return v&&v.children.forEach(y=>_[y.value.outlet]=y),_}class au extends Io{constructor(_,y){super(_),this.snapshot=y,ks(this,_)}toString(){return this.snapshot.toString()}}function Js(v,_){const y=function Ci(v,_){const z=new Fn([],{},{},"",{},yt,_,null,v.root,-1,{});return new Wo("",new ss(z,[]))}(v,_),D=new Z([new Ct("",{})]),x=new Z({}),F=new Z({}),z=new Z({}),X=new Z(""),Me=new ni(D,x,z,X,F,yt,_,y.root);return Me.snapshot=y.root,new au(new ss(Me,[]),y)}class ni{constructor(_,y,D,x,F,z,X,Me){this.url=_,this.params=y,this.queryParams=D,this.fragment=x,this.data=F,this.outlet=z,this.component=X,this.title=this.data?.pipe((0,nt.U)(lt=>lt[cn]))??(0,K.of)(void 0),this._futureSnapshot=Me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(_=>zr(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(_=>zr(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ts(v,_="emptyOnly"){const y=v.pathFromRoot;let D=0;if("always"!==_)for(D=y.length-1;D>=1;){const x=y[D],F=y[D-1];if(x.routeConfig&&""===x.routeConfig.path)D--;else{if(F.component)break;D--}}return function wo(v){return v.reduce((_,y)=>({params:{..._.params,...y.params},data:{..._.data,...y.data},resolve:{...y.data,..._.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(D))}class Fn{constructor(_,y,D,x,F,z,X,Me,lt,Zt,wt,Bn){this.url=_,this.params=y,this.queryParams=D,this.fragment=x,this.data=F,this.outlet=z,this.component=X,this.title=this.data?.[cn],this.routeConfig=Me,this._urlSegment=lt,this._lastPathIndex=Zt,this._correctedLastPathIndex=Bn??Zt,this._resolve=wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wo extends Io{constructor(_,y){super(y),this.url=_,ks(this,y)}toString(){return yr(this._root)}}function ks(v,_){_.value._routerState=v,_.children.forEach(y=>ks(v,y))}function yr(v){const _=v.children.length>0?` { ${v.children.map(yr).join(", ")} } `:"";return`${v.value}${_}`}function Do(v){if(v.snapshot){const _=v.snapshot,y=v._futureSnapshot;v.snapshot=y,jn(_.queryParams,y.queryParams)||v.queryParams.next(y.queryParams),_.fragment!==y.fragment&&v.fragment.next(y.fragment),jn(_.params,y.params)||v.params.next(y.params),function lr(v,_){if(v.length!==_.length)return!1;for(let y=0;y<v.length;++y)if(!jn(v[y],_[y]))return!1;return!0}(_.url,y.url)||v.url.next(y.url),jn(_.data,y.data)||v.data.next(y.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function os(v,_){const y=jn(v.params,_.params)&&function et(v,_){return dn(v,_)&&v.every((y,D)=>jn(y.parameters,_[D].parameters))}(v.url,_.url);return y&&!(!v.parent!=!_.parent)&&(!v.parent||os(v.parent,_.parent))}function la(v,_,y){if(y&&v.shouldReuseRoute(_.value,y.value.snapshot)){const D=y.value;D._futureSnapshot=_.value;const x=function eo(v,_,y){return _.children.map(D=>{for(const x of y.children)if(v.shouldReuseRoute(D.value,x.value.snapshot))return la(v,D,x);return la(v,D)})}(v,_,y);return new ss(D,x)}{if(v.shouldAttach(_.value)){const F=v.retrieve(_.value);if(null!==F){const z=F.route;return z.value._futureSnapshot=_.value,z.children=_.children.map(X=>la(v,X)),z}}const D=function qi(v){return new ni(new Z(v.url),new Z(v.params),new Z(v.queryParams),new Z(v.fragment),new Z(v.data),v.outlet,v.component,v)}(_.value),x=_.children.map(F=>la(v,F));return new ss(D,x)}}const Si="ngNavigationCancelingError";function Li(v,_){const{redirectTo:y,navigationBehaviorOptions:D}=Wn(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,x=Os(!1,0,_);return x.url=y,x.navigationBehaviorOptions=D,x}function Os(v,_,y){const D=new Error("NavigationCancelingError: "+(v||""));return D[Si]=!0,D.cancellationCode=_,y&&(D.url=y),D}function Ba(v){return ri(v)&&Wn(v.url)}function ri(v){return v&&v[Si]}class Fi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yr,this.attachRef=null}}let Yr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(y,D){const x=this.getOrCreateContext(y);x.outlet=D,this.contexts.set(y,x)}onChildOutletDestroyed(y){const D=this.getContext(y);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let D=this.getContext(y);return D||(D=new Fi,this.contexts.set(y,D)),D}getContext(y){return this.contexts.get(y)||null}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=C.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Ls=!1;let da=(()=>{class v{constructor(y,D,x,F,z){this.parentContexts=y,this.location=D,this.changeDetector=F,this.environmentInjector=z,this.activated=null,this._activatedRoute=null,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.name=x||yt,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.vHH(4012,Ls);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.vHH(4012,Ls);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.vHH(4012,Ls);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,D){this.activated=y,this._activatedRoute=D,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,D){if(this.isActivated)throw new C.vHH(4013,Ls);this._activatedRoute=y;const x=this.location,z=y._futureSnapshot.component,X=this.parentContexts.getOrCreateContext(this.name).children,Me=new as(y,X,x.injector);if(D&&function Xn(v){return!!v.resolveComponentFactory}(D)){const lt=D.resolveComponentFactory(z);this.activated=x.createComponent(lt,x.length,Me)}else this.activated=x.createComponent(z,{index:x.length,injector:Me,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(y){return new(y||v)(C.Y36(Yr),C.Y36(C.s_b),C.$8M("name"),C.Y36(C.sBO),C.Y36(C.lqb))},v.\u0275dir=C.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),v})();class as{constructor(_,y,D){this.route=_,this.childContexts=y,this.parent=D}get(_,y){return _===ni?this.route:_===Yr?this.childContexts:this.parent.get(_,y)}}let to=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275cmp=C.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[C.jDz],decls:1,vars:0,template:function(y,D){1&y&&C._UZ(0,"router-outlet")},dependencies:[da],encapsulation:2}),v})();function To(v,_){return v.providers&&!v._injector&&(v._injector=(0,C.MMx)(v.providers,_,`Route: ${v.path}`)),v._injector??_}function Fs(v){const _=v.children&&v.children.map(Fs),y=_?{...v,children:_}:{...v};return!y.component&&!y.loadComponent&&(_||y.loadChildren)&&y.outlet&&y.outlet!==yt&&(y.component=to),y}function ir(v){return v.outlet||yt}function no(v,_){const y=v.filter(D=>ir(D)===_);return y.push(...v.filter(D=>ir(D)!==_)),y}function xi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let _=v.parent;_;_=_.parent){const y=_.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Zi{constructor(_,y,D,x){this.routeReuseStrategy=_,this.futureState=y,this.currState=D,this.forwardEvent=x}activate(_){const y=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,D,_),Do(this.futureState.root),this.activateChildRoutes(y,D,_)}deactivateChildRoutes(_,y,D){const x=Ds(y);_.children.forEach(F=>{const z=F.value.outlet;this.deactivateRoutes(F,x[z],D),delete x[z]}),kn(x,(F,z)=>{this.deactivateRouteAndItsChildren(F,D)})}deactivateRoutes(_,y,D){const x=_.value,F=y?y.value:null;if(x===F)if(x.component){const z=D.getContext(x.outlet);z&&this.deactivateChildRoutes(_,y,z.children)}else this.deactivateChildRoutes(_,y,D);else F&&this.deactivateRouteAndItsChildren(y,D)}deactivateRouteAndItsChildren(_,y){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,y):this.deactivateRouteAndOutlet(_,y)}detachAndStoreRouteSubtree(_,y){const D=y.getContext(_.value.outlet),x=D&&_.value.component?D.children:y,F=Ds(_);for(const z of Object.keys(F))this.deactivateRouteAndItsChildren(F[z],x);if(D&&D.outlet){const z=D.outlet.detach(),X=D.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:z,route:_,contexts:X})}}deactivateRouteAndOutlet(_,y){const D=y.getContext(_.value.outlet),x=D&&_.value.component?D.children:y,F=Ds(_);for(const z of Object.keys(F))this.deactivateRouteAndItsChildren(F[z],x);D&&D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated(),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(_,y,D){const x=Ds(y);_.children.forEach(F=>{this.activateRoutes(F,x[F.value.outlet],D),this.forwardEvent(new Ho(F.value.snapshot))}),_.children.length&&this.forwardEvent(new Di(_.value.snapshot))}activateRoutes(_,y,D){const x=_.value,F=y?y.value:null;if(Do(x),x===F)if(x.component){const z=D.getOrCreateContext(x.outlet);this.activateChildRoutes(_,y,z.children)}else this.activateChildRoutes(_,y,D);else if(x.component){const z=D.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const X=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),z.children.onOutletReAttached(X.contexts),z.attachRef=X.componentRef,z.route=X.route.value,z.outlet&&z.outlet.attach(X.componentRef,X.route.value),Do(X.route.value),this.activateChildRoutes(_,null,z.children)}else{const X=xi(x.snapshot),Me=X?.get(C._Vd)??null;z.attachRef=null,z.route=x,z.resolver=Me,z.injector=X,z.outlet&&z.outlet.activateWith(x,z.injector),this.activateChildRoutes(_,null,z.children)}}else this.activateChildRoutes(_,null,D)}}class ro{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Un{constructor(_,y){this.component=_,this.route=y}}function Ko(v,_,y){const D=v._root;return so(D,_?_._root:null,y,[D.value])}function io(v,_){const y=Symbol(),D=_.get(v,y);return D===y?"function"!=typeof v||(0,C.Z0I)(v)?_.get(v):v:D}function so(v,_,y,D,x={canDeactivateChecks:[],canActivateChecks:[]}){const F=Ds(_);return v.children.forEach(z=>{(function oo(v,_,y,D,x={canDeactivateChecks:[],canActivateChecks:[]}){const F=v.value,z=_?_.value:null,X=y?y.getContext(v.value.outlet):null;if(z&&F.routeConfig===z.routeConfig){const Me=function He(v,_,y){if("function"==typeof y)return y(v,_);switch(y){case"pathParamsChange":return!dn(v.url,_.url);case"pathParamsOrQueryParamsChange":return!dn(v.url,_.url)||!jn(v.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!os(v,_)||!jn(v.queryParams,_.queryParams);default:return!os(v,_)}}(z,F,F.routeConfig.runGuardsAndResolvers);Me?x.canActivateChecks.push(new ro(D)):(F.data=z.data,F._resolvedData=z._resolvedData),so(v,_,F.component?X?X.children:null:y,D,x),Me&&X&&X.outlet&&X.outlet.isActivated&&x.canDeactivateChecks.push(new Un(X.outlet.component,z))}else z&&Xt(_,X,x),x.canActivateChecks.push(new ro(D)),so(v,null,F.component?X?X.children:null:y,D,x)})(z,F[z.value.outlet],y,D.concat([z.value]),x),delete F[z.value.outlet]}),kn(F,(z,X)=>Xt(z,y.getContext(X),x)),x}function Xt(v,_,y){const D=Ds(v),x=v.value;kn(D,(F,z)=>{Xt(F,x.component?_?_.children.getContext(z):null:_,y)}),y.canDeactivateChecks.push(new Un(x.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,x))}function Us(v){return"function"==typeof v}function us(v){return v instanceof pe||"EmptyError"===v?.name}const qo=Symbol("INITIAL_VALUE");function Ui(){return(0,pt.w)(v=>(0,ee.a)(v.map(_=>_.pipe((0,ze.q)(1),function ke(...v){const _=(0,pn.yG)(v);return(0,Ie.e)((y,D)=>{(_?(0,ve.z)(v,y,_):(0,ve.z)(v,y)).subscribe(D)})}(qo)))).pipe((0,nt.U)(_=>{for(const y of _)if(!0!==y){if(y===qo)return qo;if(!1===y||y instanceof ct)return y}return!0}),(0,Ke.h)(_=>_!==qo),(0,ze.q)(1)))}function ds(v){return(0,te.z)((0,Oe.b)(_=>{if(Wn(_))throw Li(0,_)}),(0,nt.U)(_=>!0===_))}const mi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ga(v,_,y,D,x){const F=$s(v,_,y);return F.matched?function pa(v,_,y,D){const x=_.canMatch;if(!x||0===x.length)return(0,K.of)(!0);const F=x.map(z=>{const X=io(z,v);return It(function Bs(v){return v&&Us(v.canMatch)}(X)?X.canMatch(_,y):v.runInContext(()=>X(_,y)))});return(0,K.of)(F).pipe(Ui(),ds())}(D=To(_,D),_,y).pipe((0,nt.U)(z=>!0===z?F:{...mi})):(0,K.of)(F)}function $s(v,_,y){if(""===_.path)return"full"===_.pathMatch&&(v.hasChildren()||y.length>0)?{...mi}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const x=(_.matcher||Rr)(y,v,_);if(!x)return{...mi};const F={};kn(x.posParams,(X,Me)=>{F[Me]=X.path});const z=x.consumed.length>0?{...F,...x.consumed[x.consumed.length-1].parameters}:F;return{matched:!0,consumedSegments:x.consumed,remainingSegments:y.slice(x.consumed.length),parameters:z,positionalParamSegments:x.posParams??{}}}function xo(v,_,y,D,x="corrected"){if(y.length>0&&function S(v,_,y){return y.some(D=>ie(v,_,D)&&ir(D)!==yt)}(v,y,D)){const z=new Ae(_,function N(v,_,y,D){const x={};x[yt]=D,D._sourceSegment=v,D._segmentIndexShift=_.length;for(const F of y)if(""===F.path&&ir(F)!==yt){const z=new Ae([],{});z._sourceSegment=v,z._segmentIndexShift=_.length,x[ir(F)]=z}return x}(v,_,D,new Ae(y,v.children)));return z._sourceSegment=v,z._segmentIndexShift=_.length,{segmentGroup:z,slicedSegments:[]}}if(0===y.length&&function B(v,_,y){return y.some(D=>ie(v,_,D))}(v,y,D)){const z=new Ae(v.segments,function b(v,_,y,D,x,F){const z={};for(const X of D)if(ie(v,y,X)&&!x[ir(X)]){const Me=new Ae([],{});Me._sourceSegment=v,Me._segmentIndexShift="legacy"===F?v.segments.length:_.length,z[ir(X)]=Me}return{...x,...z}}(v,_,y,D,v.children,x));return z._sourceSegment=v,z._segmentIndexShift=_.length,{segmentGroup:z,slicedSegments:y}}const F=new Ae(v.segments,v.children);return F._sourceSegment=v,F._segmentIndexShift=_.length,{segmentGroup:F,slicedSegments:y}}function ie(v,_,y){return(!(v.hasChildren()||_.length>0)||"full"!==y.pathMatch)&&""===y.path}function Se(v,_,y,D){return!!(ir(v)===D||D!==yt&&ie(_,y,v))&&("**"===v.path||$s(_,v,y).matched)}function je(v,_,y){return 0===_.length&&!v.children[y]}const vt=!1;class $t{constructor(_){this.segmentGroup=_||null}}class gn{constructor(_){this.urlTree=_}}function Ft(v){return(0,de._)(new $t(v))}function mn(v){return(0,de._)(new gn(v))}class lo{constructor(_,y,D,x,F){this.injector=_,this.configLoader=y,this.urlSerializer=D,this.urlTree=x,this.config=F,this.allowRedirects=!0}apply(){const _=xo(this.urlTree.root,[],[],this.config).segmentGroup,y=new Ae(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,y,yt).pipe((0,nt.U)(F=>this.createUrlTree(bt(F),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nn(F=>{if(F instanceof gn)return this.allowRedirects=!1,this.match(F.urlTree);throw F instanceof $t?this.noMatchError(F):F}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,yt).pipe((0,nt.U)(x=>this.createUrlTree(bt(x),_.queryParams,_.fragment))).pipe(nn(x=>{throw x instanceof $t?this.noMatchError(x):x}))}noMatchError(_){return new C.vHH(4002,vt)}createUrlTree(_,y,D){const x=it(_);return new ct(x,y,D)}expandSegmentGroup(_,y,D,x){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(_,y,D).pipe((0,nt.U)(F=>new Ae([],F))):this.expandSegment(_,D,y,D.segments,x,!0)}expandChildren(_,y,D){const x=[];for(const F of Object.keys(D.children))"primary"===F?x.unshift(F):x.push(F);return(0,j.D)(x).pipe(Ze(F=>{const z=D.children[F],X=no(y,F);return this.expandSegmentGroup(_,X,z,F).pipe((0,nt.U)(Me=>({segment:Me,outlet:F})))}),Ut((F,z)=>(F[z.outlet]=z.segment,F),{}),yn())}expandSegment(_,y,D,x,F,z){return(0,j.D)(D).pipe(Ze(X=>this.expandSegmentAgainstRoute(_,y,D,X,x,F,z).pipe(nn(lt=>{if(lt instanceof $t)return(0,K.of)(null);throw lt}))),we(X=>!!X),nn((X,Me)=>{if(us(X))return je(y,x,F)?(0,K.of)(new Ae([],{})):Ft(y);throw X}))}expandSegmentAgainstRoute(_,y,D,x,F,z,X){return Se(x,y,F,z)?void 0===x.redirectTo?this.matchSegmentAgainstRoute(_,y,x,F,z):X&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,y,D,x,F,z):Ft(y):Ft(y)}expandSegmentAgainstRouteUsingRedirect(_,y,D,x,F,z){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,D,x,z):this.expandRegularSegmentAgainstRouteUsingRedirect(_,y,D,x,F,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,y,D,x){const F=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?mn(F):this.lineralizeSegments(D,F).pipe((0,Xe.z)(z=>{const X=new Ae(z,{});return this.expandSegment(_,X,y,z,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,y,D,x,F,z){const{matched:X,consumedSegments:Me,remainingSegments:lt,positionalParamSegments:Zt}=$s(y,x,F);if(!X)return Ft(y);const wt=this.applyRedirectCommands(Me,x.redirectTo,Zt);return x.redirectTo.startsWith("/")?mn(wt):this.lineralizeSegments(x,wt).pipe((0,Xe.z)(Bn=>this.expandSegment(_,y,D,Bn.concat(lt),z,!1)))}matchSegmentAgainstRoute(_,y,D,x,F){return"**"===D.path?(_=To(D,_),D.loadChildren?(D._loadedRoutes?(0,K.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(_,D)).pipe((0,nt.U)(X=>(D._loadedRoutes=X.routes,D._loadedInjector=X.injector,new Ae(x,{})))):(0,K.of)(new Ae(x,{}))):ga(y,D,x,_).pipe((0,pt.w)(({matched:z,consumedSegments:X,remainingSegments:Me})=>z?this.getChildConfig(_=D._injector??_,D,x).pipe((0,Xe.z)(Zt=>{const wt=Zt.injector??_,Bn=Zt.routes,{segmentGroup:Ji,slicedSegments:ms}=xo(y,X,Me,Bn),Po=new Ae(Ji.segments,Ji.children);if(0===ms.length&&Po.hasChildren())return this.expandChildren(wt,Bn,Po).pipe((0,nt.U)(Ca=>new Ae(X,Ca)));if(0===Bn.length&&0===ms.length)return(0,K.of)(new Ae(X,{}));const Hr=ir(D)===F;return this.expandSegment(wt,Po,Bn,ms,Hr?yt:F,!0).pipe((0,nt.U)(Gs=>new Ae(X.concat(Gs.segments),Gs.children)))})):Ft(y)))}getChildConfig(_,y,D){return y.children?(0,K.of)({routes:y.children,injector:_}):y.loadChildren?void 0!==y._loadedRoutes?(0,K.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function fa(v,_,y,D){const x=_.canLoad;if(void 0===x||0===x.length)return(0,K.of)(!0);const F=x.map(z=>{const X=io(z,v);return It(function Jn(v){return v&&Us(v.canLoad)}(X)?X.canLoad(_,y):v.runInContext(()=>X(_,y)))});return(0,K.of)(F).pipe(Ui(),ds())}(_,y,D).pipe((0,Xe.z)(x=>x?this.configLoader.loadChildren(_,y).pipe((0,Oe.b)(F=>{y._loadedRoutes=F.routes,y._loadedInjector=F.injector})):function zn(v){return(0,de._)(Os(vt,3))}())):(0,K.of)({routes:[],injector:_})}lineralizeSegments(_,y){let D=[],x=y.root;for(;;){if(D=D.concat(x.segments),0===x.numberOfChildren)return(0,K.of)(D);if(x.numberOfChildren>1||!x.children[yt])return(0,de._)(new C.vHH(4e3,vt));x=x.children[yt]}}applyRedirectCommands(_,y,D){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),_,D)}applyRedirectCreateUrlTree(_,y,D,x){const F=this.createSegmentGroup(_,y.root,D,x);return new ct(F,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(_,y){const D={};return kn(_,(x,F)=>{if("string"==typeof x&&x.startsWith(":")){const X=x.substring(1);D[F]=y[X]}else D[F]=x}),D}createSegmentGroup(_,y,D,x){const F=this.createSegments(_,y.segments,D,x);let z={};return kn(y.children,(X,Me)=>{z[Me]=this.createSegmentGroup(_,X,D,x)}),new Ae(F,z)}createSegments(_,y,D,x){return y.map(F=>F.path.startsWith(":")?this.findPosParam(_,F,x):this.findOrReturn(F,D))}findPosParam(_,y,D){const x=D[y.path.substring(1)];if(!x)throw new C.vHH(4001,vt);return x}findOrReturn(_,y){let D=0;for(const x of y){if(x.path===_.path)return y.splice(D),x;D++}return _}}class Br{}class Je{constructor(_,y,D,x,F,z,X,Me){this.injector=_,this.rootComponentType=y,this.config=D,this.urlTree=x,this.url=F,this.paramsInheritanceStrategy=z,this.relativeLinkResolution=X,this.urlSerializer=Me}recognize(){const _=xo(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,yt).pipe((0,nt.U)(y=>{if(null===y)return null;const D=new Fn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yt,this.rootComponentType,null,this.urlTree.root,-1,{}),x=new ss(D,y),F=new Wo(this.url,x);return this.inheritParamsAndData(F._root),F}))}inheritParamsAndData(_){const y=_.value,D=Ts(y,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),_.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(_,y,D,x){return 0===D.segments.length&&D.hasChildren()?this.processChildren(_,y,D):this.processSegment(_,y,D,D.segments,x)}processChildren(_,y,D){return(0,j.D)(Object.keys(D.children)).pipe(Ze(x=>{const F=D.children[x],z=no(y,x);return this.processSegmentGroup(_,z,F,x)}),Ut((x,F)=>x&&F?(x.push(...F),x):null),function Kt(v,_=!1){return(0,Ie.e)((y,D)=>{let x=0;y.subscribe((0,Mt.x)(D,F=>{const z=v(F,x++);(z||_)&&D.next(F),!z&&D.complete()}))})}(x=>null!==x),Ne(null),yn(),(0,nt.U)(x=>{if(null===x)return null;const F=Dt(x);return function Cr(v){v.sort((_,y)=>_.value.outlet===yt?-1:y.value.outlet===yt?1:_.value.outlet.localeCompare(y.value.outlet))}(F),F}))}processSegment(_,y,D,x,F){return(0,j.D)(y).pipe(Ze(z=>this.processSegmentAgainstRoute(z._injector??_,z,D,x,F)),we(z=>!!z),nn(z=>{if(us(z))return je(D,x,F)?(0,K.of)([]):(0,K.of)(null);throw z}))}processSegmentAgainstRoute(_,y,D,x,F){if(y.redirectTo||!Se(y,D,x,F))return(0,K.of)(null);let z;if("**"===y.path){const X=x.length>0?qn(x).parameters:{},Me=ht(D)+x.length,lt=new Fn(x,X,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ye(y),ir(y),y.component??y._loadedComponent??null,y,ya(D),Me,Sr(y),Me);z=(0,K.of)({snapshot:lt,consumedSegments:[],remainingSegments:[]})}else z=ga(D,y,x,_).pipe((0,nt.U)(({matched:X,consumedSegments:Me,remainingSegments:lt,parameters:Zt})=>{if(!X)return null;const wt=ht(D)+Me.length;return{snapshot:new Fn(Me,Zt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ye(y),ir(y),y.component??y._loadedComponent??null,y,ya(D),wt,Sr(y),wt),consumedSegments:Me,remainingSegments:lt}}));return z.pipe((0,pt.w)(X=>{if(null===X)return(0,K.of)(null);const{snapshot:Me,consumedSegments:lt,remainingSegments:Zt}=X;_=y._injector??_;const wt=y._loadedInjector??_,Bn=function Vn(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(y),{segmentGroup:Ji,slicedSegments:ms}=xo(D,lt,Zt,Bn.filter(Hr=>void 0===Hr.redirectTo),this.relativeLinkResolution);if(0===ms.length&&Ji.hasChildren())return this.processChildren(wt,Bn,Ji).pipe((0,nt.U)(Hr=>null===Hr?null:[new ss(Me,Hr)]));if(0===Bn.length&&0===ms.length)return(0,K.of)([new ss(Me,[])]);const Po=ir(y)===F;return this.processSegment(wt,Bn,Ji,ms,Po?yt:F).pipe((0,nt.U)(Hr=>null===Hr?null:[new ss(Me,Hr)]))}))}}function Mi(v){const _=v.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function Dt(v){const _=[],y=new Set;for(const D of v){if(!Mi(D)){_.push(D);continue}const x=_.find(F=>D.value.routeConfig===F.value.routeConfig);void 0!==x?(x.children.push(...D.children),y.add(x)):_.push(D)}for(const D of y){const x=Dt(D.children);_.push(new ss(D.value,x))}return _.filter(D=>!y.has(D))}function ya(v){let _=v;for(;_._sourceSegment;)_=_._sourceSegment;return _}function ht(v){let _=v,y=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,y+=_._segmentIndexShift??0;return y-1}function Ye(v){return v.data||{}}function Sr(v){return v.resolve||{}}function cu(v){return"string"==typeof v.title||null===v.title}function js(v){return(0,pt.w)(_=>{const y=v(_);return y?(0,j.D)(y).pipe((0,nt.U)(()=>_)):(0,K.of)(_)})}let ul=(()=>{class v{buildTitle(y){let D,x=y.root;for(;void 0!==x;)D=this.getResolvedTitleForRoute(x)??D,x=x.children.find(F=>F.outlet===yt);return D}getResolvedTitleForRoute(y){return y.data[cn]}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=C.Yz7({token:v,factory:function(){return(0,C.f3M)(ho)},providedIn:"root"}),v})(),ho=(()=>{class v extends ul{constructor(y){super(),this.title=y}updateTitle(y){const D=this.buildTitle(y);void 0!==D&&this.title.setTitle(D)}}return v.\u0275fac=function(y){return new(y||v)(C.LFG(Kn.Dx))},v.\u0275prov=C.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class Qt{}class lu extends class Hs{shouldDetach(_){return!1}store(_,y){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,y){return _.routeConfig===y.routeConfig}}{}const Lt=new C.OlP("",{providedIn:"root",factory:()=>({})}),Sn=new C.OlP("ROUTES");let hs=(()=>{class v{constructor(y,D){this.injector=y,this.compiler=D,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,K.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const D=It(y.loadComponent()).pipe((0,Oe.b)(F=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=F}),cr(()=>{this.componentLoaders.delete(y)})),x=new ut.c(D,()=>new ae.x).pipe((0,Nn.x)());return this.componentLoaders.set(y,x),x}loadChildren(y,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,K.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const F=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,nt.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(D);let Me,lt,Zt=!1;Array.isArray(X)?lt=X:(Me=X.create(y).injector,lt=_n(Me.get(Sn,[],C.XFs.Self|C.XFs.Optional)));return{routes:lt.map(Fs),injector:Me}}),cr(()=>{this.childrenLoaders.delete(D)})),z=new ut.c(F,()=>new ae.x).pipe((0,Nn.x)());return this.childrenLoaders.set(D,z),z}loadModuleFactoryOrRoutes(y){return It(y()).pipe((0,Xe.z)(D=>D instanceof C.YKP||Array.isArray(D)?(0,K.of)(D):(0,j.D)(this.compiler.compileModuleAsync(D))))}}return v.\u0275fac=function(y){return new(y||v)(C.LFG(C.zs3),C.LFG(C.Sil))},v.\u0275prov=C.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class Ir{}class ft{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,y){return _}}function fo(v){throw v}function xs(v,_,y){return _.parse("/")}const _a={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},po={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Mo(){const v=(0,C.f3M)(dt),_=(0,C.f3M)(Yr),y=(0,C.f3M)(We.Ye),D=(0,C.f3M)(C.zs3),x=(0,C.f3M)(C.Sil),F=(0,C.f3M)(Sn,{optional:!0})??[],z=(0,C.f3M)(Lt,{optional:!0})??{},X=(0,C.f3M)(ho),Me=(0,C.f3M)(ul,{optional:!0}),lt=(0,C.f3M)(Ir,{optional:!0}),Zt=(0,C.f3M)(Qt,{optional:!0}),wt=new Ar(null,v,_,y,D,x,_n(F));return lt&&(wt.urlHandlingStrategy=lt),Zt&&(wt.routeReuseStrategy=Zt),wt.titleStrategy=Me??X,function Yo(v,_){v.errorHandler&&(_.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(_.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(_.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(_.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(_.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(_.canceledNavigationResolution=v.canceledNavigationResolution)}(z,wt),wt}let Ar=(()=>{class v{constructor(y,D,x,F,z,X,Me){this.rootComponentType=y,this.urlSerializer=D,this.rootContexts=x,this.location=F,this.config=Me,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ae.x,this.errorHandler=fo,this.malformedUriErrorHandler=xs,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,K.of)(void 0),this.urlHandlingStrategy=new ft,this.routeReuseStrategy=new lu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=z.get(hs),this.configLoader.onLoadEndListener=Bn=>this.triggerEvent(new jo(Bn)),this.configLoader.onLoadStartListener=Bn=>this.triggerEvent(new Oi(Bn)),this.ngModule=z.get(C.h0i),this.console=z.get(C.c2e);const wt=z.get(C.R0b);this.isNgZoneEnabled=wt instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(Me),this.currentUrlTree=function Tr(){return new ct(new Ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Js(this.currentUrlTree,this.rootComponentType),this.transitions=new Z({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const D=this.events;return y.pipe((0,Ke.h)(x=>0!==x.id),(0,nt.U)(x=>({...x,extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),(0,pt.w)(x=>{let F=!1,z=!1;return(0,K.of)(x).pipe((0,Oe.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.rawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,pt.w)(X=>{const Me=this.browserUrlTree.toString(),lt=!this.navigated||X.extractedUrl.toString()!==Me||Me!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||lt)&&this.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return xr(X.source)&&(this.browserUrlTree=X.extractedUrl),(0,K.of)(X).pipe((0,pt.w)(wt=>{const Bn=this.transitions.getValue();return D.next(new dr(wt.id,this.serializeUrl(wt.extractedUrl),wt.source,wt.restoredState)),Bn!==this.transitions.getValue()?Be.E:Promise.resolve(wt)}),function er(v,_,y,D){return(0,pt.w)(x=>function kr(v,_,y,D,x){return new lo(v,_,y,D,x).apply()}(v,_,y,x.extractedUrl,D).pipe((0,nt.U)(F=>({...x,urlAfterRedirects:F}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Oe.b)(wt=>{this.currentNavigation={...this.currentNavigation,finalUrl:wt.urlAfterRedirects},x.urlAfterRedirects=wt.urlAfterRedirects}),function al(v,_,y,D,x,F){return(0,Xe.z)(z=>function ma(v,_,y,D,x,F,z="emptyOnly",X="legacy"){return new Je(v,_,y,D,x,z,X,F).recognize().pipe((0,pt.w)(Me=>null===Me?function As(v){return new qe.y(_=>_.error(v))}(new Br):(0,K.of)(Me)))}(v,_,y,z.urlAfterRedirects,D.serialize(z.urlAfterRedirects),D,x,F).pipe((0,nt.U)(X=>({...z,targetSnapshot:X}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Oe.b)(wt=>{if(x.targetSnapshot=wt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!wt.extras.skipLocationChange){const Ji=this.urlHandlingStrategy.merge(wt.urlAfterRedirects,wt.rawUrl);this.setBrowserUrl(Ji,wt)}this.browserUrlTree=wt.urlAfterRedirects}const Bn=new Eo(wt.id,this.serializeUrl(wt.extractedUrl),this.serializeUrl(wt.urlAfterRedirects),wt.targetSnapshot);D.next(Bn)}));if(lt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Bn,extractedUrl:Ji,source:ms,restoredState:Po,extras:Hr}=X,Ri=new dr(Bn,this.serializeUrl(Ji),ms,Po);D.next(Ri);const Gs=Js(Ji,this.rootComponentType).snapshot;return x={...X,targetSnapshot:Gs,urlAfterRedirects:Ji,extras:{...Hr,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(x)}return this.rawUrlTree=X.rawUrl,X.resolve(null),Be.E}),(0,Oe.b)(X=>{const Me=new Xs(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);this.triggerEvent(Me)}),(0,nt.U)(X=>x={...X,guards:Ko(X.targetSnapshot,X.currentSnapshot,this.rootContexts)}),function ii(v,_){return(0,Xe.z)(y=>{const{targetSnapshot:D,currentSnapshot:x,guards:{canActivateChecks:F,canDeactivateChecks:z}}=y;return 0===z.length&&0===F.length?(0,K.of)({...y,guardsResult:!0}):function Ss(v,_,y,D){return(0,j.D)(v).pipe((0,Xe.z)(x=>function Ao(v,_,y,D,x){const F=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!F||0===F.length)return(0,K.of)(!0);const z=F.map(X=>{const Me=xi(_)??x,lt=io(X,Me);return It(function Kr(v){return v&&Us(v.canDeactivate)}(lt)?lt.canDeactivate(v,_,y,D):Me.runInContext(()=>lt(v,_,y,D))).pipe(we())});return(0,K.of)(z).pipe(Ui())}(x.component,x.route,y,_,D)),we(x=>!0!==x,!0))}(z,D,x,v).pipe((0,Xe.z)(X=>X&&function Vs(v){return"boolean"==typeof v}(X)?function cs(v,_,y,D){return(0,j.D)(_).pipe(Ze(x=>(0,ve.z)(function ls(v,_){return null!==v&&_&&_(new ua(v)),(0,K.of)(!0)}(x.route.parent,D),function So(v,_){return null!==v&&_&&_(new ca(v)),(0,K.of)(!0)}(x.route,D),function Zo(v,_,y){const D=_[_.length-1],F=_.slice(0,_.length-1).reverse().map(z=>function ha(v){const _=v.routeConfig?v.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:v,guards:_}:null}(z)).filter(z=>null!==z).map(z=>(0,H.P)(()=>{const X=z.guards.map(Me=>{const lt=xi(z.node)??y,Zt=io(Me,lt);return It(function uo(v){return v&&Us(v.canActivateChild)}(Zt)?Zt.canActivateChild(D,v):lt.runInContext(()=>Zt(D,v))).pipe(we())});return(0,K.of)(X).pipe(Ui())}));return(0,K.of)(F).pipe(Ui())}(v,x.path,y),function co(v,_,y){const D=_.routeConfig?_.routeConfig.canActivate:null;if(!D||0===D.length)return(0,K.of)(!0);const x=D.map(F=>(0,H.P)(()=>{const z=xi(_)??y,X=io(F,z);return It(function ao(v){return v&&Us(v.canActivate)}(X)?X.canActivate(_,v):z.runInContext(()=>X(_,v))).pipe(we())}));return(0,K.of)(x).pipe(Ui())}(v,x.route,y))),we(x=>!0!==x,!0))}(D,F,v,_):(0,K.of)(X)),(0,nt.U)(X=>({...y,guardsResult:X})))})}(this.ngModule.injector,X=>this.triggerEvent(X)),(0,Oe.b)(X=>{if(x.guardsResult=X.guardsResult,Wn(X.guardsResult))throw Li(0,X.guardsResult);const Me=new is(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.triggerEvent(Me)}),(0,Ke.h)(X=>!!X.guardsResult||(this.restoreHistory(X),this.cancelNavigationTransition(X,"",3),!1)),js(X=>{if(X.guards.canActivateChecks.length)return(0,K.of)(X).pipe((0,Oe.b)(Me=>{const lt=new gi(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(lt)}),(0,pt.w)(Me=>{let lt=!1;return(0,K.of)(Me).pipe(function va(v,_){return(0,Xe.z)(y=>{const{targetSnapshot:D,guards:{canActivateChecks:x}}=y;if(!x.length)return(0,K.of)(y);let F=0;return(0,j.D)(x).pipe(Ze(z=>function Ic(v,_,y,D){const x=v.routeConfig,F=v._resolve;return void 0!==x?.title&&!cu(x)&&(F[cn]=x.title),function Vi(v,_,y,D){const x=function uu(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===x.length)return(0,K.of)({});const F={};return(0,j.D)(x).pipe((0,Xe.z)(z=>function wc(v,_,y,D){const x=xi(_)??D,F=io(v,x);return It(F.resolve?F.resolve(_,y):x.runInContext(()=>F(_,y)))}(v[z],_,y,D).pipe(we(),(0,Oe.b)(X=>{F[z]=X}))),An(1),(0,Bt.h)(F),nn(z=>us(z)?Be.E:(0,de._)(z)))}(F,v,_,D).pipe((0,nt.U)(z=>(v._resolvedData=z,v.data=Ts(v,y).resolve,x&&cu(x)&&(v.data[cn]=x.title),null)))}(z.route,D,v,_)),(0,Oe.b)(()=>F++),An(1),(0,Xe.z)(z=>F===x.length?(0,K.of)(y):Be.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Oe.b)({next:()=>lt=!0,complete:()=>{lt||(this.restoreHistory(Me),this.cancelNavigationTransition(Me,"",2))}}))}),(0,Oe.b)(Me=>{const lt=new aa(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(lt)}))}),js(X=>{const Me=lt=>{const Zt=[];lt.routeConfig?.loadComponent&&!lt.routeConfig._loadedComponent&&Zt.push(this.configLoader.loadComponent(lt.routeConfig).pipe((0,Oe.b)(wt=>{lt.component=wt}),(0,nt.U)(()=>{})));for(const wt of lt.children)Zt.push(...Me(wt));return Zt};return(0,ee.a)(Me(X.targetSnapshot.root)).pipe(Ne(),(0,ze.q)(1))}),js(()=>this.afterPreactivation()),(0,nt.U)(X=>{const Me=function Nu(v,_,y){const D=la(v,_._root,y?y._root:void 0);return new au(D,_)}(this.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return x={...X,targetRouterState:Me}}),(0,Oe.b)(X=>{this.currentUrlTree=X.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),this.routerState=X.targetRouterState,"deferred"===this.urlUpdateStrategy&&(X.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,X),this.browserUrlTree=X.urlAfterRedirects)}),((v,_,y)=>(0,nt.U)(D=>(new Zi(_,D.targetRouterState,D.currentRouterState,y).activate(v),D)))(this.rootContexts,this.routeReuseStrategy,X=>this.triggerEvent(X)),(0,Oe.b)({next(){F=!0},complete(){F=!0}}),cr(()=>{F||z||this.cancelNavigationTransition(x,"",1),this.currentNavigation?.id===x.id&&(this.currentNavigation=null)}),nn(X=>{if(z=!0,ri(X)){Ba(X)||(this.navigated=!0,this.restoreHistory(x,!0));const Me=new gr(x.id,this.serializeUrl(x.extractedUrl),X.message,X.cancellationCode);if(D.next(Me),Ba(X)){const lt=this.urlHandlingStrategy.merge(X.url,this.rawUrlTree),Zt={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xr(x.source)};this.scheduleNavigation(lt,"imperative",null,Zt,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{this.restoreHistory(x,!0);const Me=new Zr(x.id,this.serializeUrl(x.extractedUrl),X,x.targetSnapshot??void 0);D.next(Me);try{x.resolve(this.errorHandler(X))}catch(lt){x.reject(lt)}}return Be.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const D="popstate"===y.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{const x={replaceUrl:!0},F=y.state?.navigationId?y.state:null;if(F){const X={...F};delete X.navigationId,delete X.\u0275routerPageId,0!==Object.keys(X).length&&(x.state=X)}const z=this.parseUrl(y.url);this.scheduleNavigation(z,D,F,x)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(Fs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,D={}){const{relativeTo:x,queryParams:F,fragment:z,queryParamsHandling:X,preserveFragment:Me}=D,lt=x||this.routerState.root,Zt=Me?this.currentUrlTree.fragment:z;let wt=null;switch(X){case"merge":wt={...this.currentUrlTree.queryParams,...F};break;case"preserve":wt=this.currentUrlTree.queryParams;break;default:wt=F||null}return null!==wt&&(wt=this.removeEmptyProps(wt)),Ki(lt,this.currentUrlTree,y,wt,Zt??null)}navigateByUrl(y,D={skipLocationChange:!1}){const x=Wn(y)?y:this.parseUrl(y),F=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation(F,"imperative",null,D)}navigate(y,D={skipLocationChange:!1}){return function Qo(v){for(let _=0;_<v.length;_++){if(null==v[_])throw new C.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,D),D)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let D;try{D=this.urlSerializer.parse(y)}catch(x){D=this.malformedUriErrorHandler(x,this.urlSerializer,y)}return D}isActive(y,D){let x;if(x=!0===D?{..._a}:!1===D?{...po}:D,Wn(y))return Rt(this.currentUrlTree,y,x);const F=this.parseUrl(y);return Rt(this.currentUrlTree,F,x)}removeEmptyProps(y){return Object.keys(y).reduce((D,x)=>{const F=y[x];return null!=F&&(D[x]=F),D},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new rs(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,D,x,F,z){if(this.disposed)return Promise.resolve(!1);let X,Me,lt;z?(X=z.resolve,Me=z.reject,lt=z.promise):lt=new Promise((Bn,Ji)=>{X=Bn,Me=Ji});const Zt=++this.navigationId;let wt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(x=this.location.getState()),wt=x&&x.\u0275routerPageId?x.\u0275routerPageId:F.replaceUrl||F.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):wt=0,this.setTransition({id:Zt,targetPageId:wt,source:D,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:F,resolve:X,reject:Me,promise:lt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),lt.catch(Bn=>Promise.reject(Bn))}setBrowserUrl(y,D){const x=this.urlSerializer.serialize(y),F={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.isCurrentPathEqualTo(x)||D.extras.replaceUrl?this.location.replaceState(x,"",F):this.location.go(x,"",F)}restoreHistory(y,D=!1){if("computed"===this.canceledNavigationResolution){const x=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===x?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===x&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(x)}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,D,x){const F=new gr(y.id,this.serializeUrl(y.extractedUrl),D,x);this.triggerEvent(F),y.resolve(!1)}generateNgRouterState(y,D){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:D}:{navigationId:y}}}return v.\u0275fac=function(y){C.$Z()},v.\u0275prov=C.Yz7({token:v,factory:function(){return Mo()},providedIn:"root"}),v})();function xr(v){return"imperative"!==v}let go=(()=>{class v{constructor(y,D,x){this.router=y,this.route=D,this.locationStrategy=x,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ae.x,this.subscription=y.events.subscribe(F=>{F instanceof rs&&this.updateTargetUrlAndHref()})}set preserveFragment(y){this._preserveFragment=(0,C.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,C.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,C.D6c)(y)}get replaceUrl(){return this._replaceUrl}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,D,x,F,z){return!!(0!==y||D||x||F||z||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(y){return new(y||v)(C.Y36(Ar),C.Y36(ni),C.Y36(We.S$))},v.\u0275dir=C.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,D){1&y&&C.NdJ("click",function(F){return D.onClick(F.button,F.ctrlKey,F.shiftKey,F.altKey,F.metaKey)}),2&y&&C.uIk("target",D.target)("href",D.href,C.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[C.TTD]}),v})();class Ia{}let Qi=(()=>{class v{constructor(y,D,x,F,z){this.router=y,this.injector=x,this.preloadingStrategy=F,this.loader=z}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ke.h)(y=>y instanceof rs),Ze(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,D){const x=[];for(const F of D){F.providers&&!F._injector&&(F._injector=(0,C.MMx)(F.providers,y,`Route: ${F.path}`));const z=F._injector??y,X=F._loadedInjector??z;F.loadChildren&&!F._loadedRoutes&&void 0===F.canLoad||F.loadComponent&&!F._loadedComponent?x.push(this.preloadConfig(z,F)):(F.children||F._loadedRoutes)&&x.push(this.processRoutes(X,F.children??F._loadedRoutes))}return(0,j.D)(x).pipe((0,fi.J)())}preloadConfig(y,D){return this.preloadingStrategy.preload(D,()=>{let x;x=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(y,D):(0,K.of)(null);const F=x.pipe((0,Xe.z)(z=>null===z?(0,K.of)(void 0):(D._loadedRoutes=z.routes,D._loadedInjector=z.injector,this.processRoutes(z.injector??y,z.routes))));if(D.loadComponent&&!D._loadedComponent){const z=this.loader.loadComponent(D);return(0,j.D)([F,z]).pipe((0,fi.J)())}return F})}}return v.\u0275fac=function(y){return new(y||v)(C.LFG(Ar),C.LFG(C.Sil),C.LFG(C.lqb),C.LFG(Ia),C.LFG(hs))},v.\u0275prov=C.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const wa=new C.OlP("");let ps=(()=>{class v{constructor(y,D,x={}){this.router=y,this.viewportScroller=D,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof dr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof rs&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Ti&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,D){this.router.triggerEvent(new Ti(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(y){C.$Z()},v.\u0275prov=C.Yz7({token:v,factory:v.\u0275fac}),v})();function gs(v,_){return{\u0275kind:v,\u0275providers:_}}function Jo(v){return[{provide:Sn,multi:!0,useValue:v}]}function Ha(){const v=(0,C.f3M)(C.zs3);return _=>{const y=v.get(C.z2F);if(_!==y.components[0])return;const D=v.get(Ar),x=v.get($i);1===v.get(Zn)&&D.initialNavigation(),v.get(Dc,null,C.XFs.Optional)?.setUpPreloading(),v.get(wa,null,C.XFs.Optional)?.init(),D.resetRootComponentType(y.componentTypes[0]),x.closed||(x.next(),x.unsubscribe())}}const $i=new C.OlP("",{factory:()=>new ae.x}),Zn=new C.OlP("",{providedIn:"root",factory:()=>1});const Dc=new C.OlP("");function hu(v){return gs(0,[{provide:Dc,useExisting:Qi},{provide:Ia,useExisting:v}])}const qr=new C.OlP("ROUTER_FORROOT_GUARD"),cl=[We.Ye,{provide:dt,useClass:Fe},{provide:Ar,useFactory:Mo},Yr,{provide:ni,useFactory:function wr(v){return v.routerState.root},deps:[Ar]},hs];function sr(){return new C.PXZ("Router",Ar)}let ar=(()=>{class v{constructor(y){}static forRoot(y,D){return{ngModule:v,providers:[cl,[],Jo(y),{provide:qr,useFactory:jr,deps:[[Ar,new C.FiY,new C.tp0]]},{provide:Lt,useValue:D||{}},D?.useHash?{provide:We.S$,useClass:We.Do}:{provide:We.S$,useClass:We.b0},{provide:wa,useFactory:()=>{const v=(0,C.f3M)(Ar),_=(0,C.f3M)(We.EM),y=(0,C.f3M)(Lt);return y.scrollOffset&&_.setOffset(y.scrollOffset),new ps(v,_,y)}},D?.preloadingStrategy?hu(D.preloadingStrategy).\u0275providers:[],{provide:C.PXZ,multi:!0,useFactory:sr},D?.initialNavigation?yi(D):[],[{provide:Ro,useFactory:Ha},{provide:C.tb,multi:!0,useExisting:Ro}]]}}static forChild(y){return{ngModule:v,providers:[Jo(y)]}}}return v.\u0275fac=function(y){return new(y||v)(C.LFG(qr,8))},v.\u0275mod=C.oAB({type:v}),v.\u0275inj=C.cJS({imports:[to]}),v})();function jr(v){return"guarded"}function yi(v){return["disabled"===v.initialNavigation?gs(3,[{provide:C.ip1,multi:!0,useFactory:()=>{const _=(0,C.f3M)(Ar);return()=>{_.setUpLocationChangeListener()}}},{provide:Zn,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?gs(2,[{provide:Zn,useValue:0},{provide:C.ip1,multi:!0,deps:[C.zs3],useFactory:_=>{const y=_.get(We.V_,Promise.resolve());let D=!1;return()=>y.then(()=>new Promise(F=>{const z=_.get(Ar),X=_.get($i);(function x(F){_.get(Ar).events.pipe((0,Ke.h)(X=>X instanceof rs||X instanceof gr||X instanceof Zr),(0,nt.U)(X=>X instanceof rs||X instanceof gr&&(0===X.code||1===X.code)&&null),(0,Ke.h)(X=>null!==X),(0,ze.q)(1)).subscribe(()=>{F()})})(()=>{F(!0),D=!0}),z.afterPreactivation=()=>(F(!0),D||X.closed?(0,K.of)(void 0):X),z.initialNavigation()}))}}]).\u0275providers:[]]}const Ro=new C.OlP("")},9681:(_t,Re,L)=>{L.d(Re,{C6:()=>jn,Jn:()=>zr,KN:()=>qn,Mq:()=>lr,Xd:()=>cr,ZF:()=>Rr,qX:()=>Nn});var C=L(5861),j=L(4859),K=L(1877),ae=L(2090),Z=L(8766);class ce{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function pe(dt){return"VERSION"===dt.getComponent()?.type}(st)){const mt=st.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(st=>st).join(" ")}}const ee="@firebase/app",H=new K.Yd("@firebase/app"),Tn="[DEFAULT]",Ut={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},An=new Map,yn=new Map;function Kt(dt,Fe){try{dt.container.addComponent(Fe)}catch(st){H.debug(`Component ${Fe.name} failed to register with FirebaseApp ${dt.name}`,st)}}function cr(dt){const Fe=dt.name;if(yn.has(Fe))return H.debug(`There were multiple attempts to register component ${Fe}.`),!1;yn.set(Fe,dt);for(const st of An.values())Kt(st,dt);return!0}function Nn(dt,Fe){const st=dt.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),dt.container.getProvider(Fe)}const cn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ei{constructor(Fe,st,mt){this._isDeleted=!1,this._options=Object.assign({},Fe),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Fe){this._isDeleted=Fe}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}const zr="9.15.0";function Rr(dt,Fe={}){let st=dt;"object"!=typeof Fe&&(Fe={name:Fe});const mt=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},Fe),Yt=mt.name;if("string"!=typeof Yt||!Yt)throw cn.create("bad-app-name",{appName:String(Yt)});if(st||(st=(0,ae.aH)()),!st)throw cn.create("no-options");const an=An.get(Yt);if(an){if((0,ae.vZ)(st,an.options)&&(0,ae.vZ)(mt,an.config))return an;throw cn.create("duplicate-app",{appName:Yt})}const re=new j.H0(Yt);for(const ue of yn.values())re.addComponent(ue);const J=new ei(st,mt,re);return An.set(Yt,J),J}function lr(dt=Tn){const Fe=An.get(dt);if(!Fe&&dt===Tn)return Rr();if(!Fe)throw cn.create("no-app",{appName:dt});return Fe}function jn(){return Array.from(An.values())}function qn(dt,Fe,st){var mt;let Yt=null!==(mt=Ut[dt])&&void 0!==mt?mt:dt;st&&(Yt+=`-${st}`);const an=Yt.match(/\s|\//),re=Fe.match(/\s|\//);if(an||re){const J=[`Unable to register library "${Yt}" with version "${Fe}":`];return an&&J.push(`library name "${Yt}" contains illegal characters (whitespace or "/")`),an&&re&&J.push("and"),re&&J.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void H.warn(J.join(" "))}cr(new j.wA(`${Yt}-version`,()=>({library:Yt,version:Fe}),"VERSION"))}const Tr="firebase-heartbeat-store";let Hn=null;function ln(){return Hn||(Hn=(0,Z.X3)("firebase-heartbeat-database",1,{upgrade:(dt,Fe)=>{0===Fe&&dt.createObjectStore(Tr)}}).catch(dt=>{throw cn.create("idb-open",{originalErrorMessage:dt.message})})),Hn}function Pt(){return(Pt=(0,C.Z)(function*(dt){try{return(yield ln()).transaction(Tr).objectStore(Tr).get(Cn(dt))}catch(Fe){if(Fe instanceof ae.ZR)H.warn(Fe.message);else{const st=cn.create("idb-get",{originalErrorMessage:Fe?.message});H.warn(st.message)}}})).apply(this,arguments)}function Gn(dt,Fe){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,C.Z)(function*(dt,Fe){try{const mt=(yield ln()).transaction(Tr,"readwrite");return yield mt.objectStore(Tr).put(Fe,Cn(dt)),mt.done}catch(st){if(st instanceof ae.ZR)H.warn(st.message);else{const mt=cn.create("idb-set",{originalErrorMessage:st?.message});H.warn(mt.message)}}})).apply(this,arguments)}function Cn(dt){return`${dt.name}!${dt.options.appId}`}class ct{constructor(Fe){this.container=Fe,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new et(st),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var Fe=this;return(0,C.Z)(function*(){const mt=Fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yt=Ae();if(null===Fe._heartbeatsCache&&(Fe._heartbeatsCache=yield Fe._heartbeatsCachePromise),Fe._heartbeatsCache.lastSentHeartbeatDate!==Yt&&!Fe._heartbeatsCache.heartbeats.some(an=>an.date===Yt))return Fe._heartbeatsCache.heartbeats.push({date:Yt,agent:mt}),Fe._heartbeatsCache.heartbeats=Fe._heartbeatsCache.heartbeats.filter(an=>{const re=new Date(an.date).valueOf();return Date.now()-re<=2592e6}),Fe._storage.overwrite(Fe._heartbeatsCache)})()}getHeartbeatsHeader(){var Fe=this;return(0,C.Z)(function*(){if(null===Fe._heartbeatsCache&&(yield Fe._heartbeatsCachePromise),null===Fe._heartbeatsCache||0===Fe._heartbeatsCache.heartbeats.length)return"";const st=Ae(),{heartbeatsToSend:mt,unsentEntries:Yt}=function Ct(dt,Fe=1024){const st=[];let mt=dt.slice();for(const Yt of dt){const an=st.find(re=>re.agent===Yt.agent);if(an){if(an.dates.push(Yt.date),dn(st)>Fe){an.dates.pop();break}}else if(st.push({agent:Yt.agent,dates:[Yt.date]}),dn(st)>Fe){st.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:st,unsentEntries:mt}}(Fe._heartbeatsCache.heartbeats),an=(0,ae.L)(JSON.stringify({version:2,heartbeats:mt}));return Fe._heartbeatsCache.lastSentHeartbeatDate=st,Yt.length>0?(Fe._heartbeatsCache.heartbeats=Yt,yield Fe._storage.overwrite(Fe._heartbeatsCache)):(Fe._heartbeatsCache.heartbeats=[],Fe._storage.overwrite(Fe._heartbeatsCache)),an})()}}function Ae(){return(new Date).toISOString().substring(0,10)}class et{constructor(Fe){this.app=Fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Fe=this;return(0,C.Z)(function*(){return(yield Fe._canUseIndexedDBPromise)&&(yield function Rt(dt){return Pt.apply(this,arguments)}(Fe.app))||{heartbeats:[]}})()}overwrite(Fe){var st=this;return(0,C.Z)(function*(){var mt;if(yield st._canUseIndexedDBPromise){const an=yield st.read();return Gn(st.app,{lastSentHeartbeatDate:null!==(mt=Fe.lastSentHeartbeatDate)&&void 0!==mt?mt:an.lastSentHeartbeatDate,heartbeats:Fe.heartbeats})}})()}add(Fe){var st=this;return(0,C.Z)(function*(){var mt;if(yield st._canUseIndexedDBPromise){const an=yield st.read();return Gn(st.app,{lastSentHeartbeatDate:null!==(mt=Fe.lastSentHeartbeatDate)&&void 0!==mt?mt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...Fe.heartbeats]})}})()}}function dn(dt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:dt})).length}!function Jt(dt){cr(new j.wA("platform-logger",Fe=>new ce(Fe),"PRIVATE")),cr(new j.wA("heartbeat",Fe=>new ct(Fe),"PRIVATE")),qn(ee,"0.9.0",dt),qn(ee,"0.9.0","esm2017"),qn("fire-js","")}("")},4859:(_t,Re,L)=>{L.d(Re,{H0:()=>ee,wA:()=>K});var C=L(5861),j=L(2090);class K{constructor(H,te,de){this.name=H,this.instanceFactory=te,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ae="[DEFAULT]";class Z{constructor(H,te){this.name=H,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const te=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(te)){const de=new j.BH;if(this.instancesDeferred.set(te,de),this.isInitialized(te)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:te});qe&&de.resolve(qe)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(H){var te;const de=this.normalizeInstanceIdentifier(H?.identifier),qe=null!==(te=H?.optional)&&void 0!==te&&te;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(Be){if(qe)return null;throw Be}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function pe(ve){return"EAGER"===ve.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[te,de]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(te);try{const Be=this.getOrInitializeService({instanceIdentifier:qe});de.resolve(Be)}catch{}}}}clearInstance(H=ae){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,C.Z)(function*(){const te=Array.from(H.instances.values());yield Promise.all([...te.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...te.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ae){return this.instances.has(H)}getOptions(H=ae){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:te={}}=H,de=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:de,options:te});for(const[Be,ut]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(Be)&&ut.resolve(qe);return qe}onInit(H,te){var de;const qe=this.normalizeInstanceIdentifier(te),Be=null!==(de=this.onInitCallbacks.get(qe))&&void 0!==de?de:new Set;Be.add(H),this.onInitCallbacks.set(qe,Be);const ut=this.instances.get(qe);return ut&&H(ut,qe),()=>{Be.delete(H)}}invokeOnInitCallbacks(H,te){const de=this.onInitCallbacks.get(te);if(de)for(const qe of de)try{qe(H,te)}catch{}}getOrInitializeService({instanceIdentifier:H,options:te={}}){let de=this.instances.get(H);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=H,ve===ae?void 0:ve),options:te}),this.instances.set(H,de),this.instancesOptions.set(H,te),this.invokeOnInitCallbacks(de,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,de)}catch{}var ve;return de||null}normalizeInstanceIdentifier(H=ae){return this.component?this.component.multipleInstances?H:ae:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const te=this.getProvider(H.name);if(te.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);te.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const te=new Z(H,this);return this.providers.set(H,te),te}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Re,L)=>{L.d(Re,{Yd:()=>pe,in:()=>j});const C=[];var j=(()=>{return(H=j||(j={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",j;var H})();const K={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ae=j.INFO,Z={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ce=(H,te,...de)=>{if(te<H.logLevel)return;const qe=(new Date).toISOString(),Be=Z[te];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[Be](`[${qe}]  ${H.name}:`,...de)};class pe{constructor(te){this.name=te,this._logLevel=ae,this._logHandler=ce,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in j))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?K[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...te),this._logHandler(this,j.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...te),this._logHandler(this,j.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,j.INFO,...te),this._logHandler(this,j.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,j.WARN,...te),this._logHandler(this,j.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...te),this._logHandler(this,j.ERROR,...te)}}},259:(_t,Re,L)=>{L.d(Re,{C6:()=>C.C6,KN:()=>C.KN,Mq:()=>C.Mq,ZF:()=>C.ZF});var C=L(9681);(0,C.KN)("firebase","9.15.0","app")},8766:(_t,Re,L)=>{L.d(Re,{Lj:()=>Ie,X3:()=>pn});var C=L(5861);let K,ae;const pe=new WeakMap,ee=new WeakMap,ve=new WeakMap,H=new WeakMap,te=new WeakMap;let Be={get(Ne,Le,fe){if(Ne instanceof IDBTransaction){if("done"===Le)return ee.get(Ne);if("objectStoreNames"===Le)return Ne.objectStoreNames||ve.get(Ne);if("store"===Le)return fe.objectStoreNames[1]?void 0:fe.objectStore(fe.objectStoreNames[0])}return pt(Ne[Le])},set:(Ne,Le,fe)=>(Ne[Le]=fe,!0),has:(Ne,Le)=>Ne instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in Ne};function nt(Ne){return"function"==typeof Ne?function We(Ne){return Ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ne)?function(...Le){return Ne.apply(ze(this),Le),pt(pe.get(this))}:function(...Le){return pt(Ne.apply(ze(this),Le))}:function(Le,...fe){const Y=Ne.call(ze(this),Le,...fe);return ve.set(Y,Le.sort?Le.sort():[Le]),pt(Y)}}(Ne):(Ne instanceof IDBTransaction&&function qe(Ne){if(ee.has(Ne))return;const Le=new Promise((fe,Y)=>{const we=()=>{Ne.removeEventListener("complete",ge),Ne.removeEventListener("error",Ze),Ne.removeEventListener("abort",Ze)},ge=()=>{fe(),we()},Ze=()=>{Y(Ne.error||new DOMException("AbortError","AbortError")),we()};Ne.addEventListener("complete",ge),Ne.addEventListener("error",Ze),Ne.addEventListener("abort",Ze)});ee.set(Ne,Le)}(Ne),((Ne,Le)=>Le.some(fe=>Ne instanceof fe))(Ne,function Z(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ne,Be):Ne)}function pt(Ne){if(Ne instanceof IDBRequest)return function de(Ne){const Le=new Promise((fe,Y)=>{const we=()=>{Ne.removeEventListener("success",ge),Ne.removeEventListener("error",Ze)},ge=()=>{fe(pt(Ne.result)),we()},Ze=()=>{Y(Ne.error),we()};Ne.addEventListener("success",ge),Ne.addEventListener("error",Ze)});return Le.then(fe=>{fe instanceof IDBCursor&&pe.set(fe,Ne)}).catch(()=>{}),te.set(Le,Ne),Le}(Ne);if(H.has(Ne))return H.get(Ne);const Le=nt(Ne);return Le!==Ne&&(H.set(Ne,Le),te.set(Le,Ne)),Le}const ze=Ne=>te.get(Ne);function pn(Ne,Le,{blocked:fe,upgrade:Y,blocking:we,terminated:ge}={}){const Ze=indexedDB.open(Ne,Le),Oe=pt(Ze);return Y&&Ze.addEventListener("upgradeneeded",At=>{Y(pt(Ze.result),At.oldVersion,At.newVersion,pt(Ze.transaction))}),fe&&Ze.addEventListener("blocked",()=>fe()),Oe.then(At=>{ge&&At.addEventListener("close",()=>ge()),we&&At.addEventListener("versionchange",()=>we())}).catch(()=>{}),Oe}function Ie(Ne,{blocked:Le}={}){const fe=indexedDB.deleteDatabase(Ne);return Le&&fe.addEventListener("blocked",()=>Le()),pt(fe).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Xe=new Map;function Mt(Ne,Le){if(!(Ne instanceof IDBDatabase)||Le in Ne||"string"!=typeof Le)return;if(Xe.get(Le))return Xe.get(Le);const fe=Le.replace(/FromIndex$/,""),Y=Le!==fe,we=Ke.includes(fe);if(!(fe in(Y?IDBIndex:IDBObjectStore).prototype)||!we&&!ke.includes(fe))return;const ge=function(){var Ze=(0,C.Z)(function*(Oe,...At){const nn=this.transaction(Oe,we?"readwrite":"readonly");let Tn=nn.store;return Y&&(Tn=Tn.index(At.shift())),(yield Promise.all([Tn[fe](...At),we&&nn.done]))[0]});return function(At){return Ze.apply(this,arguments)}}();return Xe.set(Le,ge),ge}!function ut(Ne){Be=Ne(Be)}(Ne=>({...Ne,get:(Le,fe,Y)=>Mt(Le,fe)||Ne.get(Le,fe,Y),has:(Le,fe)=>!!Mt(Le,fe)||Ne.has(Le,fe)}))},5861:(_t,Re,L)=>{function C(K,ae,Z,ce,pe,ee,ve){try{var H=K[ee](ve),te=H.value}catch(de){return void Z(de)}H.done?ae(te):Promise.resolve(te).then(ce,pe)}function j(K){return function(){var ae=this,Z=arguments;return new Promise(function(ce,pe){var ee=K.apply(ae,Z);function ve(te){C(ee,ce,pe,ve,H,"next",te)}function H(te){C(ee,ce,pe,ve,H,"throw",te)}ve(void 0)})}}L.d(Re,{Z:()=>j})}},_t=>{_t(_t.s=6734)}]);