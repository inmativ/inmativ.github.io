"use strict";(self.webpackChunkpm_web=self.webpackChunkpm_web||[]).push([[179],{3692:(xt,Ne,$)=>{$.d(Ne,{Ot:()=>fe,ZF:()=>Et,hX:()=>$e,z6:()=>J});var A=$(259),H=$(8256),Y=$(3069);class fe{constructor(je){return je}}class J{constructor(){return(0,A.C6)()}}const ce=new H.OlP("angularfire2._apps"),Re={provide:fe,useFactory:function Me(Fe){return Fe&&1===Fe.length?Fe[0]:new fe((0,A.Mq)())},deps:[[new H.FiY,ce]]},q={provide:J,deps:[[new H.FiY,ce]]};function ne(Fe){return(je,be)=>{const it=je.runOutsideAngular(()=>Fe(be));return new fe(it)}}let ge=(()=>{class Fe{constructor(be){(0,A.KN)("angularfire",Y.q4.full,"core"),(0,A.KN)("angularfire",Y.q4.full,"app"),(0,A.KN)("angular",H.q4F.full,be.toString())}}return Fe.\u0275fac=function(be){return new(be||Fe)(H.LFG(H.Lbi))},Fe.\u0275mod=H.oAB({type:Fe}),Fe.\u0275inj=H.cJS({providers:[Re,q]}),Fe})();function $e(Fe,...je){return{ngModule:ge,providers:[{provide:ce,useFactory:ne(Fe),multi:!0,deps:[H.R0b,H.zs3,Y.HU,...je]}]}}const Et=(0,Y.u3)(A.ZF,!0)},2783:(xt,Ne,$)=>{$.d(Ne,{gg:()=>oc,ET:()=>tg,hJ:()=>Hd,BS:()=>Xp,JU:()=>zd,_1:()=>Ef,ad:()=>Af,Cm:()=>jd});var A=$(3069),H=$(8256),Y=$(3692),fe=$(259),J=$(5861),ve=$(2090),Me=$(9681),ce=$(1877),Re=$(655),q=$(4859);const _t=function Et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new ve.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new ce.Yd("@firebase/auth");function be(g,...l){je.logLevel<=ce.in.ERROR&&je.error(`Auth (${Me.Jn}): ${g}`,...l)}function it(g,...l){throw le(g,...l)}function qe(g,...l){return le(g,...l)}function de(g,l,f){const I=Object.assign(Object.assign({},_t()),{[l]:f});return new ve.LL("auth","Firebase",I).create(l,{appName:g.name})}function le(g,...l){if("string"!=typeof g){const f=l[0],I=[...l.slice(1)];return I[0]&&(I[0].appName=g.name),g._errorFactory.create(f,...I)}return ct.create(g,...l)}function Q(g,l,...f){if(!g)throw le(l,...f)}function we(g){const l="INTERNAL ASSERTION FAILED: "+g;throw be(l),new Error(l)}function ae(g,l){g||we(l)}const Ke=new Map;function He(g){ae(g instanceof Function,"Expected a class definition");let l=Ke.get(g);return l?(ae(l instanceof g,"Instance stored in cache mismatched with class"),l):(l=new g,Ke.set(g,l),l)}function Yt(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class cr{constructor(l,f){this.shortDelay=l,this.longDelay=f,ae(f>l,"Short delay should be less than long delay!"),this.isMobile=(0,ve.uI)()||(0,ve.b$)()}get(){return function wn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Mt(){return"http:"===Yt()||"https:"===Yt()}()||(0,ve.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Pn{static initialize(l,f,I){this.fetchImpl=l,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void we("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void we("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void we("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new cr(3e4,6e4);function Mn(g,l,f,I){return zt.apply(this,arguments)}function zt(){return(zt=(0,J.Z)(function*(g,l,f,I,P={}){return On(g,P,(0,J.Z)(function*(){let B={},ue={};I&&("GET"===l?ue=I:B={body:JSON.stringify(I)});const Le=(0,ve.xO)(Object.assign({key:g.config.apiKey},ue)).slice(1),Je=yield g._getAdditionalHeaders();return Je["Content-Type"]="application/json",g.languageCode&&(Je["X-Firebase-Locale"]=g.languageCode),Pn.fetch()(Es(g,g.config.apiHost,f,Le),Object.assign({method:l,headers:Je,referrerPolicy:"no-referrer"},B))}))})).apply(this,arguments)}function On(g,l,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,J.Z)(function*(g,l,f){g._canInitEmulator=!1;const I=Object.assign(Object.assign({},lr),l);try{const P=new rn(g),B=yield Promise.race([f(),P.promise]);P.clearNetworkTimeout();const ue=yield B.json();if("needConfirmation"in ue)throw dr(g,"account-exists-with-different-credential",ue);if(B.ok&&!("errorMessage"in ue))return ue;{const Le=B.ok?ue.errorMessage:ue.error.message,[Je,Tt]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw dr(g,"credential-already-in-use",ue);if("EMAIL_EXISTS"===Je)throw dr(g,"email-already-in-use",ue);if("USER_DISABLED"===Je)throw dr(g,"user-disabled",ue);const Wt=I[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw de(g,Wt,Tt);it(g,Wt)}}catch(P){if(P instanceof ve.ZR)throw P;it(g,"network-request-failed")}})).apply(this,arguments)}function Es(g,l,f,I){const P=`${l}${f}?${I}`;return g.config.emulator?function sr(g,l){ae(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return l?`${f}${l.startsWith("/")?l.slice(1):l}`:f}(g.config,P):`${g.config.apiScheme}://${P}`}class rn{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(qe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dr(g,l,f){const I={appName:g.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const P=qe(g,l,I);return P.customData._tokenResponse=f,P}function si(){return(si=(0,J.Z)(function*(g,l){return Mn(g,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Yn(g,l){return Or.apply(this,arguments)}function Or(){return(Or=(0,J.Z)(function*(g,l){return Mn(g,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function dt(g){if(g)try{const l=new Date(Number(g));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Bn(){return(Bn=(0,J.Z)(function*(g,l=!1){const f=(0,ve.m9)(g),I=yield f.getIdToken(l),P=Cn(I);Q(P&&P.exp&&P.auth_time&&P.iat,f.auth,"internal-error");const B="object"==typeof P.firebase?P.firebase:void 0,ue=B?.sign_in_provider;return{claims:P,token:I,authTime:dt(Lr(P.auth_time)),issuedAtTime:dt(Lr(P.iat)),expirationTime:dt(Lr(P.exp)),signInProvider:ue||null,signInSecondFactor:B?.sign_in_second_factor||null}})).apply(this,arguments)}function Lr(g){return 1e3*Number(g)}function Cn(g){const[l,f,I]=g.split(".");if(void 0===l||void 0===f||void 0===I)return be("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,ve.tV)(f);return P?JSON.parse(P):(be("Failed to decode base64 JWT payload"),null)}catch(P){return be("Caught error parsing JWT payload as JSON",P?.toString()),null}}function dn(g,l){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,J.Z)(function*(g,l,f=!1){if(f)return l;try{return yield l}catch(I){throw I instanceof ve.ZR&&An(I)&&g.auth.currentUser===g&&(yield g.auth.signOut()),I}})).apply(this,arguments)}function An({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class tr{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var f;if(l){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const P=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(l=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(l);this.timerId=setTimeout((0,J.Z)(function*(){yield f.iteration()}),I)}iteration(){var l=this;return(0,J.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&l.schedule(!0))}l.schedule()})()}}class tt{constructor(l,f){this.createdAt=l,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=dt(this.lastLoginAt),this.creationTime=dt(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $r(g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,J.Z)(function*(g){var l;const f=g.auth,I=yield g.getIdToken(),P=yield dn(g,Yn(f,{idToken:I}));Q(P?.users.length,f,"internal-error");const B=P.users[0];g._notifyReloadListener(B);const ue=null!==(l=B.providerUserInfo)&&void 0!==l&&l.length?Dt(B.providerUserInfo):[],Le=st(g.providerData,ue),Wt=!!g.isAnonymous&&!(g.email&&B.passwordHash||Le?.length),Nn={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:Le,metadata:new tt(B.createdAt,B.lastLoginAt),isAnonymous:Wt};Object.assign(g,Nn)})).apply(this,arguments)}function Se(){return(Se=(0,J.Z)(function*(g){const l=(0,ve.m9)(g);yield $r(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function st(g,l){return[...g.filter(I=>!l.some(P=>P.providerId===I.providerId)),...l]}function Dt(g){return g.map(l=>{var{providerId:f}=l,I=(0,Re._T)(l,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Xt(){return(Xt=(0,J.Z)(function*(g,l){const f=yield On(g,{},(0,J.Z)(function*(){const I=(0,ve.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:P,apiKey:B}=g.config,ue=Es(g,P,"/v1/token",`key=${B}`),Le=yield g._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",Pn.fetch()(ue,{method:"POST",headers:Le,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){Q(l.idToken,"internal-error"),Q(typeof l.idToken<"u","internal-error"),Q(typeof l.refreshToken<"u","internal-error");const f="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function br(g){const l=Cn(g);return Q(l,"internal-error"),Q(typeof l.exp<"u","internal-error"),Q(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,f)}getToken(l,f=!1){var I=this;return(0,J.Z)(function*(){return Q(!I.accessToken||I.refreshToken,l,"user-token-expired"),f||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(l,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,f){var I=this;return(0,J.Z)(function*(){const{accessToken:P,refreshToken:B,expiresIn:ue}=yield function Kt(g,l){return Xt.apply(this,arguments)}(l,f);I.updateTokensAndExpiration(P,B,Number(ue))})()}updateTokensAndExpiration(l,f,I){this.refreshToken=f||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(l,f){const{refreshToken:I,accessToken:P,expirationTime:B}=f,ue=new ee;return I&&(Q("string"==typeof I,"internal-error",{appName:l}),ue.refreshToken=I),P&&(Q("string"==typeof P,"internal-error",{appName:l}),ue.accessToken=P),B&&(Q("number"==typeof B,"internal-error",{appName:l}),ue.expirationTime=B),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return we("not implemented")}}function Z(g,l){Q("string"==typeof g||typeof g>"u","internal-error",{appName:l})}class oe{constructor(l){var{uid:f,auth:I,stsTokenManager:P}=l,B=(0,Re._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=B.displayName||null,this.email=B.email||null,this.emailVerified=B.emailVerified||!1,this.phoneNumber=B.phoneNumber||null,this.photoURL=B.photoURL||null,this.isAnonymous=B.isAnonymous||!1,this.tenantId=B.tenantId||null,this.providerData=B.providerData?[...B.providerData]:[],this.metadata=new tt(B.createdAt||void 0,B.lastLoginAt||void 0)}getIdToken(l){var f=this;return(0,J.Z)(function*(){const I=yield dn(f,f.stsTokenManager.getToken(f.auth,l));return Q(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(l){return function Ot(g){return Bn.apply(this,arguments)}(this,l)}reload(){return function ht(g){return Se.apply(this,arguments)}(this)}_assign(l){this!==l&&(Q(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(f=>Object.assign({},f)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new oe(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,f=!1){var I=this;return(0,J.Z)(function*(){let P=!1;l.idToken&&l.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(l),P=!0),f&&(yield $r(I)),yield I.auth._persistUserIfCurrent(I),P&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var l=this;return(0,J.Z)(function*(){const f=yield l.getIdToken();return yield dn(l,function Ds(g,l){return si.apply(this,arguments)}(l.auth,{idToken:f})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,f){var I,P,B,ue,Le,Je,Tt,Wt;const Nn=null!==(I=f.displayName)&&void 0!==I?I:void 0,po=null!==(P=f.email)&&void 0!==P?P:void 0,Qs=null!==(B=f.phoneNumber)&&void 0!==B?B:void 0,nl=null!==(ue=f.photoURL)&&void 0!==ue?ue:void 0,Mu=null!==(Le=f.tenantId)&&void 0!==Le?Le:void 0,ql=null!==(Je=f._redirectEventId)&&void 0!==Je?Je:void 0,Kl=null!==(Tt=f.createdAt)&&void 0!==Tt?Tt:void 0,uc=null!==(Wt=f.lastLoginAt)&&void 0!==Wt?Wt:void 0,{uid:Xs,emailVerified:rl,isAnonymous:Rf,providerData:Ru,stsTokenManager:Jo}=f;Q(Xs&&Jo,l,"internal-error");const il=ee.fromJSON(this.name,Jo);Q("string"==typeof Xs,l,"internal-error"),Z(Nn,l.name),Z(po,l.name),Q("boolean"==typeof rl,l,"internal-error"),Q("boolean"==typeof Rf,l,"internal-error"),Z(Qs,l.name),Z(nl,l.name),Z(Mu,l.name),Z(ql,l.name),Z(Kl,l.name),Z(uc,l.name);const Zl=new oe({uid:Xs,auth:l,email:po,emailVerified:rl,displayName:Nn,isAnonymous:Rf,photoURL:nl,phoneNumber:Qs,tenantId:Mu,stsTokenManager:il,createdAt:Kl,lastLoginAt:uc});return Ru&&Array.isArray(Ru)&&(Zl.providerData=Ru.map(sl=>Object.assign({},sl))),ql&&(Zl._redirectEventId=ql),Zl}static _fromIdTokenResponse(l,f,I=!1){return(0,J.Z)(function*(){const P=new ee;P.updateFromServerResponse(f);const B=new oe({uid:f.localId,auth:l,stsTokenManager:P,isAnonymous:I});return yield $r(B),B})()}}const Ee=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,J.Z)(function*(){return!0})()}_set(f,I){var P=this;return(0,J.Z)(function*(){P.storage[f]=I})()}_get(f){var I=this;return(0,J.Z)(function*(){const P=I.storage[f];return void 0===P?null:P})()}_remove(f){var I=this;return(0,J.Z)(function*(){delete I.storage[f]})()}_addListener(f,I){}_removeListener(f,I){}}return g.type="NONE",g})();function gt(g,l,f){return`firebase:${g}:${l}:${f}`}class Ft{constructor(l,f,I){this.persistence=l,this.auth=f,this.userKey=I;const{config:P,name:B}=this.auth;this.fullUserKey=gt(this.userKey,P.apiKey,B),this.fullPersistenceKey=gt("persistence",P.apiKey,B),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,J.Z)(function*(){const f=yield l.persistence._get(l.fullUserKey);return f?oe._fromJSON(l.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var f=this;return(0,J.Z)(function*(){if(f.persistence===l)return;const I=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=l,I?f.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,f,I="authUser"){return(0,J.Z)(function*(){if(!f.length)return new Ft(He(Ee),l,I);const P=(yield Promise.all(f.map(function(){var Tt=(0,J.Z)(function*(Wt){if(yield Wt._isAvailable())return Wt});return function(Wt){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let B=P[0]||He(Ee);const ue=gt(I,l.config.apiKey,l.name);let Le=null;for(const Tt of f)try{const Wt=yield Tt._get(ue);if(Wt){const Nn=oe._fromJSON(l,Wt);Tt!==B&&(Le=Nn),B=Tt;break}}catch{}const Je=P.filter(Tt=>Tt._shouldAllowMigration);return B._shouldAllowMigration&&Je.length?(B=Je[0],Le&&(yield B._set(ue,Le.toJSON())),yield Promise.all(f.map(function(){var Tt=(0,J.Z)(function*(Wt){if(Wt!==B)try{yield Wt._remove(ue)}catch{}});return function(Wt){return Tt.apply(this,arguments)}}())),new Ft(B,l,I)):new Ft(B,l,I)})()}}function Sn(g){const l=g.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(function te(g=(0,ve.z$)()){return/iemobile/i.test(g)}(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(function Cr(g=(0,ve.z$)()){return/firefox\//i.test(g)}(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(function ye(g=(0,ve.z$)()){return/blackberry/i.test(g)}(l))return"Blackberry";if(function ke(g=(0,ve.z$)()){return/webos/i.test(g)}(l))return"Webos";if(function nr(g=(0,ve.z$)()){const l=g.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}(l))return"Safari";if((l.includes("chrome/")||function me(g=(0,ve.z$)()){return/crios\//i.test(g)}(l))&&!l.includes("edge/"))return"Chrome";if(function W(g=(0,ve.z$)()){return/android/i.test(g)}(l))return"Android";{const I=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Sr(g,l=[]){let f;switch(g){case"Browser":f=Sn((0,ve.z$)());break;case"Worker":f=`${Sn((0,ve.z$)())}-${g}`;break;default:f=g}const I=l.length?l.join(","):"FirebaseCore-web";return`${f}/JsCore/${Me.Jn}/${I}`}class Js{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,f){const I=B=>new Promise((ue,Le)=>{try{ue(l(B))}catch(Je){Le(Je)}});I.onAbort=f,this.queue.push(I);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(l){var f=this;return(0,J.Z)(function*(){if(f.auth.currentUser===l)return;const I=[];try{for(const P of f.queue)yield P(l),P.onAbort&&I.push(P.onAbort)}catch(P){I.reverse();for(const B of I)try{B()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class rr{constructor(l,f,I){this.app=l,this.heartbeatServiceProvider=f,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qn(this),this.idTokenSubscription=new qn(this),this.beforeStateQueue=new Js(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(l,f){var I=this;return f&&(this._popupRedirectResolver=He(f)),this._initializationPromise=this.queue((0,J.Z)(function*(){var P,B;if(!I._deleted&&(I.persistenceManager=yield Ft.create(I,l),!I._deleted)){if(null!==(P=I._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(f),I.lastNotifiedUid=(null===(B=I.currentUser)||void 0===B?void 0:B.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,J.Z)(function*(){if(l._deleted)return;const f=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||f){if(l.currentUser&&f&&l.currentUser.uid===f.uid)return l._currentUser._assign(f),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(f,!0)}})()}initializeCurrentUser(l){var f=this;return(0,J.Z)(function*(){var I;const P=yield f.assertedPersistence.getCurrentUser();let B=P,ue=!1;if(l&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Le=null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId,Je=B?._redirectEventId,Tt=yield f.tryRedirectSignIn(l);(!Le||Le===Je)&&Tt?.user&&(B=Tt.user,ue=!0)}if(!B)return f.directlySetCurrentUser(null);if(!B._redirectEventId){if(ue)try{yield f.beforeStateQueue.runMiddleware(B)}catch(Le){B=P,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Le))}return B?f.reloadAndSetCurrentUserOrClear(B):f.directlySetCurrentUser(null)}return Q(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===B._redirectEventId?f.directlySetCurrentUser(B):f.reloadAndSetCurrentUserOrClear(B)})()}tryRedirectSignIn(l){var f=this;return(0,J.Z)(function*(){let I=null;try{I=yield f._popupRedirectResolver._completeRedirectFn(f,l,!0)}catch{yield f._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(l){var f=this;return(0,J.Z)(function*(){try{yield $r(l)}catch(I){if("auth/network-request-failed"!==I?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function yn(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var l=this;return(0,J.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var f=this;return(0,J.Z)(function*(){const I=l?(0,ve.m9)(l):null;return I&&Q(I.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(I&&I._clone(f))})()}_updateCurrentUser(l,f=!1){var I=this;return(0,J.Z)(function*(){if(!I._deleted)return l&&Q(I.tenantId===l.tenantId,I,"tenant-id-mismatch"),f||(yield I.beforeStateQueue.runMiddleware(l)),I.queue((0,J.Z)(function*(){yield I.directlySetCurrentUser(l),I.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,J.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var f=this;return this.queue((0,J.Z)(function*(){yield f.assertedPersistence.setPersistence(He(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new ve.LL("auth","Firebase",l())}onAuthStateChanged(l,f,I){return this.registerStateListener(this.authStateSubscription,l,f,I)}beforeAuthStateChanged(l,f){return this.beforeStateQueue.pushCallback(l,f)}onIdTokenChanged(l,f,I){return this.registerStateListener(this.idTokenSubscription,l,f,I)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,f){var I=this;return(0,J.Z)(function*(){const P=yield I.getOrInitRedirectPersistenceManager(f);return null===l?P.removeCurrentUser():P.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var f=this;return(0,J.Z)(function*(){if(!f.redirectPersistenceManager){const I=l&&He(l)||f._popupRedirectResolver;Q(I,f,"argument-error"),f.redirectPersistenceManager=yield Ft.create(f,[He(I._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(l){var f=this;return(0,J.Z)(function*(){var I,P;return f._isInitialized&&(yield f.queue((0,J.Z)(function*(){}))),(null===(I=f._currentUser)||void 0===I?void 0:I._redirectEventId)===l?f._currentUser:(null===(P=f.redirectUser)||void 0===P?void 0:P._redirectEventId)===l?f.redirectUser:null})()}_persistUserIfCurrent(l){var f=this;return(0,J.Z)(function*(){if(l===f.currentUser)return f.queue((0,J.Z)(function*(){return f.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(f=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,f,I,P){if(this._deleted)return()=>{};const B="function"==typeof f?f:f.next.bind(f),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(ue,this,"internal-error"),ue.then(()=>B(this.currentUser)),"function"==typeof f?l.addObserver(f,I,P):l.addObserver(f)}directlySetCurrentUser(l){var f=this;return(0,J.Z)(function*(){f.currentUser&&f.currentUser!==l&&f._currentUser._stopProactiveRefresh(),l&&f.isProactiveRefreshEnabled&&l._startProactiveRefresh(),f.currentUser=l,l?yield f.assertedPersistence.setCurrentUser(l):yield f.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,J.Z)(function*(){var f;const I={"X-Client-Version":l.clientVersion};l.app.options.appId&&(I["X-Firebase-gmpid"]=l.app.options.appId);const P=yield null===(f=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return P&&(I["X-Firebase-Client"]=P),I})()}}class qn{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,ve.ne)(f=>this.observer=f)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function qo(g){return`__${g}${Math.floor(1e6*Math.random())}`})("rcb"),new cr(3e4,6e4),new cr(2e3,1e4),new cr(3e4,6e4),new cr(5e3,15e3);var Gi="@firebase/auth";class qu{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var f=this;return(0,J.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const f=this.auth.onIdTokenChanged(I=>{l(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,f),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const f=this.internalListeners.get(l);!f||(this.internalListeners.delete(l),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ve.Pz)("authIdTokenMaxAge"),function yd(g){(0,Me.Xd)(new q.wA("auth",(l,{options:f})=>{const I=l.getProvider("app").getImmediate(),P=l.getProvider("heartbeat"),{apiKey:B,authDomain:ue}=I.options;return((Le,Je)=>{Q(B&&!B.includes(":"),"invalid-api-key",{appName:Le.name}),Q(!ue?.includes(":"),"argument-error",{appName:Le.name});const Tt={apiKey:B,authDomain:ue,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sr(g)},Wt=new rr(Le,Je,Tt);return function qt(g,l){const f=l?.persistence||[],I=(Array.isArray(f)?f:[f]).map(He);l?.errorMap&&g._updateErrorMap(l.errorMap),g._initializeWithPersistence(I,l?.popupRedirectResolver)}(Wt,f),Wt})(I,P)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,f,I)=>{l.getProvider("auth-internal").initialize()})),(0,Me.Xd)(new q.wA("auth-internal",l=>{const f=function or(g){return(0,ve.m9)(g)}(l.getProvider("auth").getImmediate());return new qu(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Me.KN)(Gi,"0.21.0",function Gh(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,Me.KN)(Gi,"0.21.0","esm2017")}("Browser");class os{constructor(){return(0,A.vb)("auth")}}const mu=new Map,Pc={activated:!1,tokenObservers:[]},Oc={initialized:!1,enabled:!1};function Ri(g){return mu.get(g)||Object.assign({},Pc)}function Sl(){return Oc}class Is{constructor(l,f,I,P,B){if(this.operation=l,this.retryPolicy=f,this.getWaitDuration=I,this.lowerBound=P,this.upperBound=B,this.pending=null,this.nextErrorWaitInterval=P,P>B)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(l){var f=this;return(0,J.Z)(function*(){f.stop();try{f.pending=new ve.BH,yield function Op(g){return new Promise(l=>{setTimeout(l,g)})}(f.getNextRun(l)),f.pending.resolve(),yield f.pending.promise,f.pending=new ve.BH,yield f.operation(),f.pending.resolve(),yield f.pending.promise,f.process(!0).catch(()=>{})}catch(I){f.retryPolicy(I)?f.process(!1).catch(()=>{}):f.stop()}})()}getNextRun(l){if(l)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const f=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),f}}}const kr=new ve.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fc(g){if(!Ri(g).activated)throw kr.create("use-before-activation",{appName:g.name})}function Vc(g,l){return xl.apply(this,arguments)}function xl(){return(xl=(0,J.Z)(function*({url:g,body:l},f){const I={"Content-Type":"application/json"},P=f.getImmediate({optional:!0});if(P){const Nn=yield P.getHeartbeatsHeader();Nn&&(I["X-Firebase-Client"]=Nn)}const B={method:"POST",body:JSON.stringify(l),headers:I};let ue,Le;try{ue=yield fetch(g,B)}catch(Nn){throw kr.create("fetch-network-error",{originalErrorMessage:Nn?.message})}if(200!==ue.status)throw kr.create("fetch-status-error",{httpStatus:ue.status});try{Le=yield ue.json()}catch(Nn){throw kr.create("fetch-parse-error",{originalErrorMessage:Nn?.message})}const Je=Le.ttl.match(/^([\d.]+)(s)$/);if(!Je||!Je[2]||isNaN(Number(Je[1])))throw kr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Le.ttl}`});const Tt=1e3*Number(Je[1]),Wt=Date.now();return{token:Le.token,expireTimeMillis:Wt+Tt,issuedAtTimeMillis:Wt}})).apply(this,arguments)}function lf(g,l){const{projectId:f,appId:I,apiKey:P}=g.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${f}/apps/${I}:exchangeDebugToken?key=${P}`,body:{debug_token:l}}}const Bc="firebase-app-check-store";let Ml=null;function ba(){return Ml||(Ml=new Promise((g,l)=>{try{const f=indexedDB.open("firebase-app-check-database",1);f.onsuccess=I=>{g(I.target.result)},f.onerror=I=>{var P;l(kr.create("storage-open",{originalErrorMessage:null===(P=I.target.error)||void 0===P?void 0:P.message}))},f.onupgradeneeded=I=>{0===I.oldVersion&&I.target.result.createObjectStore(Bc,{keyPath:"compositeKey"})}}catch(f){l(kr.create("storage-open",{originalErrorMessage:f?.message}))}}),Ml)}function Id(){return(Id=(0,J.Z)(function*(g,l){const I=(yield ba()).transaction(Bc,"readwrite"),B=I.objectStore(Bc).put({compositeKey:g,value:l});return new Promise((ue,Le)=>{B.onsuccess=Je=>{ue()},I.onerror=Je=>{var Tt;Le(kr.create("storage-set",{originalErrorMessage:null===(Tt=Je.target.error)||void 0===Tt?void 0:Tt.message}))}})})).apply(this,arguments)}const Wr=new ce.Yd("@firebase/app-check");function Iu(g,l){return(0,ve.hl)()?function Vp(g,l){return function $p(g,l){return Id.apply(this,arguments)}(function kl(g){return`${g.options.appId}-${g.name}`}(g),l)}(g,l).catch(f=>{Wr.warn(`Failed to write token to IndexedDB. Error: ${f}`)}):Promise.resolve()}function Ed(){return Sl().enabled}function Nl(){return wu.apply(this,arguments)}function wu(){return(wu=(0,J.Z)(function*(){const g=Sl();if(g.enabled&&g.token)return g.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Xu={error:"UNKNOWN_ERROR"};function Ju(g){return ve.US.encodeString(JSON.stringify(g),!1)}function Yo(g){return ec.apply(this,arguments)}function ec(){return(ec=(0,J.Z)(function*(g,l=!1){const f=g.app;Fc(f);const I=Ri(f);let B,P=I.token;if(P&&!Eu(P)&&(I.token=void 0,P=void 0),!P){const Je=yield I.cachedTokenPromise;Je&&(Eu(Je)?P=Je:yield Iu(f,void 0))}if(!l&&P&&Eu(P))return{token:P.token};let Le,ue=!1;if(Ed()){I.exchangeTokenPromise||(I.exchangeTokenPromise=Vc(lf(f,yield Nl()),g.heartbeatServiceProvider).finally(()=>{I.exchangeTokenPromise=void 0}),ue=!0);const Je=yield I.exchangeTokenPromise;return yield Iu(f,Je),I.token=Je,{token:Je.token}}try{I.exchangeTokenPromise||(I.exchangeTokenPromise=I.provider.getToken().finally(()=>{I.exchangeTokenPromise=void 0}),ue=!0),P=yield Ri(f).exchangeTokenPromise}catch(Je){"appCheck/throttled"===Je.code?Wr.warn(Je.message):Wr.error(Je),B=Je}return P?B?Le=Eu(P)?{token:P.token,internalError:B}:Dd(B):(Le={token:P.token},I.token=P,yield Iu(f,P)):Le=Dd(B),ue&&pf(f,Le),Le})).apply(this,arguments)}function Ol(g,l){const f=Ri(g),I=f.tokenObservers.filter(P=>P.next!==l);0===I.length&&f.tokenRefresher&&f.tokenRefresher.isRunning()&&f.tokenRefresher.stop(),f.tokenObservers=I}function Ll(g){const{app:l}=g,f=Ri(l);let I=f.tokenRefresher;I||(I=function ff(g){const{app:l}=g;return new Is((0,J.Z)(function*(){let I;if(I=Ri(l).token?yield Yo(g,!0):yield Yo(g),I.error)throw I.error;if(I.internalError)throw I.internalError}),()=>!0,()=>{const f=Ri(l);if(f.token){let I=f.token.issuedAtTimeMillis+.5*(f.token.expireTimeMillis-f.token.issuedAtTimeMillis)+3e5;return I=Math.min(I,f.token.expireTimeMillis-3e5),Math.max(0,I-Date.now())}return 0},3e4,96e4)}(g),f.tokenRefresher=I),!I.isRunning()&&f.isTokenAutoRefreshEnabled&&I.start()}function pf(g,l){const f=Ri(g).tokenObservers;for(const I of f)try{"EXTERNAL"===I.type&&null!=l.error?I.error(l.error):I.next(l)}catch{}}function Eu(g){return g.expireTimeMillis-Date.now()>0}function Dd(g){return{token:Ju(Xu),error:g}}class Hc{constructor(l,f){this.app=l,this.heartbeatServiceProvider=f}_delete(){const{tokenObservers:l}=Ri(this.app);for(const f of l)Ol(this.app,f.next);return Promise.resolve()}}const Cu="app-check-internal";!function nc(){(0,Me.Xd)(new q.wA("app-check",g=>function Za(g,l){return new Hc(g,l)}(g.getProvider("app").getImmediate(),g.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,l,f)=>{g.getProvider(Cu).initialize()})),(0,Me.Xd)(new q.wA(Cu,g=>function Du(g){return{getToken:l=>Yo(g,l),addTokenListener:l=>function Pl(g,l,f,I){const{app:P}=g,B=Ri(P);if(B.tokenObservers=[...B.tokenObservers,{next:f,error:I,type:l}],B.token&&Eu(B.token)){const Le=B.token;Promise.resolve().then(()=>{f({token:Le.token}),Ll(g)}).catch(()=>{})}B.cachedTokenPromise.then(()=>Ll(g))}(g,"INTERNAL",l),removeTokenListener:l=>Ol(g.app,l)}}(g.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Me.KN)("@firebase/app-check","0.6.0")}();class ws{constructor(){return(0,A.vb)("app-check")}}typeof window<"u"&&window;var qc=$(5525),kd=$(9751),ic=$(4004),_f={includeMetadataChanges:!1};function Nd(g,l){return void 0===l&&(l=_f),new kd.y(function(f){return{unsubscribe:(0,qc.cf)(g,l,{next:f.next.bind(f),error:f.error.bind(f),complete:f.complete.bind(f)})}})}function fm(g,l){return void 0===l&&(l={}),function Pd(g){return Nd(g,{includeMetadataChanges:!0})}(g).pipe((0,ic.U)(function(f){return Od(f,l)}))}function Od(g,l){void 0===l&&(l={});var f=g.data();return!g.exists()||"object"!=typeof f||null===f||l.idField&&(f[l.idField]=g.id),f}function Ld(g,l){return void 0===l&&(l={}),function ki(g){return Nd(g,{includeMetadataChanges:!0}).pipe((0,ic.U)(function(l){return l.docs}))}(g).pipe((0,ic.U)(function(f){return f.map(function(I){return Od(I,l)})}))}class oc{constructor(l){return l}}const Fd="firestore",Vd=new H.OlP("angularfire2.firestore-instances");function Bd(g){return(l,f)=>{const I=l.runOutsideAngular(()=>g(f));return new oc(I)}}const $d={provide:class Ud{constructor(){return(0,A.vb)(Fd)}},deps:[[new H.FiY,Vd]]},Zc={provide:oc,useFactory:function wf(g,l){const f=(0,A.JM)(Fd,g,l);return f&&new oc(f)},deps:[[new H.FiY,Vd],Y.Ot]};let Gl=(()=>{class g{constructor(){(0,fe.KN)("angularfire",A.q4.full,"fst")}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275mod=H.oAB({type:g}),g.\u0275inj=H.cJS({providers:[Zc,$d]}),g})();function jd(g,...l){return{ngModule:Gl,providers:[{provide:Vd,useFactory:Bd(g),multi:!0,deps:[H.R0b,H.zs3,A.HU,Y.z6,[new H.FiY,os],[new H.FiY,ws],...l]}]}}const Xp=(0,A.u3)(Ld,!0),Ef=(0,A.u3)(fm,!0),tg=(0,A.u3)(qc.ET,!0),Hd=(0,A.u3)(qc.hJ,!0),zd=(0,A.u3)(qc.JU,!0),Af=(0,A.u3)(qc.ad,!0)},3069:(xt,Ne,$)=>{$.d(Ne,{q4:()=>De,HU:()=>du,vb:()=>xn,JM:()=>pn,u3:()=>ld});var A=$(8256),H=$(259),Y=$(5861),fe=$(9681),J=$(2090),ve=$(4859),Me=$(1877),ce=$(8766);const Re="@firebase/installations",q="0.6.0",ge=`w:${q}`,$e="FIS_v2",_t=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ct(C){return C instanceof J.ZR&&C.code.includes("request-failed")}function Fe({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function je(C){return{token:C.token,requestStatus:2,expiresIn:Q(C.expiresIn),creationTime:Date.now()}}function be(C,x){return it.apply(this,arguments)}function it(){return(it=(0,Y.Z)(function*(C,x){const z=(yield x.json()).error;return _t.create("request-failed",{requestName:C,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function qe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function de(C,{refreshToken:x}){const L=qe(C);return L.append("Authorization",function we(C){return`${$e} ${C}`}(x)),L}function Pe(C){return le.apply(this,arguments)}function le(){return(le=(0,Y.Z)(function*(C){const x=yield C();return x.status>=500&&x.status<600?C():x})).apply(this,arguments)}function Q(C){return Number(C.replace("s","000"))}function ae(C,x){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,Y.Z)(function*({appConfig:C,heartbeatServiceProvider:x},{fid:L}){const z=Fe(C),he=qe(C),pe=x.getImmediate({optional:!0});if(pe){const Pt=yield pe.getHeartbeatsHeader();Pt&&he.append("x-firebase-client",Pt)}const at={method:"POST",headers:he,body:JSON.stringify({fid:L,authVersion:$e,appId:C.appId,sdkVersion:ge})},lt=yield Pe(()=>fetch(z,at));if(lt.ok){const Pt=yield lt.json();return{fid:Pt.fid||L,registrationStatus:2,refreshToken:Pt.refreshToken,authToken:je(Pt.authToken)}}throw yield be("Create Installation",lt)})).apply(this,arguments)}function He(C){return new Promise(x=>{setTimeout(x,C)})}const qt=/^[cdef][\w-]{21}$/;function Mt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const L=function Yt(C){return function Ct(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return qt.test(L)?L:""}catch{return""}}function wn(C){return`${C.appName}!${C.appId}`}const yn=new Map;function cr(C,x){const L=wn(C);lr(L,x),function sn(C,x){const L=function Mn(){return!En&&"BroadcastChannel"in self&&(En=new BroadcastChannel("[Firebase] FID Change"),En.onmessage=C=>{lr(C.data.key,C.data.fid)}),En}();L&&L.postMessage({key:C,fid:x}),function zt(){0===yn.size&&En&&(En.close(),En=null)}()}(L,x)}function lr(C,x){const L=yn.get(C);if(L)for(const z of L)z(x)}let En=null;const Rn="firebase-installations-store";let Pr=null;function Es(){return Pr||(Pr=(0,ce.X3)("firebase-installations-database",1,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Rn)}})),Pr}function rn(C,x){return dr.apply(this,arguments)}function dr(){return(dr=(0,Y.Z)(function*(C,x){const L=wn(C),he=(yield Es()).transaction(Rn,"readwrite"),pe=he.objectStore(Rn),We=yield pe.get(L);return yield pe.put(x,L),yield he.done,(!We||We.fid!==x.fid)&&cr(C,x.fid),x})).apply(this,arguments)}function Ds(C){return si.apply(this,arguments)}function si(){return(si=(0,Y.Z)(function*(C){const x=wn(C),z=(yield Es()).transaction(Rn,"readwrite");yield z.objectStore(Rn).delete(x),yield z.done})).apply(this,arguments)}function oi(C,x){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,Y.Z)(function*(C,x){const L=wn(C),he=(yield Es()).transaction(Rn,"readwrite"),pe=he.objectStore(Rn),We=yield pe.get(L),at=x(We);return void 0===at?yield pe.delete(L):yield pe.put(at,L),yield he.done,at&&(!We||We.fid!==at.fid)&&cr(C,at.fid),at})).apply(this,arguments)}function Yn(C){return Or.apply(this,arguments)}function Or(){return(Or=(0,Y.Z)(function*(C){let x;const L=yield oi(C.appConfig,z=>{const he=dt(z),pe=Rt(C,he);return x=pe.registrationPromise,pe.installationEntry});return""===L.fid?{installationEntry:yield x}:{installationEntry:L,registrationPromise:x}})).apply(this,arguments)}function dt(C){return dn(C||{fid:Mt(),registrationStatus:0})}function Rt(C,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(_t.create("app-offline"))};const L={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},z=function Ot(C,x){return Bn.apply(this,arguments)}(C,L);return{installationEntry:L,registrationPromise:z}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Lr(C)}:{installationEntry:x}}function Bn(){return(Bn=(0,Y.Z)(function*(C,x){try{const L=yield ae(C,x);return rn(C.appConfig,L)}catch(L){throw ct(L)&&409===L.customData.serverCode?yield Ds(C.appConfig):yield rn(C.appConfig,{fid:x.fid,registrationStatus:0}),L}})).apply(this,arguments)}function Lr(C){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,Y.Z)(function*(C){let x=yield br(C.appConfig);for(;1===x.registrationStatus;)yield He(100),x=yield br(C.appConfig);if(0===x.registrationStatus){const{installationEntry:L,registrationPromise:z}=yield Yn(C);return z||L}return x})).apply(this,arguments)}function br(C){return oi(C,x=>{if(!x)throw _t.create("installation-not-found");return dn(x)})}function dn(C){return function Oi(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function An(C,x){return tr.apply(this,arguments)}function tr(){return(tr=(0,Y.Z)(function*({appConfig:C,heartbeatServiceProvider:x},L){const z=tt(C,L),he=de(C,L),pe=x.getImmediate({optional:!0});if(pe){const Pt=yield pe.getHeartbeatsHeader();Pt&&he.append("x-firebase-client",Pt)}const at={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:ge,appId:C.appId}})},lt=yield Pe(()=>fetch(z,at));if(lt.ok)return je(yield lt.json());throw yield be("Generate Auth Token",lt)})).apply(this,arguments)}function tt(C,{fid:x}){return`${Fe(C)}/${x}/authTokens:generate`}function $r(C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,Y.Z)(function*(C,x=!1){let L;const z=yield oi(C.appConfig,pe=>{if(!Xt(pe))throw _t.create("not-registered");const We=pe.authToken;if(!x&&ee(We))return pe;if(1===We.requestStatus)return L=ht(C,x),pe;{if(!navigator.onLine)throw _t.create("app-offline");const at=oe(pe);return L=Dt(C,at),at}});return L?yield L:z.authToken})).apply(this,arguments)}function ht(C,x){return Se.apply(this,arguments)}function Se(){return(Se=(0,Y.Z)(function*(C,x){let L=yield st(C.appConfig);for(;1===L.authToken.requestStatus;)yield He(100),L=yield st(C.appConfig);const z=L.authToken;return 0===z.requestStatus?$r(C,x):z})).apply(this,arguments)}function st(C){return oi(C,x=>{if(!Xt(x))throw _t.create("not-registered");return function Ve(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function Dt(C,x){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,Y.Z)(function*(C,x){try{const L=yield An(C,x),z=Object.assign(Object.assign({},x),{authToken:L});return yield rn(C.appConfig,z),L}catch(L){if(!ct(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const z=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield rn(C.appConfig,z)}else yield Ds(C.appConfig);throw L}})).apply(this,arguments)}function Xt(C){return void 0!==C&&2===C.registrationStatus}function ee(C){return 2===C.requestStatus&&!function Z(C){const x=Date.now();return x<C.creationTime||C.creationTime+C.expiresIn<x+36e5}(C)}function oe(C){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:x})}function gt(){return(gt=(0,Y.Z)(function*(C){const x=C,{installationEntry:L,registrationPromise:z}=yield Yn(x);return z?z.catch(console.error):$r(x).catch(console.error),L.fid})).apply(this,arguments)}function Sn(){return(Sn=(0,Y.Z)(function*(C,x=!1){const L=C;return yield Cr(L),(yield $r(L,x)).token})).apply(this,arguments)}function Cr(C){return nr.apply(this,arguments)}function nr(){return(nr=(0,Y.Z)(function*(C){const{registrationPromise:x}=yield Yn(C);x&&(yield x)})).apply(this,arguments)}function Xe(C){return _t.create("missing-app-config-values",{valueName:C})}const Gt="installations",Sr=C=>{const x=C.getProvider("app").getImmediate(),L=function Dn(C){if(!C||!C.options)throw Xe("App Configuration");if(!C.name)throw Xe("App Name");const x=["projectId","apiKey","appId"];for(const L of x)if(!C.options[L])throw Xe(L);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(x);return{app:x,appConfig:L,heartbeatServiceProvider:(0,fe.qX)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Js=C=>{const x=C.getProvider("app").getImmediate(),L=(0,fe.qX)(x,Gt).getImmediate();return{getId:()=>function Ee(C){return gt.apply(this,arguments)}(L),getToken:he=>function Ft(C){return Sn.apply(this,arguments)}(L,he)}};(function rr(){(0,fe.Xd)(new ve.wA(Gt,Sr,"PUBLIC")),(0,fe.Xd)(new ve.wA("installations-internal",Js,"PRIVATE"))})(),(0,fe.KN)(Re,q),(0,fe.KN)(Re,q,"esm2017");const or="@firebase/remote-config",Ir=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wr{constructor(x,L,z,he){this.client=x,this.storage=L,this.storageCache=z,this.logger=he}isCachedDataFresh(x,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-L,he=z<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${he}.`),he}fetch(x){var L=this;return(0,Y.Z)(function*(){const[z,he]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(he&&L.isCachedDataFresh(x.cacheMaxAgeMillis,z))return he;x.eTag=he&&he.eTag;const pe=yield L.client.fetch(x),We=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&We.push(L.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(We),pe})()}}function vi(C=navigator){return C.languages&&C.languages[0]||C.language}class go{constructor(x,L,z,he,pe,We){this.firebaseInstallations=x,this.sdkVersion=L,this.namespace=z,this.projectId=he,this.apiKey=pe,this.appId=We}fetch(x){var L=this;return(0,Y.Z)(function*(){const[z,he]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),We=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},lt={sdk_version:L.sdkVersion,app_instance_id:z,app_instance_id_token:he,app_id:L.appId,language_code:vi()},Pt={method:"POST",headers:at,body:JSON.stringify(lt)},un=fetch(We,Pt),Nt=new Promise((Mr,fi)=>{x.signal.addEventListener(()=>{const fu=new Error("The operation was aborted.");fu.name="AbortError",fi(fu)})});let Un;try{yield Promise.race([un,Nt]),Un=yield un}catch(Mr){let fi="fetch-client-network";throw"AbortError"===Mr?.name&&(fi="fetch-timeout"),Ir.create(fi,{originalErrorMessage:Mr?.message})}let Vr=Un.status;const Gn=Un.headers.get("ETag")||void 0;let wc,Ia;if(200===Un.status){let Mr;try{Mr=yield Un.json()}catch(fi){throw Ir.create("fetch-client-parse",{originalErrorMessage:fi?.message})}wc=Mr.entries,Ia=Mr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ia?Vr=500:"NO_CHANGE"===Ia?Vr=304:("NO_TEMPLATE"===Ia||"EMPTY_CONFIG"===Ia)&&(wc={}),304!==Vr&&200!==Vr)throw Ir.create("fetch-status",{httpStatus:Vr});return{status:Vr,eTag:Gn,config:wc}})()}}class _i{constructor(x,L){this.client=x,this.storage=L}fetch(x){var L=this;return(0,Y.Z)(function*(){const z=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(x,z)})()}attemptFetch(x,{throttleEndTimeMillis:L,backoffCount:z}){var he=this;return(0,Y.Z)(function*(){yield function Yr(C,x){return new Promise((L,z)=>{const he=Math.max(x-Date.now(),0),pe=setTimeout(L,he);C.addEventListener(()=>{clearTimeout(pe),z(Ir.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,L);try{const pe=yield he.client.fetch(x);return yield he.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function Fs(C){if(!(C instanceof J.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(pe))throw pe;const We={throttleEndTimeMillis:Date.now()+(0,J.$s)(z),backoffCount:z+1};return yield he.storage.setThrottleMetadata(We),he.attemptFetch(x,We)}})()}}class mo{constructor(x,L,z,he,pe){this.app=x,this._client=L,this._storageCache=z,this._storage=he,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ci(C,x){const L=C.target.error||void 0;return Ir.create(x,{originalErrorMessage:L&&L?.message})}const Si="app_namespace_store";class ia{constructor(x,L,z,he=function ra(){return new Promise((C,x)=>{try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=z=>{x(Ci(z,"storage-open"))},L.onsuccess=z=>{C(z.target.result)},L.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(Si,{keyPath:"compositeKey"})}}catch(L){x(Ir.create("storage-open",{originalErrorMessage:L?.message}))}})}()){this.appId=x,this.appName=L,this.namespace=z,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var L=this;return(0,Y.Z)(function*(){const z=yield L.openDbPromise;return new Promise((he,pe)=>{const at=z.transaction([Si],"readonly").objectStore(Si),lt=L.createCompositeKey(x);try{const Pt=at.get(lt);Pt.onerror=un=>{pe(Ci(un,"storage-get"))},Pt.onsuccess=un=>{const Nt=un.target.result;he(Nt?Nt.value:void 0)}}catch(Pt){pe(Ir.create("storage-get",{originalErrorMessage:Pt?.message}))}})})()}set(x,L){var z=this;return(0,Y.Z)(function*(){const he=yield z.openDbPromise;return new Promise((pe,We)=>{const lt=he.transaction([Si],"readwrite").objectStore(Si),Pt=z.createCompositeKey(x);try{const un=lt.put({compositeKey:Pt,value:L});un.onerror=Nt=>{We(Ci(Nt,"storage-set"))},un.onsuccess=()=>{pe()}}catch(un){We(Ir.create("storage-set",{originalErrorMessage:un?.message}))}})})()}delete(x){var L=this;return(0,Y.Z)(function*(){const z=yield L.openDbPromise;return new Promise((he,pe)=>{const at=z.transaction([Si],"readwrite").objectStore(Si),lt=L.createCompositeKey(x);try{const Pt=at.delete(lt);Pt.onerror=un=>{pe(Ci(un,"storage-delete"))},Pt.onsuccess=()=>{he()}}catch(Pt){pe(Ir.create("storage-delete",{originalErrorMessage:Pt?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class vo{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,Y.Z)(function*(){const L=x.storage.getLastFetchStatus(),z=x.storage.getLastSuccessfulFetchTimestampMillis(),he=x.storage.getActiveConfig(),pe=yield L;pe&&(x.lastFetchStatus=pe);const We=yield z;We&&(x.lastSuccessfulFetchTimestampMillis=We);const at=yield he;at&&(x.activeConfig=at)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Ss(){return _o.apply(this,arguments)}function _o(){return(_o=(0,Y.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch{return!1}})).apply(this,arguments)}!function Cs(){(0,fe.Xd)(new ve.wA("remote-config",function C(x,{instanceIdentifier:L}){const z=x.getProvider("app").getImmediate(),he=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ir.create("registration-window");if(!(0,J.hl)())throw Ir.create("indexed-db-unavailable");const{projectId:pe,apiKey:We,appId:at}=z.options;if(!pe)throw Ir.create("registration-project-id");if(!We)throw Ir.create("registration-api-key");if(!at)throw Ir.create("registration-app-id");const lt=new ia(at,z.name,L=L||"firebase"),Pt=new vo(lt),un=new Me.Yd(or);un.logLevel=Me.in.ERROR;const Nt=new go(he,fe.Jn,L,pe,We,at),Un=new _i(Nt,lt),Vr=new wr(Un,lt,Pt,un),Gn=new mo(z,Vr,Pt,lt,un);return function kn(C){const x=(0,J.m9)(C);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Gn),Gn},"PUBLIC").setMultipleInstances(!0)),(0,fe.KN)(or,"0.4.0"),(0,fe.KN)(or,"0.4.0","esm2017")}();const hs="/firebase-messaging-sw.js",jn="/firebase-cloud-messaging-push-scope",sa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ur="google.c.a.c_id",Uo="google.c.a.c_l",Io="google.c.a.ts",Bu="google.c.a.e";var eo=(()=>{return(C=eo||(eo={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",eo;var C})();function Qr(C){const x=new Uint8Array(C);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yi(C){const L=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(L),he=new Uint8Array(z.length);for(let pe=0;pe<z.length;++pe)he[pe]=z.charCodeAt(pe);return he}const Qi="fcm_token_details_db",oa="fcm_token_object_Store";function Vo(C){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,Y.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Qi))return null;let x=null;return(yield(0,ce.X3)(Qi,5,{upgrade:(z=(0,Y.Z)(function*(he,pe,We,at){var lt;if(pe<2||!he.objectStoreNames.contains(oa))return;const Pt=at.objectStore(oa),un=yield Pt.index("fcmSenderId").get(C);if(yield Pt.clear(),un)if(2===pe){const Nt=un;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;x={token:Nt.fcmToken,createTime:null!==(lt=Nt.createTime)&&void 0!==lt?lt:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:Qr(Nt.vapidKey)}}}else if(3===pe){const Nt=un;x={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Qr(Nt.auth),p256dh:Qr(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Qr(Nt.vapidKey)}}}else if(4===pe){const Nt=un;x={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Qr(Nt.auth),p256dh:Qr(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Qr(Nt.vapidKey)}}}}),function(pe,We,at,lt){return z.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Qi),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),ui(x)?x:null;var z}),Xi.apply(this,arguments)}function ui(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:x}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Xr="firebase-messaging-store";let fs=null;function to(){return fs||(fs=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Xr)}})),fs}function Eo(C){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,Y.Z)(function*(C){const x=Gr(C),z=yield(yield to()).transaction(Xr).objectStore(Xr).get(x);if(z)return z;{const he=yield Vo(C.appConfig.senderId);if(he)return yield Jt(C,he),he}})).apply(this,arguments)}function Jt(C,x){return $o.apply(this,arguments)}function $o(){return($o=(0,Y.Z)(function*(C,x){const L=Gr(C),he=(yield to()).transaction(Xr,"readwrite");return yield he.objectStore(Xr).put(x,L),yield he.done,x})).apply(this,arguments)}function Do(C){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,Y.Z)(function*(C){const x=Gr(C),z=(yield to()).transaction(Xr,"readwrite");yield z.objectStore(Xr).delete(x),yield z.done})).apply(this,arguments)}function Gr({appConfig:C}){return C.appId}const Jn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ji(C,x){return Er.apply(this,arguments)}function Er(){return(Er=(0,Y.Z)(function*(C,x){const L=yield Fn(C),z=js(x),he={method:"POST",headers:L,body:JSON.stringify(z)};let pe;try{pe=yield(yield fetch($s(C.appConfig),he)).json()}catch(We){throw Jn.create("token-subscribe-failed",{errorInfo:We?.toString()})}if(pe.error)throw Jn.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw Jn.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function no(C,x){return mr.apply(this,arguments)}function mr(){return(mr=(0,Y.Z)(function*(C,x){const L=yield Fn(C),z=js(x.subscriptionOptions),he={method:"PATCH",headers:L,body:JSON.stringify(z)};let pe;try{pe=yield(yield fetch(`${$s(C.appConfig)}/${x.token}`,he)).json()}catch(We){throw Jn.create("token-update-failed",{errorInfo:We?.toString()})}if(pe.error)throw Jn.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw Jn.create("token-update-no-token");return pe.token})).apply(this,arguments)}function Bs(C,x){return yr.apply(this,arguments)}function yr(){return(yr=(0,Y.Z)(function*(C,x){const z={method:"DELETE",headers:yield Fn(C)};try{const pe=yield(yield fetch(`${$s(C.appConfig)}/${x}`,z)).json();if(pe.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(he){throw Jn.create("token-unsubscribe-failed",{errorInfo:he?.toString()})}})).apply(this,arguments)}function $s({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Fn(C){return $t.apply(this,arguments)}function $t(){return($t=(0,Y.Z)(function*({appConfig:C,installations:x}){const L=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function js({p256dh:C,auth:x,endpoint:L,vapidKey:z}){const he={web:{endpoint:L,auth:x,p256dh:C}};return z!==sa&&(he.web.applicationPubKey=z),he}const yc=6048e5;function Na(C){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,Y.Z)(function*(C){const x=yield aa(C.swRegistration,C.vapidKey),L={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:x.endpoint,auth:Qr(x.getKey("auth")),p256dh:Qr(x.getKey("p256dh"))},z=yield Eo(C.firebaseDependencies);if(z){if(ir(z.subscriptionOptions,L))return Date.now()>=z.createTime+yc?Pa(C,{token:z.token,createTime:Date.now(),subscriptionOptions:L}):z.token;try{yield Bs(C.firebaseDependencies,z.token)}catch(he){console.warn(he)}return Oe(C.firebaseDependencies,L)}return Oe(C.firebaseDependencies,L)})).apply(this,arguments)}function As(C){return xs.apply(this,arguments)}function xs(){return(xs=(0,Y.Z)(function*(C){const x=yield Eo(C.firebaseDependencies);x&&(yield Bs(C.firebaseDependencies,x.token),yield Do(C.firebaseDependencies));const L=yield C.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()})).apply(this,arguments)}function Pa(C,x){return es.apply(this,arguments)}function es(){return(es=(0,Y.Z)(function*(C,x){try{const L=yield no(C.firebaseDependencies,x),z=Object.assign(Object.assign({},x),{token:L,createTime:Date.now()});return yield Jt(C.firebaseDependencies,z),L}catch(L){throw yield As(C),L}})).apply(this,arguments)}function Oe(C,x){return on.apply(this,arguments)}function on(){return(on=(0,Y.Z)(function*(C,x){const z={token:yield Ji(C,x),createTime:Date.now(),subscriptionOptions:x};return yield Jt(C,z),z.token})).apply(this,arguments)}function aa(C,x){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,Y.Z)(function*(C,x){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yi(x)})})).apply(this,arguments)}function ir(C,x){return x.vapidKey===C.vapidKey&&x.endpoint===C.endpoint&&x.auth===C.auth&&x.p256dh===C.p256dh}function Rs(C){const x={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function ts(C,x){if(!x.notification)return;C.notification={};const L=x.notification.title;L&&(C.notification.title=L);const z=x.notification.body;z&&(C.notification.body=z);const he=x.notification.image;he&&(C.notification.image=he);const pe=x.notification.icon;pe&&(C.notification.icon=pe)}(x,C),function Jr(C,x){!x.data||(C.data=x.data)}(x,C),function Ho(C,x){var L,z,he,pe,We;if(!(x.fcmOptions||null!==(L=x.notification)&&void 0!==L&&L.click_action))return;C.fcmOptions={};const at=null!==(he=null===(z=x.fcmOptions)||void 0===z?void 0:z.link)&&void 0!==he?he:null===(pe=x.notification)||void 0===pe?void 0:pe.click_action;at&&(C.fcmOptions.link=at);const lt=null===(We=x.fcmOptions)||void 0===We?void 0:We.analytics_label;lt&&(C.fcmOptions.analyticsLabel=lt)}(x,C),x}function ps(C){return"object"==typeof C&&!!C&&Ur in C}function Oa(C,x){const L=[];for(let z=0;z<C.length;z++)L.push(C.charAt(z)),z<x.length&&L.push(x.charAt(z));return L.join("")}function Hs(C){return Jn.create("missing-app-config-values",{valueName:C})}Oa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ru{constructor(x,L,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function To(C){if(!C||!C.options)throw Hs("App Configuration Object");if(!C.name)throw Hs("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:L}=C;for(const z of x)if(!L[z])throw Hs(z);return{appName:C.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:he,installations:L,analyticsProvider:z}}_delete(){return Promise.resolve()}}function ei(C){return ci.apply(this,arguments)}function ci(){return(ci=(0,Y.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(hs,{scope:jn}),C.swRegistration.update().catch(()=>{})}catch(x){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function Go(C,x){return ns.apply(this,arguments)}function ns(){return(ns=(0,Y.Z)(function*(C,x){if(!x&&!C.swRegistration&&(yield ei(C)),x||!C.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");C.swRegistration=x}})).apply(this,arguments)}function Bi(C,x){return ro.apply(this,arguments)}function ro(){return(ro=(0,Y.Z)(function*(C,x){x?C.vapidKey=x:C.vapidKey||(C.vapidKey=sa)})).apply(this,arguments)}function $i(){return($i=(0,Y.Z)(function*(C,x){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield Bi(C,x?.vapidKey),yield Go(C,x?.serviceWorkerRegistration),Na(C)})).apply(this,arguments)}function $u(C,x,L){return gs.apply(this,arguments)}function gs(){return(gs=(0,Y.Z)(function*(C,x,L){const z=zo(x);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:L[Ur],message_name:L[Uo],message_time:L[Io],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zo(C){switch(C){case eo.NOTIFICATION_CLICKED:return"notification_open";case eo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function N(){return(N=(0,Y.Z)(function*(C,x){const L=x.data;if(!L.isFirebaseMessaging)return;C.onMessageHandler&&L.messageType===eo.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Rs(L)):C.onMessageHandler.next(Rs(L)));const z=L.data;ps(z)&&"1"===z[Bu]&&(yield $u(C,L.messageType,z))})).apply(this,arguments)}const S="@firebase/messaging",V="0.12.0",re=C=>{const x=new ru(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function T(C,x){return N.apply(this,arguments)}(x,L)),x},Ce=C=>{const x=C.getProvider("messaging").getImmediate();return{getToken:z=>function La(C,x){return $i.apply(this,arguments)}(x,z)}};function yt(){return an.apply(this,arguments)}function an(){return(an=(0,Y.Z)(function*(){try{yield(0,J.eu)()}catch{return!1}return typeof window<"u"&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Be(){(0,fe.Xd)(new ve.wA("messaging",re,"PUBLIC")),(0,fe.Xd)(new ve.wA("messaging-internal",Ce,"PRIVATE")),(0,fe.KN)(S,V),(0,fe.KN)(S,V,"esm2017")}();const ti="analytics",li="firebase_id",Ze="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ar="https://www.googletagmanager.com/gtag/js",Qn=new Me.Yd("@firebase/analytics");function rs(C){return Promise.all(C.map(x=>x.catch(L=>L)))}function vt(C,x){const L=document.createElement("script");L.src=`${ar}?l=${C}&id=${x}`,L.async=!0,document.head.appendChild(L)}function so(C,x,L,z,he,pe){return ut.apply(this,arguments)}function ut(){return(ut=(0,Y.Z)(function*(C,x,L,z,he,pe){const We=z[he];try{if(We)yield x[We];else{const lt=(yield rs(L)).find(Pt=>Pt.measurementId===he);lt&&(yield x[lt.appId])}}catch(at){Qn.error(at)}C("config",he,pe)})).apply(this,arguments)}function xe(C,x,L,z,he){return ze.apply(this,arguments)}function ze(){return(ze=(0,Y.Z)(function*(C,x,L,z,he){try{let pe=[];if(he&&he.send_to){let We=he.send_to;Array.isArray(We)||(We=[We]);const at=yield rs(L);for(const lt of We){const Pt=at.find(Nt=>Nt.measurementId===lt),un=Pt&&x[Pt.appId];if(!un){pe=[];break}pe.push(un)}}0===pe.length&&(pe=Object.values(x)),yield Promise.all(pe),C("event",z,he||{})}catch(pe){Qn.error(pe)}})).apply(this,arguments)}function su(C){const x=window.document.getElementsByTagName("script");for(const L of Object.values(x))if(L.src&&L.src.includes(ar)&&L.src.includes(C))return L;return null}const ms=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),au=new class ju{constructor(x={},L=1e3){this.throttleMetadata=x,this.intervalMillis=L}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,L){this.throttleMetadata[x]=L}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function uu(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ua(C){return ca.apply(this,arguments)}function ca(){return(ca=(0,Y.Z)(function*(C){var x;const{appId:L,apiKey:z}=C,he={method:"GET",headers:uu(z)},pe=Ze.replace("{app-id}",L),We=yield fetch(pe,he);if(200!==We.status&&304!==We.status){let at="";try{const lt=yield We.json();null!==(x=lt.error)&&void 0!==x&&x.message&&(at=lt.error.message)}catch{}throw ms.create("config-fetch-failed",{httpStatus:We.status,responseMessage:at})}return We.json()})).apply(this,arguments)}function Ht(C){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,Y.Z)(function*(C,x=au,L){const{appId:z,apiKey:he,measurementId:pe}=C.options;if(!z)throw ms.create("no-app-id");if(!he){if(pe)return{measurementId:pe,appId:z};throw ms.create("no-api-key")}const We=x.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new mn;return setTimeout((0,Y.Z)(function*(){at.abort()}),void 0!==L?L:6e4),bo({appId:z,apiKey:he,measurementId:pe},We,at,x)})).apply(this,arguments)}function bo(C,x,L){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,Y.Z)(function*(C,{throttleEndTimeMillis:x,backoffCount:L},z,he=au){var pe;const{appId:We,measurementId:at}=C;try{yield At(z,x)}catch(lt){if(at)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${lt?.message}]`),{appId:We,measurementId:at};throw lt}try{const lt=yield ua(C);return he.deleteThrottleMetadata(We),lt}catch(lt){const Pt=lt;if(!la(Pt)){if(he.deleteThrottleMetadata(We),at)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:We,measurementId:at};throw lt}const un=503===Number(null===(pe=Pt?.customData)||void 0===pe?void 0:pe.httpStatus)?(0,J.$s)(L,he.intervalMillis,30):(0,J.$s)(L,he.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+un,backoffCount:L+1};return he.setThrottleMetadata(We,Nt),Qn.debug(`Calling attemptFetch again in ${un} millis`),bo(C,Nt,z,he)}})).apply(this,arguments)}function At(C,x){return new Promise((L,z)=>{const he=Math.max(x-Date.now(),0),pe=setTimeout(L,he);C.addEventListener(()=>{clearTimeout(pe),z(ms.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function la(C){if(!(C instanceof J.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}class mn{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Co,pa;function nt(){return(nt=(0,Y.Z)(function*(C,x,L,z,he){if(he&&he.global)C("event",L,z);else{const pe=yield x;C("event",L,Object.assign(Object.assign({},z),{send_to:pe}))}})).apply(this,arguments)}function Tn(C){pa=C}function Ua(C){Co=C}function ga(){return So.apply(this,arguments)}function So(){return(So=(0,Y.Z)(function*(){if(!(0,J.hl)())return Qn.warn(ms.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(C){return Qn.warn(ms.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Va(){return(Va=(0,Y.Z)(function*(C,x,L,z,he,pe,We){var at;const lt=Ht(C);lt.then(Vr=>{L[Vr.measurementId]=Vr.appId,C.options.measurementId&&Vr.measurementId!==C.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Vr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vr=>Qn.error(Vr)),x.push(lt);const Pt=ga().then(Vr=>{if(Vr)return z.getId()}),[un,Nt]=yield Promise.all([lt,Pt]);su(pe)||vt(pe,un.measurementId),pa&&(he("consent","default",pa),Tn(void 0)),he("js",new Date);const Un=null!==(at=We?.config)&&void 0!==at?at:{};return Un.origin="firebase",Un.update=!0,null!=Nt&&(Un[li]=Nt),he("config",un.measurementId,Un),Co&&(he("set",Co),Ua(void 0)),un.measurementId})).apply(this,arguments)}class Te{constructor(x){this.app=x}_delete(){return delete xi[this.app.options.appId],Promise.resolve()}}let xi={},di=[];const vc={};let cu,Ar,Ws="dataLayer",qo=!1;function vs(C,x,L){!function ys(){const C=[];if((0,J.ru)()&&C.push("This is a browser extension environment."),(0,J.zI)()||C.push("Cookies are not available."),C.length>0){const x=C.map((z,he)=>`(${he+1}) ${z}`).join(" "),L=ms.create("invalid-analytics-context",{errorInfo:x});Qn.warn(L.message)}}();const z=C.options.appId;if(!z)throw ms.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ms.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xi[z])throw ms.create("already-exists",{id:z});if(!qo){!function St(C){let x=[];Array.isArray(window[C])?x=window[C]:window[C]=x}(Ws);const{wrappedGtag:pe,gtagCore:We}=function Fa(C,x,L,z,he){let pe=function(...We){window[z].push(arguments)};return window[he]&&"function"==typeof window[he]&&(pe=window[he]),window[he]=function er(C,x,L,z){function pe(){return(pe=(0,Y.Z)(function*(We,at,lt){try{"event"===We?yield xe(C,x,L,at,lt):"config"===We?yield so(C,x,L,z,at,lt):"consent"===We?C("consent","update",lt):C("set",at)}catch(Pt){Qn.error(Pt)}})).apply(this,arguments)}return function he(We,at,lt){return pe.apply(this,arguments)}}(pe,C,x,L),{gtagCore:pe,wrappedGtag:window[he]}}(xi,di,vc,Ws,"gtag");Ar=pe,cu=We,qo=!0}return xi[z]=function Ai(C,x,L,z,he,pe,We){return Va.apply(this,arguments)}(C,di,vc,x,cu,Ws,L),new Te(C)}function ji(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,Y.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch{return!1}})).apply(this,arguments)}const ud="@firebase/analytics";!function Zn(){(0,fe.Xd)(new ve.wA(ti,(x,{options:L})=>vs(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,fe.Xd)(new ve.wA("analytics-internal",function C(x){try{const L=x.getProvider(ti).getImmediate();return{logEvent:(z,he,pe)=>function ad(C,x,L,z){C=(0,J.m9)(C),function vr(C,x,L,z,he){return nt.apply(this,arguments)}(Ar,xi[C.app.options.appId],x,L,z).catch(he=>Qn.error(he))}(L,z,he,pe)}}catch(L){throw ms.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,fe.KN)(ud,"0.9.0"),(0,fe.KN)(ud,"0.9.0","esm2017")}();var ma=$(727);class ja extends ma.w0{constructor(x,L){super()}schedule(x,L=0){return this}}const _r={setInterval(C,x,...L){const{delegate:z}=_r;return z?.setInterval?z.setInterval(C,x,...L):setInterval(C,x,...L)},clearInterval(C){const{delegate:x}=_r;return(x?.clearInterval||clearInterval)(C)},delegate:void 0};var Ks=$(8737);class ss extends ja{constructor(x,L){super(x,L),this.scheduler=x,this.work=L,this.pending=!1}schedule(x,L=0){var z;if(this.closed)return this;this.state=x;const he=this.id,pe=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(pe,he,L)),this.pending=!0,this.delay=L,this.id=null!==(z=this.id)&&void 0!==z?z:this.requestAsyncId(pe,this.id,L),this}requestAsyncId(x,L,z=0){return _r.setInterval(x.flush.bind(x,this),z)}recycleAsyncId(x,L,z=0){if(null!=z&&this.delay===z&&!1===this.pending)return L;null!=L&&_r.clearInterval(L)}execute(x,L){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const z=this._execute(x,L);if(z)return z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,L){let he,z=!1;try{this.work(x)}catch(pe){z=!0,he=pe||new Error("Scheduled action threw falsy error")}if(z)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:x,scheduler:L}=this,{actions:z}=L;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ks.P)(z,this),null!=x&&(this.id=this.recycleAsyncId(L,x,null)),this.delay=null,super.unsubscribe()}}}var Zs=$(6063);class Hn{constructor(x,L=Hn.now){this.schedulerActionCtor=x,this.now=L}schedule(x,L=0,z){return new this.schedulerActionCtor(this,x).schedule(z,L)}}Hn.now=Zs.l.now;class Hi extends Hn{constructor(x,L=Hn.now){super(x,L),this.actions=[],this._active=!1}flush(x){const{actions:L}=this;if(this._active)return void L.push(x);let z;this._active=!0;do{if(z=x.execute(x.state,x.delay))break}while(x=L.shift());if(this._active=!1,z){for(;x=L.shift();)x.unsubscribe();throw z}}}const v=new class Ps extends Hi{}(class ya extends ss{constructor(x,L){super(x,L),this.scheduler=x,this.work=L}schedule(x,L=0){return L>0?super.schedule(x,L):(this.delay=L,this.state=x,this.scheduler.flush(this),this)}execute(x,L){return L>0||this.closed?super.execute(x,L):this._execute(x,L)}requestAsyncId(x,L,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(x,L,z):(x.flush(this),0)}}),y=new Hi(ss);var M=$(9751),F=$(8505),K=$(9468),X=$(5363);const De=new A.GfV("7.5.0"),rt="__angularfire_symbol__analyticsIsSupportedValue",Lt="__angularfire_symbol__analyticsIsSupported",It="__angularfire_symbol__remoteConfigIsSupportedValue",bn="__angularfire_symbol__remoteConfigIsSupported",hi="__angularfire_symbol__messagingIsSupportedValue",Mi="__angularfire_symbol__messagingIsSupported";function pn(C,x,L){if(x){if(1===x.length)return x[0];const pe=x.filter(We=>We.app===L);if(1===pe.length)return pe[0]}return L.container.getProvider(C).getImmediate({optional:!0})}globalThis[Lt]||(globalThis[Lt]=ji().then(C=>globalThis[rt]=C).catch(()=>globalThis[rt]=!1)),globalThis[Mi]||(globalThis[Mi]=yt().then(C=>globalThis[hi]=C).catch(()=>globalThis[hi]=!1)),globalThis[bn]||(globalThis[bn]=Ss().then(C=>globalThis[It]=C).catch(()=>globalThis[It]=!1));const xn=(C,x)=>{const L=x?[x]:(0,H.C6)(),z=[];return L.forEach(he=>{he.container.getProvider(C).instances.forEach(We=>{z.includes(We)||z.push(We)})}),z};function Os(){}class uo{constructor(x,L=v){this.zone=x,this.delegate=L}now(){return this.delegate.now()}schedule(x,L,z){const he=this.zone;return this.delegate.schedule(function(We){he.runGuarded(()=>{x.apply(this,[We])})},L,z)}}class _c{constructor(x){this.zone=x,this.task=null}call(x,L){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)),L.pipe((0,F.b)({next:z,complete:z,error:z})).subscribe(x).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let du=(()=>{class C{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new uo(Zone.current)),this.insideAngular=L.run(()=>new uo(Zone.current,y)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(L){return new(L||C)(A.LFG(A.R0b))},C.\u0275prov=A.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function xo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ic(C){return xo().ngZone.runOutsideAngular(()=>C())}function _a(C){return xo().ngZone.run(()=>C())}function hu(C){return xo(),function cd(C){return function(L){return(L=L.lift(new _c(C.ngZone))).pipe((0,K.R)(C.outsideAngular),(0,X.Q)(C.insideAngular))}}(xo())(C)}const Dr=(C,x)=>function(){const z=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),_a(()=>C.apply(void 0,z))},ld=(C,x)=>function(){let L;const z=arguments;for(let pe=0;pe<arguments.length;pe++)"function"==typeof z[pe]&&(x&&(L||(L=_a(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)))),z[pe]=Dr(z[pe],L));const he=Ic(()=>C.apply(this,z));if(!x){if(he instanceof M.y){const pe=xo();return he.pipe((0,K.R)(pe.outsideAngular),(0,X.Q)(pe.insideAngular))}return _a(()=>he)}return he instanceof M.y?he.pipe(hu):he instanceof Promise?_a(()=>new Promise((pe,We)=>he.then(at=>_a(()=>pe(at)),at=>_a(()=>We(at))))):"function"==typeof he&&L?function(){return setTimeout(()=>{L&&"scheduled"===L.state&&L.invoke()},10),he.apply(this,arguments)}:_a(()=>he)}},5525:(xt,Ne,$)=>{$.d(Ne,{ET:()=>hv,hJ:()=>g_,JU:()=>zy,ad:()=>lh,cf:()=>fv});var ce,A=$(5861),H=$(9681),Y=$(4859),fe=$(1877),J=$(2090),ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={},Re=Re||{},q=ve||self;function ne(){}function ge(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function $e(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ot="closure_uid_"+(1e9*Math.random()>>>0),ft=0;function Et(i,e,t){return i.call.apply(i.bind,arguments)}function mt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function _t(i,e,t){return(_t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Et:mt).apply(null,arguments)}function ct(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Fe(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,d){for(var p=Array(arguments.length-2),E=2;E<arguments.length;E++)p[E-2]=arguments[E];return e.prototype[u].apply(o,p)}}function je(){this.s=this.s,this.o=this.o}je.prototype.s=!1,je.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ae(i){Object.prototype.hasOwnProperty.call(i,ot)&&i[ot]||(i[ot]=++ft)}(this)},je.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const it=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function qe(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function de(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ge(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let p=0;p<d;p++)i[u+p]=o[p]}else i.push(o)}}function Pe(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{q.addEventListener("test",ne,e),q.removeEventListener("test",ne,e)}catch{}return i}();function Q(i){return/^[\s\xa0]*$/.test(i)}var we=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ae(i,e){return i<e?-1:i>e?1:0}function Ke(){var i=q.navigator;return i&&(i=i.userAgent)?i:""}function He(i){return-1!=Ke().indexOf(i)}function Ct(i){return Ct[" "](i),i}Ct[" "]=ne;var Pn,i,cn=He("Opera"),Mt=He("Trident")||He("MSIE"),Yt=He("Edge"),wn=Yt||Mt,yn=He("Gecko")&&!(-1!=Ke().toLowerCase().indexOf("webkit")&&!He("Edge"))&&!(He("Trident")||He("MSIE"))&&!He("Edge"),cr=-1!=Ke().toLowerCase().indexOf("webkit")&&!He("Edge");function sr(){var i=q.document;return i?i.documentMode:void 0}e:{var lr="",sn=(i=Ke(),yn?/rv:([^\);]+)(\)|;)/.exec(i):Yt?/Edge\/([\d\.]+)/.exec(i):Mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):cr?/WebKit\/(\S+)/.exec(i):cn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(sn&&(lr=sn?sn[1]:""),Mt){var En=sr();if(null!=En&&En>parseFloat(lr)){Pn=String(En);break e}}Pn=lr}var Mn={};var Rn=q.document&&Mt&&(sr()||parseInt(Pn,10))||void 0;function Pr(i,e){if(Pe.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(yn){e:{try{Ct(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Es[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Pr.X.h.call(this)}}Fe(Pr,Pe);var Es={2:"touch",3:"pen",4:"mouse"};Pr.prototype.h=function(){Pr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var rn="closure_listenable_"+(1e6*Math.random()|0),dr=0;function Ds(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++dr,this.ba=this.ea=!1}function si(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function oi(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Ln(i){const e={};for(const t in i)e[t]=i[t];return e}const Yn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Or(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<Yn.length;d++)t=Yn[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function dt(i){this.src=i,this.g={},this.h=0}function Rt(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=it(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(si(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ot(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==o)return u}return-1}dt.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var p=Ot(i,e,o,u);return-1<p?(e=i[p],t||(e.ea=!1)):((e=new Ds(e,this.src,d,!!o,u)).ea=t,i.push(e)),e};var Bn="closure_lm_"+(1e6*Math.random()|0),Lr={};function Cn(i,e,t,o,u){if(o&&o.once)return Oi(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Cn(i,e[d],t,o,u);return null}return t=Se(t),i&&i[rn]?i.N(e,t,$e(o)?!!o.capture:!!o,u):br(i,e,t,!1,o,u)}function br(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var p=$e(u)?!!u.capture:!!u,E=Kr(i);if(E||(i[Bn]=E=new dt(i)),(t=E.add(e,t,o,p,d)).proxy)return t;if(o=function dn(){const e=$r;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)le||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(tt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Oi(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Oi(i,e[d],t,o,u);return null}return t=Se(t),i&&i[rn]?i.O(e,t,$e(o)?!!o.capture:!!o,u):br(i,e,t,!0,o,u)}function An(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)An(i,e[d],t,o,u);else o=$e(o)?!!o.capture:!!o,t=Se(t),i&&i[rn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ot(d=i.g[e],t,o,u))&&(si(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Kr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ot(e,t,o,u)),(t=-1<i?e[i]:null)&&tr(t))}function tr(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[rn])Rt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(tt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Kr(e))?(Rt(t,i),0==t.h&&(t.src=null,e[Bn]=null)):si(i)}}}function tt(i){return i in Lr?Lr[i]:Lr[i]="on"+i}function $r(i,e){if(i.ba)i=!0;else{e=new Pr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&tr(i),i=t.call(o,e)}return i}function Kr(i){return(i=i[Bn])instanceof dt?i:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(i){return"function"==typeof i?i:(i[ht]||(i[ht]=function(e){return i.handleEvent(e)}),i[ht])}function st(){je.call(this),this.i=new dt(this),this.P=this,this.I=null}function Dt(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Pe(e,i);else if(e instanceof Pe)e.target=e.target||i;else{var u=e;Or(e=new Pe(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var p=e.g=t[d];u=Kt(p,o,!0,e)&&u}if(u=Kt(p=e.g=i,o,!0,e)&&u,u=Kt(p,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=Kt(p=e.g=t[d],o,!1,e)&&u}function Kt(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.ba&&p.capture==t){var E=p.listener,R=p.ha||p.src;p.ea&&Rt(i.i,p),u=!1!==E.call(R,o)&&u}}return u&&!o.defaultPrevented}Fe(st,je),st.prototype[rn]=!0,st.prototype.removeEventListener=function(i,e,t,o){An(this,i,e,t,o)},st.prototype.M=function(){if(st.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)si(t[o]);delete i.g[e],i.h--}}this.I=null},st.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},st.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Xt=q.JSON.stringify;function ee(){var i=nr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ft,oe=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ve,i=>i.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ee(i){q.setTimeout(()=>{throw i},0)}function gt(i,e){Ft||function Sn(){var i=q.Promise.resolve(void 0);Ft=function(){i.then(me)}}(),Cr||(Ft(),Cr=!0),nr.add(i,e)}var Cr=!1,nr=new class Z{constructor(){this.h=this.g=null}add(e,t){const o=oe.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function me(){for(var i;i=ee();){try{i.h.call(i.g)}catch(t){Ee(t)}var e=oe;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Cr=!1}function te(i,e){st.call(this),this.h=i||1,this.g=e||q,this.j=_t(this.lb,this),this.l=Date.now()}function W(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function ye(i,e,t){if("function"==typeof i)t&&(i=_t(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=_t(i.handleEvent,i)}return 2147483647<Number(e)?-1:q.setTimeout(i,e||0)}function ke(i){i.g=ye(()=>{i.g=null,i.i&&(i.i=!1,ke(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Fe(te,st),(ce=te.prototype).ca=!1,ce.R=null,ce.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Dt(this,"tick"),this.ca&&(W(this),this.start()))}},ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){te.X.M.call(this),W(this),delete this.g};class kt extends je{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ke(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ut(i){je.call(this),this.h=i,this.g={}}Fe(Ut,je);var Dn=[];function Xe(i,e,t,o){Array.isArray(t)||(t&&(Dn[0]=t.toString()),t=Dn);for(var u=0;u<t.length;u++){var d=Cn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Gt(i){oi(i.g,function(e,t){this.g.hasOwnProperty(t)&&tr(e)},i),i.g={}}function gn(){this.g=!0}function rr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<u.length;p++)u[p]=""}}}return Xt(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Ut.prototype.M=function(){Ut.X.M.call(this),Gt(this)},Ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gn.prototype.Aa=function(){this.g=!1},gn.prototype.info=function(){};var Fr={},mi=null;function Bt(){return mi=mi||new st}function Ir(i){Pe.call(this,Fr.Pa,i)}function Li(i){const e=Bt();Dt(e,new Ir(e))}function Lo(i,e){Pe.call(this,Fr.STAT_EVENT,i),this.stat=e}function $n(i){const e=Bt();Dt(e,new Lo(e,i))}function hr(i,e){Pe.call(this,Fr.Qa,i),this.size=e}function Fi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){i()},e)}Fr.Pa="serverreachability",Fe(Ir,Pe),Fr.STAT_EVENT="statevent",Fe(Lo,Pe),Fr.Qa="timingevent",Fe(hr,Pe);var ai={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},bi={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function yi(){}function kn(){}yi.prototype.h=null;var ds,qi={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ts(){Pe.call(this,"d")}function bs(){Pe.call(this,"c")}function Zr(){}function Ui(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new Ut(this),this.O=fr,this.T=new te(i=wn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}Fe(Ts,Pe),Fe(bs,Pe),Fe(Zr,yi),Zr.prototype.g=function(){return new XMLHttpRequest},Zr.prototype.i=function(){return{}},ds=new Zr;var fr=45e3,Fo={},wr={};function vi(i,e,t){i.K=1,i.v=sa(wi(e)),i.s=t,i.P=!0,go(i,null)}function go(i,e){i.F=Date.now(),Ii(i),i.A=wi(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Vo(t.i,"t",o),i.C=0,t=i.l.H,i.h=new jr,i.g=zo(i.l,t?e:null,!i.s),0<i.N&&(i.L=new kt(_t(i.La,i,i.g),i.N)),Xe(i.S,i.g,"readystatechange",i.ib),e=i.H?Ln(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Li(),function Sr(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var p="",E=d.split("&"),R=0;R<E.length;R++){var O=E[R].split("=");if(1<O.length){var j=O[0];O=O[1];var ie=j.split("_");p=2<=ie.length&&"type"==ie[1]?p+(j+"=")+O+"&":p+(j+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+p})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Yr(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Fs(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=_i(i,t),u==wr){4==e&&(i.o=4,$n(14),o=!1),rr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Fo){i.o=4,$n(15),rr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}rr(i.j,i.m,u,null),yo(i,u)}Yr(i)&&u!=wr&&u!=Fo&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,$n(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Go(e),e.K=!0,$n(11))):(rr(i.j,i.m,t,"[Invalid Chunked Response]"),Si(i),Ci(i))}function _i(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?wr:(t=Number(e.substring(t,o)),isNaN(t)?Fo:(o+=1)+t>e.length?wr:(e=e.substr(o,t),i.C=o+t,e))}function Ii(i){i.V=Date.now()+i.O,na(i,i.O)}function na(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Fi(_t(i.gb,i),e)}function mo(i){i.B&&(q.clearTimeout(i.B),i.B=null)}function Ci(i){0==i.l.G||i.I||ro(i.l,i)}function Si(i){mo(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,W(i.T),Gt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function yo(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Eo(t.h,i)))if(!i.J&&Eo(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Bi(t),Jr(t)}ci(t),$n(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=Fi(_t(t.cb,t),6e3));if(1>=to(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else $i(t,11)}else if((i.J||t.g==i)&&Bi(t),!Q(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let O=u[e];if(t.T=O[0],O=O[1],2==t.G)if("c"==O[0]){t.I=O[1],t.ka=O[2];const j=O[3];null!=j&&(t.ma=j,t.j.info("VER="+t.ma));const ie=O[4];null!=ie&&(t.Ca=ie,t.j.info("SVER="+t.Ca));const Ie=O[5];null!=Ie&&"number"==typeof Ie&&0<Ie&&(t.J=o=1.5*Ie,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ge=i.g;if(Ge){const Qe=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qe){var d=o.h;d.g||-1==Qe.indexOf("spdy")&&-1==Qe.indexOf("quic")&&-1==Qe.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Bo(d,d.h),d.h=null))}if(o.D){const wt=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;wt&&(o.za=wt,jn(o.F,o.D,wt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var p=i;if((o=t).sa=gs(o,o.H?o.ka:null,o.V),p.J){Jt(o.h,p);var E=p,R=o.J;R&&E.setTimeout(R),E.B&&(mo(E),Ii(E)),o.g=p}else ei(o);0<t.i.length&&ps(t)}else"stop"!=O[0]&&"close"!=O[0]||$i(t,7);else 3==t.G&&("stop"==O[0]||"close"==O[0]?"stop"==O[0]?$i(t,7):ts(t):"noop"!=O[0]&&t.l&&t.l.wa(O),t.A=0)}Li()}catch{}}function ia(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ge(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ra(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ge(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Vu(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ge(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}(ce=Ui.prototype).setTimeout=function(i){this.O=i},ce.ib=function(i){i=i.target;const e=this.L;e&&3==Oe(i)?e.l():this.La(i)},ce.La=function(i){try{if(i==this.g)e:{const j=Oe(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>j)&&(3!=j||wn||this.g&&(this.h.h||this.g.fa()||on(this.g)))){this.I||4!=j||7==e||Li(),mo(this);var t=this.g.aa();this.Y=t;t:if(Yr(this)){var o=on(this.g);i="";var u=o.length,d=4==Oe(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),Ci(this);var p="";break t}this.h.i=new q.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==t,function Js(i,e,t,o,u,d,p){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.U,j,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var E,R=this.g;if((E=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(E)){var O=E;break t}}O=null}if(!(t=O)){this.i=!1,this.o=3,$n(12),Si(this),Ci(this);break e}rr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yo(this,t)}this.P?(Fs(this,j,p),wn&&this.i&&3==j&&(Xe(this.S,this.T,"tick",this.hb),this.T.start())):(rr(this.j,this.m,p,null),yo(this,p)),4==j&&Si(this),this.i&&!this.I&&(4==j?ro(this.l,this):(this.i=!1,Ii(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,$n(12)):(this.o=0,$n(13)),Si(this),Ci(this)}}}catch{}},ce.hb=function(){if(this.g){var i=Oe(this.g),e=this.g.fa();this.C<e.length&&(mo(this),Fs(this,i,e),this.i&&4!=i&&Ii(this))}},ce.cancel=function(){this.I=!0,Si(this)},ce.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function or(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Li(),$n(17)),Si(this),this.o=2,Ci(this)):na(this,this.V-i)};var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ki(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ki){this.h=void 0!==e?e:i.h,Ss(this,i.j),this.s=i.s,this.g=i.g,_o(this,i.m),this.l=i.l,e=i.i;var t=new Yi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),hs(this,t),this.o=i.o}else i&&(t=String(i).match(vo))?(this.h=!!e,Ss(this,t[1]||"",!0),this.s=Zi(t[2]||""),this.g=Zi(t[3]||"",!0),_o(this,t[4]),this.l=Zi(t[5]||"",!0),hs(this,t[6]||"",!0),this.o=Zi(t[7]||"")):(this.h=!!e,this.i=new Yi(null,this.h))}function wi(i){return new Ki(i)}function Ss(i,e,t){i.j=t?Zi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function _o(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function hs(i,e,t){e instanceof Yi?(i.i=e,function ui(i,e){e&&!i.j&&(Qi(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(wo(this,o),Vo(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Ur(e,eo)),i.i=new Yi(e,i.h))}function jn(i,e,t){i.i.set(e,t)}function sa(i){return jn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Zi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ur(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Uo),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Uo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ki.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ur(e,Io,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ur(e,Io,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Ur(t,"/"==t.charAt(0)?Us:Bu,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Ur(t,Qr)),i.join("")};var Io=/[#\/\?@]/g,Bu=/[#\?:]/g,Us=/[#\?]/g,eo=/[#\?@]/g,Qr=/#/g;function Yi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Qi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Cs(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wo(i,e){Qi(i),e=Xi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function oa(i,e){return Qi(i),e=Xi(i,e),i.g.has(e)}function Vo(i,e,t){wo(i,e),0<t.length&&(i.i=null,i.g.set(Xi(i,e),qe(t)),i.h+=t.length)}function Xi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Hr(i){this.l=i||Xr,i=q.PerformanceNavigationTiming?0<(i=q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(q.g&&q.g.Ga&&q.g.Ga()&&q.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=Yi.prototype).add=function(i,e){Qi(this),this.i=null,i=Xi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(i,e){Qi(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},ce.oa=function(){Qi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)t.push(e[o])}return t},ce.W=function(i){Qi(this);let e=[];if("string"==typeof i)oa(this,i)&&(e=e.concat(this.g.get(Xi(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ce.set=function(i,e){return Qi(this),this.i=null,oa(this,i=Xi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ce.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),p=this.W(o);for(o=0;o<p.length;o++){var u=d;""!==p[o]&&(u+="="+encodeURIComponent(String(p[o]))),i.push(u)}}return this.i=i.join("&")};var Xr=10;function fs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function to(i){return i.h?1:i.g?i.g.size:0}function Eo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Bo(i,e){i.g?i.g.add(e):i.h=e}function Jt(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function $o(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return qe(i.i)}function Do(){}function Vs(){this.g=new Do}function Gr(i,e,t){const o=t||"";try{ia(i,function(u,d){let p=u;$e(u)&&(p=Xt(u)),e.push(o+d+"="+encodeURIComponent(p))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Jn(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ji(i){this.l=i.ac||null,this.j=i.jb||!1}function Er(i,e){st.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=no,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hr.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Do.prototype.stringify=function(i){return q.JSON.stringify(i,void 0)},Do.prototype.parse=function(i){return q.JSON.parse(i,void 0)},Fe(Ji,yi),Ji.prototype.g=function(){return new Er(this.l,this.j)},Ji.prototype.i=function(i){return function(){return i}}({}),Fe(Er,st);var no=0;function mr(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Bs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,yr(i)}function yr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ce=Er.prototype).open=function(i,e){if(this.readyState!=no)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,yr(this)},ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bs(this)),this.readyState=no},ce.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mr(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},ce.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Bs(this):yr(this),3==this.readyState&&mr(this)}},ce.Va=function(i){this.g&&(this.response=this.responseText=i,Bs(this))},ce.Ua=function(i){this.g&&(this.response=i,Bs(this))},ce.ga=function(){this.g&&Bs(this)},ce.setRequestHeader=function(i,e){this.v.append(i,e)},ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var $s=q.JSON.parse;function Fn(i){st.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$t,this.K=this.L=!1}Fe(Fn,st);var $t="",js=/^https?$/i,yc=["POST","PUT"];function Vi(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,As(i),Pa(i)}function As(i){i.D||(i.D=!0,Dt(i,"complete"),Dt(i,"error"))}function xs(i){if(i.h&&typeof Re<"u"&&(!i.C[1]||4!=Oe(i)||2!=i.aa()))if(i.v&&4==Oe(i))ye(i.Ha,0,i);else if(Dt(i,"readystatechange"),4==Oe(i)){i.h=!1;try{const E=i.aa();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===E){var u=String(i.H).match(vo)[1]||null;if(!u&&q.self&&q.self.location){var d=q.self.location.protocol;u=d.substr(0,d.length-1)}o=!js.test(u?u.toLowerCase():"")}t=o}if(t)Dt(i,"complete"),Dt(i,"success");else{i.m=6;try{var p=2<Oe(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.aa()+"]",As(i)}}finally{Pa(i)}}}function Pa(i,e){if(i.g){es(i);const t=i.g,o=i.C[0]?ne:null;i.g=null,i.C=null,e||Dt(i,"ready");try{t.onreadystatechange=o}catch{}}}function es(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(q.clearTimeout(i.A),i.A=null)}function Oe(i){return i.g?i.g.readyState:0}function on(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case $t:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function aa(i){let e="";return oi(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Ms(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=aa(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):jn(i,e,t))}function ir(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Rs(i){this.Ca=0,this.i=[],this.j=new gn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ir("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ir("baseRetryDelayMs",5e3,i),this.bb=ir("retryDelaySeedMs",1e4,i),this.$a=ir("forwardChannelMaxRetries",2,i),this.ta=ir("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Hr(i&&i.concurrentRequestLimit),this.Fa=new Vs,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ts(i){if(Ho(i),3==i.G){var e=i.U++,t=wi(i.F);jn(t,"SID",i.I),jn(t,"RID",e),jn(t,"TYPE","terminate"),Hs(i,t),(e=new Ui(i,i.j,e,void 0)).K=2,e.v=sa(wi(t)),t=!1,q.navigator&&q.navigator.sendBeacon&&(t=q.navigator.sendBeacon(e.v.toString(),"")),!t&&q.Image&&((new Image).src=e.v,t=!0),t||(e.g=zo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ii(e)}$u(i)}function Jr(i){i.g&&(Go(i),i.g.cancel(),i.g=null)}function Ho(i){Jr(i),i.u&&(q.clearTimeout(i.u),i.u=null),Bi(i),i.h.cancel(),i.m&&("number"==typeof i.m&&q.clearTimeout(i.m),i.m=null)}function ps(i){fs(i.h)||i.m||(i.m=!0,gt(i.Ja,i),i.C=0)}function To(i,e){var t;t=e?e.m:i.U++;const o=wi(i.F);jn(o,"SID",i.I),jn(o,"RID",t),jn(o,"AID",i.T),Hs(i,o),i.o&&i.s&&Ms(o,i.o,i.s),t=new Ui(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=ru(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Bo(i.h,t),vi(t,o,e)}function Hs(i,e){i.ia&&oi(i.ia,function(t,o){jn(e,o,t)}),i.l&&ia({},function(t,o){jn(e,o,t)})}function ru(i,e,t){t=Math.min(i.i.length,t);var o=i.l?_t(i.l.Ra,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const p=["count="+t];-1==d?0<t?(d=u[0].h,p.push("ofs="+d)):d=0:p.push("ofs="+d);let E=!0;for(let R=0;R<t;R++){let O=u[R].h;const j=u[R].g;if(O-=d,0>O)d=Math.max(0,u[R].h-100),E=!1;else try{Gr(j,p,"req"+O+"_")}catch{o&&o(j)}}if(E){o=p.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function ei(i){i.g||i.u||(i.Z=1,gt(i.Ia,i),i.A=0)}function ci(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Fi(_t(i.Ia,i),La(i,i.A)),i.A++,0))}function Go(i){null!=i.B&&(q.clearTimeout(i.B),i.B=null)}function ns(i){i.g=new Ui(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=wi(i.sa);jn(e,"RID","rpc"),jn(e,"SID",i.I),jn(e,"CI",i.L?"0":"1"),jn(e,"AID",i.T),jn(e,"TYPE","xmlhttp"),Hs(i,e),i.o&&i.s&&Ms(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=sa(wi(e)),t.s=null,t.P=!0,go(t,i)}function Bi(i){null!=i.v&&(q.clearTimeout(i.v),i.v=null)}function ro(i,e){var t=null;if(i.g==e){Bi(i),Go(i),i.g=null;var o=2}else{if(!Eo(i.h,e))return;t=e.D,Jt(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Dt(o=Bt(),new hr(o,t)),ps(i)}else ei(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Oa(i,e){return!(to(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Fi(_t(i.Ja,i,e),La(i,i.C)),i.C++,0)))}(i,e)||2==o&&ci(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:$i(i,5);break;case 4:$i(i,10);break;case 3:$i(i,6);break;default:$i(i,2)}}function La(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function $i(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=_t(i.kb,i);t||(t=new Ki("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||Ss(t,"https"),sa(t)),function jo(i,e){const t=new gn;if(q.Image){const o=new Image;o.onload=ct(Jn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=ct(Jn,t,o,"TestLoadImage: error",!1,e),o.onabort=ct(Jn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=ct(Jn,t,o,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else $n(2);i.G=0,i.l&&i.l.va(e),$u(i),Ho(i)}function $u(i){if(i.G=0,i.la=[],i.l){const e=$o(i.h);(0!=e.length||0!=i.i.length)&&(de(i.la,e),de(i.la,i.i),i.h.i.length=0,qe(i.i),i.i.length=0),i.l.ua()}}function gs(i,e,t){var o=t instanceof Ki?wi(t):new Ki(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),_o(o,o.m);else{var u=q.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new Ki(null,void 0);o&&Ss(d,o),e&&(d.g=e),u&&_o(d,u),t&&(d.l=t),o=d}return e=i.za,(t=i.D)&&e&&jn(o,t,e),jn(o,"VER",i.ma),Hs(i,o),o}function zo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fn(t&&i.Da&&!i.ra?new Ji({jb:!0}):i.ra)).Ka(i.H),e}function T(){}function N(){if(Mt&&!(10<=Number(Rn)))throw Error("Environmental error: no available transport.")}function S(i,e){st.call(this),this.g=new Rs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Q(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Q(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ce(this)}function V(i){Ts.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function re(){bs.call(this),this.status=1}function Ce(i){this.g=i}(ce=Fn.prototype).Ka=function(i){this.L=i},ce.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ds.g(),this.C=function ls(i){return i.h||(i.h=i.i())}(this.u?this.u:ds),this.g.onreadystatechange=_t(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Vi(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=q.FormData&&i instanceof q.FormData,!(0<=it(yc,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of t)this.g.setRequestHeader(d,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{es(this),0<this.B&&((this.K=function Na(i){return Mt&&function zt(){return function qt(i){var e=Mn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=we(String(Pn)).split("."),t=we("9").split("."),o=Math.max(e.length,t.length);for(let p=0;0==i&&p<o;p++){var u=e[p]||"",d=t[p]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=ae(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||ae(0==u[2].length,0==d[2].length)||ae(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.qa,this)):this.A=ye(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Vi(this,d)}},ce.qa=function(){typeof Re<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))},ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Dt(this,"complete"),Dt(this,"abort"),Pa(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pa(this,!0)),Fn.X.M.call(this)},ce.Ha=function(){this.s||(this.F||this.v||this.l?xs(this):this.fb())},ce.fb=function(){xs(this)},ce.aa=function(){try{return 2<Oe(this)?this.g.status:-1}catch{return-1}},ce.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),$s(e)}},ce.Ea=function(){return this.m},ce.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Rs.prototype).ma=8,ce.G=1,ce.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Ui(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=Ln(d),Or(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ru(this,u,e),jn(t=wi(this.F),"RID",i),jn(t,"CVER",22),this.D&&jn(t,"X-HTTP-Session-Id",this.D),Hs(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(aa(d)))+"&"+e:this.o&&Ms(t,this.o,d)),Bo(this.h,u),this.Ya&&jn(t,"TYPE","init"),this.O?(jn(t,"$req",e),jn(t,"SID","null"),u.Z=!0,vi(u,t,null)):vi(u,t,e),this.G=2}}else 3==this.G&&(i?To(this,i):0==this.i.length||fs(this.h)||To(this))},ce.Ia=function(){if(this.u=null,ns(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Fi(_t(this.eb,this),i)}},ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,$n(10),Jr(this),ns(this))},ce.cb=function(){null!=this.v&&(this.v=null,Jr(this),ci(this),$n(19))},ce.kb=function(i){i?(this.j.info("Successfully pinged google.com"),$n(2)):(this.j.info("Failed to ping google.com"),$n(1))},(ce=T.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Ra=function(){},N.prototype.g=function(i,e){return new S(i,e)},Fe(S,st),S.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;$n(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=gs(i,null,i.V),ps(i)},S.prototype.close=function(){ts(this.g)},S.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Xt(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&ps(e)},S.prototype.M=function(){this.g.l=null,delete this.j,ts(this.g),delete this.g,S.X.M.call(this)},Fe(V,Ts),Fe(re,bs),Fe(Ce,T),Ce.prototype.xa=function(){Dt(this.g,"a")},Ce.prototype.wa=function(i){Dt(this.g,new V(i))},Ce.prototype.va=function(i){Dt(this.g,new re)},Ce.prototype.ua=function(){Dt(this.g,"b")},N.prototype.createWebChannel=N.prototype.g,S.prototype.send=S.prototype.u,S.prototype.open=S.prototype.m,S.prototype.close=S.prototype.close,ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,bi.COMPLETE="complete",kn.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",st.prototype.listen=st.prototype.N,Fn.prototype.listenOnce=Fn.prototype.O,Fn.prototype.getLastError=Fn.prototype.Oa,Fn.prototype.getLastErrorCode=Fn.prototype.Ea,Fn.prototype.getStatus=Fn.prototype.aa,Fn.prototype.getResponseJson=Fn.prototype.Sa,Fn.prototype.getResponseText=Fn.prototype.fa,Fn.prototype.send=Fn.prototype.da,Fn.prototype.setWithCredentials=Fn.prototype.Ka;var Be=Me.createWebChannelTransport=function(){return new N},yt=Me.getStatEventTarget=function(){return Bt()},an=Me.ErrorCode=ai,vn=Me.EventType=bi,_n=Me.Event=Fr,ln=Me.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},hn=Me.FetchXmlHttpFactory=Ji,fn=Me.WebChannel=kn,tn=Me.XhrIo=Fn;const io="@firebase/firestore";class Kn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");let ti="9.15.0";const li=new fe.Yd("@firebase/firestore");function ks(){return li.logLevel}function Ze(i,...e){if(li.logLevel<=fe.in.DEBUG){const t=e.map(rs);li.debug(`Firestore (${ti}): ${i}`,...t)}}function ar(i,...e){if(li.logLevel<=fe.in.ERROR){const t=e.map(rs);li.error(`Firestore (${ti}): ${i}`,...t)}}function Qn(i,...e){if(li.logLevel<=fe.in.WARN){const t=e.map(rs);li.warn(`Firestore (${ti}): ${i}`,...t)}}function rs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function vt(i="Unexpected state"){const e=`FIRESTORE (${ti}) INTERNAL ASSERTION FAILED: `+i;throw ar(e),new Error(e)}function St(i,e){i||vt()}function ut(i,e){return i}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends J.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class su{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kn.UNAUTHENTICATED))}shutdown(){}}class fl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ms{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=O=>this.i!==u?(u=this.i,t(O)):Promise.resolve();let p=new er;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new er,e.enqueueRetryable(()=>d(this.currentUser))};const E=()=>{const O=p;e.enqueueRetryable((0,A.Z)(function*(){yield O.promise,yield d(o.currentUser)}))},R=O=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=O,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(O=>R(O)),setTimeout(()=>{if(!this.auth){const O=this.t.getImmediate({optional:!0});O?R(O):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new er)}},0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(St("string"==typeof o.accessToken),new Fa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new Kn(e)}}class od{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(St(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ou{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new od(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ju{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class au{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=d=>{null!=d.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.A;return this.A=d.token,Ze("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St("string"==typeof t.token),this.A=t.token,new ju(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ua(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class ca{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=ua(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function Ht(i,e){return i<e?-1:i>e?1:0}function Gs(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}class Zt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ze(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Zt(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Zt(0,0))}static max(){return new At(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class la{constructor(e,t,o){void 0===t?t=0:t>e.length&&vt(),void 0===o?o=e.length-t:o>e.length-t&&vt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===la.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),p=t.get(u);if(d<p)return-1;if(d>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends la{construct(e,t,o){return new mn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new ze(xe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const Co=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends la{construct(e,t,o){return new vr(e,t,o)}static isValidIdentifier(e){return Co.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new ze(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let p=!1;for(;u<e.length;){const E=e[u];if("\\"===E){if(u+1===e.length)throw new ze(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new ze(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===E?(p=!p,u++):"."!==E||p?(o+=E,u++):(d(),u++)}if(d(),p)throw new ze(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(t)}static emptyPath(){return new vr([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(mn.fromString(e))}static fromName(e){return new nt(mn.fromString(e).popFirst(5))}static empty(){return new nt(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new mn(e.slice()))}}function pa(i){return new Tn(i.readTime,i.key,-1)}class Tn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Tn(At.min(),nt.empty(),-1)}static max(){return new Tn(At.max(),nt.empty(),-1)}}function Ua(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(i.documentKey,e.documentKey),0!==t?t:Ht(i.largestBatchId,e.largestBatchId))}const ga="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ai(i){return Va.apply(this,arguments)}function Va(){return Va=(0,A.Z)(function*(i){if(i.code!==xe.FAILED_PRECONDITION||i.message!==ga)throw i;Ze("LocalStore","Unexpectedly lost primary lease")}),Va.apply(this,arguments)}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,o)=>{t(e)})}static reject(e){return new Te((t,o)=>{o(e)})}static waitFor(e){return new Te((t,o)=>{let u=0,d=0,p=!1;e.forEach(E=>{++u,E.next(()=>{++d,p&&d===u&&t()},R=>o(R))}),p=!0,d===u&&t()})}static or(e){let t=Te.resolve(!1);for(const o of e)t=t.next(u=>u?Te.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}static mapArray(e,t){return new Te((o,u)=>{const d=e.length,p=new Array(d);let E=0;for(let R=0;R<d;R++){const O=R;t(e[O]).next(j=>{p[O]=j,++E,E===d&&o(p)},j=>u(j))}})}static doWhile(e,t){return new Te((o,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):o()};d()})}}function Di(i){return"IndexedDbTransactionError"===i.name}let is=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>o.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Ba{constructor(e,t,o,u,d,p,E,R){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=E,this.useFetchStreams=R}}class ji{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ji("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ji&&e.projectId===this.projectId&&e.database===this.database}}function Ao(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ko(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Xn(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function lu(i){return null==i}function $a(i){return 0===i&&1/i==-1/0}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xr(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const ud=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(i){if(St(!!i),"string"==typeof i){let e=0;const t=ud.exec(i);if(St(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Zn(i.seconds),nanos:Zn(i.nanos)}}function Zn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ma(i){return"string"==typeof i?xr.fromBase64String(i):xr.fromUint8Array(i)}function ja(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _r(i){const e=i.mapValue.fields.__previous_value__;return ja(e)?_r(e):e}function Ks(i){const e=qs(i.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}const ss_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Zs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ja(i)?4:Lt(i)?9007199254740991:10:vt()}function Hn(i,e){if(i===e)return!0;const t=Zs(i);if(t!==Zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ks(i).isEqual(Ks(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=qs(o.timestampValue),p=qs(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ma(i.bytesValue).isEqual(ma(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Zn(o.geoPointValue.latitude)===Zn(u.geoPointValue.latitude)&&Zn(o.geoPointValue.longitude)===Zn(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Zn(o.integerValue)===Zn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Zn(o.doubleValue),p=Zn(u.doubleValue);return d===p?$a(d)===$a(p):isNaN(d)&&isNaN(p)}return!1}(i,e);case 9:return Gs(i.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:return function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Ao(d)!==Ao(p))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(void 0===p[E]||!Hn(d[E],p[E])))return!1;return!0}(i,e);default:return vt()}var u}function Hi(i,e){return void 0!==(i.values||[]).find(t=>Hn(t,e))}function Ps(i,e){if(i===e)return 0;const t=Zs(i),o=Zs(e);if(t!==o)return Ht(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(i.booleanValue,e.booleanValue);case 2:return function(u,d){const p=Zn(u.integerValue||u.doubleValue),E=Zn(d.integerValue||d.doubleValue);return p<E?-1:p>E?1:p===E?0:isNaN(p)?isNaN(E)?0:-1:1}(i,e);case 3:return v(i.timestampValue,e.timestampValue);case 4:return v(Ks(i),Ks(e));case 5:return Ht(i.stringValue,e.stringValue);case 6:return function(u,d){const p=ma(u),E=ma(d);return p.compareTo(E)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const p=u.split("/"),E=d.split("/");for(let R=0;R<p.length&&R<E.length;R++){const O=Ht(p[R],E[R]);if(0!==O)return O}return Ht(p.length,E.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const p=Ht(Zn(u.latitude),Zn(d.latitude));return 0!==p?p:Ht(Zn(u.longitude),Zn(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const p=u.values||[],E=d.values||[];for(let R=0;R<p.length&&R<E.length;++R){const O=Ps(p[R],E[R]);if(O)return O}return Ht(p.length,E.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===ss_mapValue&&d===ss_mapValue)return 0;if(u===ss_mapValue)return 1;if(d===ss_mapValue)return-1;const p=u.fields||{},E=Object.keys(p),R=d.fields||{},O=Object.keys(R);E.sort(),O.sort();for(let j=0;j<E.length&&j<O.length;++j){const ie=Ht(E[j],O[j]);if(0!==ie)return ie;const Ie=Ps(p[E[j]],R[O[j]]);if(0!==Ie)return Ie}return Ht(E.length,O.length)}(i.mapValue,e.mapValue);default:throw vt()}}function v(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ht(i,e);const t=qs(i),o=qs(e),u=Ht(t.seconds,o.seconds);return 0!==u?u:Ht(t.nanos,o.nanos)}function _(i){return y(i)}function y(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=qs(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ma(i.bytesValue).toBase64():"referenceValue"in i?nt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const p of o.values||[])d?d=!1:u+=",",u+=y(p);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",p=!0;for(const E of u)p?p=!1:d+=",",d+=`${E}:${y(o.fields[E])}`;return d+"}"}(i.mapValue):vt();var e}function M(i){return!!i&&"integerValue"in i}function F(i){return!!i&&"arrayValue"in i}function K(i){return!!i&&"nullValue"in i}function X(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function De(i){return!!i&&"mapValue"in i}function rt(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ko(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=rt(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rt(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Lt(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class zr{constructor(e,t){this.position=e,this.inclusive=t}}function _s(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],p=i.position[u];if(o=d.field.isKeyField()?nt.comparator(nt.fromName(p.referenceValue),t.key):Ps(p,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Zo(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Hn(i.position[t],e.position[t]))return!1;return!0}class va{}class pn extends va{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Ha(e,t,o):"array-contains"===t?new ld(e,o):"in"===t?new C(e,o):"not-in"===t?new x(e,o):"array-contains-any"===t?new L(e,o):new pn(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new hu(e,o):new cd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ps(t,this.value)):null!==t&&Zs(this.value)===Zs(t)&&this.matchesComparison(Ps(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xn extends va{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new xn(e,t)}matches(e){return Os(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Os(i){return"and"===i.op}function _c(i){return function du(i){for(const e of i.filters)if(e instanceof xn)return!1;return!0}(i)&&Os(i)}function xo(i){if(i instanceof pn)return i.field.canonicalString()+i.op.toString()+_(i.value);{const e=i.filters.map(t=>xo(t)).join(",");return`${i.op}(${e})`}}function Ic(i,e){return i instanceof pn?(t=i,(o=e)instanceof pn&&t.op===o.op&&t.field.isEqual(o.field)&&Hn(t.value,o.value)):i instanceof xn?function(t,o){return o instanceof xn&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,d,p)=>u&&Ic(d,o.filters[p]),!0)}(i,e):void vt();var t,o}function gl(i){return i instanceof pn?`${(e=i).field.canonicalString()} ${e.op} ${_(e.value)}`:i instanceof xn?function(e){return e.op.toString()+" {"+e.getFilters().map(gl).join(" ,")+"}"}(i):"Filter";var e}class Ha extends pn{constructor(e,t,o){super(e,t,o),this.key=nt.fromName(o.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class hu extends pn{constructor(e,t){super(e,"in",t),this.keys=Dr(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cd extends pn{constructor(e,t){super(e,"not-in",t),this.keys=Dr(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Dr(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>nt.fromName(o.referenceValue))}class ld extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return F(t)&&Hi(t.arrayValue,this.value)}}class C extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hi(this.value.arrayValue,t)}}class x extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hi(this.value.arrayValue,t)}}class L extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!F(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Hi(this.value.arrayValue,o))}}class z{constructor(e,t="asc"){this.field=e,this.dir=t}}function he(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class pe{constructor(e,t){this.comparator=e,this.root=t||at.EMPTY}insert(e,t){return new pe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new We(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new We(this.root,e,this.comparator,!1)}getReverseIterator(){return new We(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new We(this.root,e,this.comparator,!0)}}class We{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=o??at.RED,this.left=u??at.EMPTY,this.right=d??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new at(e??this.key,t??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return at.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1,at.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(i,e,t,o,u){return this}insert(i,e,t){return new at(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lt{constructor(e){this.comparator=e,this.data=new pe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pt(this.data.getIterator())}getIteratorFrom(e){return new Pt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class Pt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nt{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new Nt([])}unionWith(e){let t=new lt(vr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Nt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!De(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rt(t)}setAll(e){let t=vr.emptyPath(),o={},u=[];e.forEach((p,E)=>{if(!t.isImmediateParentOf(E)){const R=this.getFieldsMap(t);this.applyChanges(R,o,u),o={},u=[],t=E.popLast()}p?o[E.lastSegment()]=rt(p):u.push(E.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());De(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];De(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Ko(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new Un(rt(this.value))}}function Vr(i){const e=[];return Ko(i.fields,(t,o)=>{const u=new vr([t]);if(De(o)){const d=Vr(o.mapValue).fields;if(0===d.length)e.push(u);else for(const p of d)e.push(u.child(p))}else e.push(u)}),new Nt(e)}class Gn{constructor(e,t,o,u,d,p,E){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=d,this.data=p,this.documentState=E}static newInvalidDocument(e){return new Gn(e,0,At.min(),At.min(),At.min(),Un.empty(),0)}static newFoundDocument(e,t,o,u){return new Gn(e,1,t,At.min(),o,u,0)}static newNoDocument(e,t){return new Gn(e,2,t,At.min(),At.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,At.min(),At.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wc{constructor(e,t=null,o=[],u=[],d=null,p=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=p,this.endAt=E,this.ft=null}}function Ia(i,e=null,t=[],o=[],u=null,d=null,p=null){return new wc(i,e,t,o,u,d,p)}function Mr(i){const e=ut(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>xo(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),lu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>_(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>_(o)).join(",")),e.ft=t}return e.ft}function fi(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!he(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Ic(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Zo(i.startAt,e.startAt)&&Zo(i.endAt,e.endAt)}function fu(i){return nt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Mo{constructor(e,t=null,o=[],u=[],d=null,p="F",E=null,R=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=p,this.startAt=E,this.endAt=R,this.dt=null,this._t=null}}function Hu(i){return new Mo(i)}function Uh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ga(i){const e=ut(i);if(null===e.dt){e.dt=[];const t=function Ec(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),o=function Gu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new z(t)),e.dt.push(new z(vr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new z(vr.keyField(),d))}}}return e.dt}function Ls(i){const e=ut(i);if(!e._t)if("F"===e.limitType)e._t=Ia(e.path,e.collectionGroup,Ga(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Ga(e))t.push(new z(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new zr(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new zr(e.startAt.position,e.startAt.inclusive):null;e._t=Ia(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e._t}function fd(i,e,t){return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Dc(i,e){return fi(Ls(i),Ls(e))&&i.limitType===e.limitType}function Vh(i){return`${Mr(Ls(i))}|lt:${i.limitType}`}function Tc(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>gl(o)).join(", ")}]`),lu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>_(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>_(o)).join(",")),`Target(${t})`}(Ls(i))}; limitType=${i.limitType})`}function Bh(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):nt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of Ga(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,p){const E=_s(u,d,p);return u.inclusive?E<=0:E<0}(t.startAt,Ga(t),o)||t.endAt&&!function(u,d,p){const E=_s(u,d,p);return u.inclusive?E>=0:E>0}(t.endAt,Ga(t),o)));var t,o}function yl(i){return(e,t)=>{let o=!1;for(const u of Ga(i)){const d=om(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function om(i,e,t){const o=i.field.isKeyField()?nt.comparator(e.key,t.key):function(u,d,p){const E=d.data.field(u),R=p.data.field(u);return null!==E&&null!==R?Ps(E,R):vt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return vt()}}function fp(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$a(e)?"-0":e}}function pp(i){return{integerValue:""+i}}function jh(i,e){return function pl(i){return"number"==typeof i&&Number.isInteger(i)&&!$a(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?pp(e):fp(i,e)}class pd{constructor(){this._=void 0}}function gd(i,e,t){return i instanceof Wu?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof wa?Hh(i,e):i instanceof Gi?md(i,e):function(o,u){const d=vl(o,u),p=Gh(d)+Gh(o.gt);return M(d)&&M(o.gt)?pp(p):fp(o.yt,p)}(i,e)}function gp(i,e,t){return i instanceof wa?Hh(i,e):i instanceof Gi?md(i,e):t}function vl(i,e){return i instanceof qu?M(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Wu extends pd{}class wa extends pd{constructor(e){super(),this.elements=e}}function Hh(i,e){const t=yd(e);for(const o of i.elements)t.some(u=>Hn(u,o))||t.push(o);return{arrayValue:{values:t}}}class Gi extends pd{constructor(e){super(),this.elements=e}}function md(i,e){let t=yd(e);for(const o of i.elements)t=t.filter(u=>!Hn(u,o));return{arrayValue:{values:t}}}class qu extends pd{constructor(e,t){super(),this.yt=e,this.gt=t}}function Gh(i){return Zn(i.integerValue||i.doubleValue)}function yd(i){return F(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class zh{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _l(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class bc{}function Il(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Zu(i.key,Rr.none()):new ni(i.key,i.data,Rr.none());{const t=i.data,o=Un.empty();let u=new lt(vr.comparator);for(let d of e.fields)if(!u.has(d)){let p=t.field(d);null===p&&d.length>1&&(d=d.popLast(),p=t.field(d)),null===p?o.delete(d):o.set(d,p),u=u.add(d)}return new co(i.key,o,new Nt(u.toArray()),Rr.none())}}function os(i,e,t){i instanceof ni?function(o,u,d){const p=o.value.clone(),E=qh(o.fieldTransforms,u,d.transformResults);p.setAll(E),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,e,t):i instanceof co?function(o,u,d){if(!_l(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=qh(o.fieldTransforms,u,d.transformResults),E=u.data;E.setAll(Wh(o)),E.setAll(p),u.convertToFoundDocument(d.version,E).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ku(i,e,t,o){return i instanceof ni?function(u,d,p,E){if(!_l(u.precondition,d))return p;const R=u.value.clone(),O=yp(u.fieldTransforms,E,d);return R.setAll(O),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),null}(i,e,t,o):i instanceof co?function(u,d,p,E){if(!_l(u.precondition,d))return p;const R=yp(u.fieldTransforms,E,d),O=d.data;return O.setAll(Wh(u)),O.setAll(R),d.convertToFoundDocument(d.version,O).setHasLocalMutations(),null===p?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(j=>j.field))}(i,e,t,o):(p=t,_l(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p);var d,p}function wl(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=vl(o.transform,u||null);null!=d&&(null===t&&(t=Un.empty()),t.set(o.field,d))}return t||null}function El(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Gs(t,o,(u,d)=>function mp(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof wa&&o instanceof wa||t instanceof Gi&&o instanceof Gi?Gs(t.elements,o.elements,Hn):t instanceof qu&&o instanceof qu?Hn(t.gt,o.gt):t instanceof Wu&&o instanceof Wu);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class ni extends bc{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class co extends bc{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Wh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function qh(i,e,t){const o=new Map;St(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],p=d.transform,E=e.data.field(d.field);o.set(d.field,gp(p,E,t[u]))}return o}function yp(i,e,t){const o=new Map;for(const u of i){const d=u.transform,p=t.data.field(u.field);o.set(u.field,gd(d,p,e))}return o}class Zu extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kh extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vp{constructor(e){this.count=e}}var Ti,Vn;function _p(i){switch(i){default:return vt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function Ip(i){if(void 0===i)return ar("GRPC error has no .code"),xe.UNKNOWN;switch(i){case Ti.OK:return xe.OK;case Ti.CANCELLED:return xe.CANCELLED;case Ti.UNKNOWN:return xe.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return xe.INTERNAL;case Ti.UNAVAILABLE:return xe.UNAVAILABLE;case Ti.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Ti.NOT_FOUND:return xe.NOT_FOUND;case Ti.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Ti.ABORTED:return xe.ABORTED;case Ti.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Ti.DATA_LOSS:return xe.DATA_LOSS;default:return vt()}}(Vn=Ti||(Ti={}))[Vn.OK=0]="OK",Vn[Vn.CANCELLED=1]="CANCELLED",Vn[Vn.UNKNOWN=2]="UNKNOWN",Vn[Vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vn[Vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vn[Vn.NOT_FOUND=5]="NOT_FOUND",Vn[Vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vn[Vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vn[Vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vn[Vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vn[Vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vn[Vn.ABORTED=10]="ABORTED",Vn[Vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vn[Vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vn[Vn.INTERNAL=13]="INTERNAL",Vn[Vn.UNAVAILABLE=14]="UNAVAILABLE",Vn[Vn.DATA_LOSS=15]="DATA_LOSS";class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return Xn(this.inner)}size(){return this.innerSize}}const Zh=new pe(nt.comparator);function Ys(){return Zh}const Yh=new pe(nt.comparator);function Dl(...i){let e=Yh;for(const t of i)e=e.insert(t.key,t);return e}function Cc(i){let e=Yh;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Da(){return Yu()}function wp(){return Yu()}function Yu(){return new Ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const Qh=new pe(nt.comparator),Ep=new lt(nt.comparator);function In(...i){let e=Ep;for(const t of i)e=e.add(t);return e}const Sc=new lt(Ht);function Ac(){return Sc}class xc{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new xc(At.min(),u,Ac(),Ys(),In())}}class Tl{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Tl(o,t,In(),In(),In())}}class Mc{constructor(e,t,o,u){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=u}}class Dp{constructor(e,t){this.targetId=e,this.Et=t}}class Tp{constructor(e,t,o=xr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class bp{constructor(){this.At=0,this.Rt=Sp(),this.bt=xr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=In(),t=In(),o=In();return this.Rt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:vt()}}),new Tl(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=Sp()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class am{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ys(),this.qt=Cp(),this.Ut=new lt(Ht)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,u)=>{this.zt(u)&&t(u)})}Jt(e){const t=e.targetId,o=e.Et.count,u=this.Yt(t);if(u){const d=u.target;if(fu(d))if(0===o){const p=new nt(d.path);this.Qt(t,p,Gn.newNoDocument(p,At.min()))}else St(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((d,p)=>{const E=this.Yt(p);if(E){if(d.current&&fu(E.target)){const R=new nt(E.target.path);null!==this.Lt.get(R)||this.te(p,R)||this.Qt(p,R,Gn.newNoDocument(R,e))}d.St&&(t.set(p,d.Ct()),d.xt())}});let o=In();this.qt.forEach((d,p)=>{let E=!0;p.forEachWhile(R=>{const O=this.Yt(R);return!O||2===O.purpose||(E=!1,!1)}),E&&(o=o.add(d))}),this.Lt.forEach((d,p)=>p.setReadTime(e));const u=new xc(e,t,this.Ut,this.Lt,o);return this.Lt=Ys(),this.qt=Cp(),this.Ut=new lt(Ht),u}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const u=this.Wt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new bp,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new lt(Ht),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new bp),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Cp(){return new pe(nt.comparator)}function Sp(){return new pe(nt.comparator)}const Ap={asc:"ASCENDING",desc:"DESCENDING"},Xh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xp={and:"AND",or:"OR"};class Jh{constructor(e,t){this.databaseId=e,this.wt=t}}function Rc(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mp(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Rp(i,e){return Rc(i,e.toTimestamp())}function ri(i){return St(!!i),At.fromTimestamp(function(e){const t=qs(e);return new Zt(t.seconds,t.nanos)}(i))}function za(i,e){return(t=i,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ef(i){const e=mn.fromString(i);return St(qa(e)),e}function kc(i,e){return za(i.databaseId,e.path)}function Ta(i,e){const t=ef(e);if(t.get(1)!==i.databaseId.projectId)throw new ze(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ze(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new nt(tf(t))}function kp(i,e){return za(i.databaseId,e)}function Cl(i){return new mn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tf(i){return St(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function nf(i,e,t){return{name:kc(i,e),fields:t.value.mapValue.fields}}function vd(i,e){return{documents:[kp(i,e.path)]}}function mu(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=kp(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=kp(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(R){if(0!==R.length)return Lc(xn.create(R,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const d=function(R){if(0!==R.length)return R.map(O=>{return{field:yu((j=O).field),direction:af(j.dir)};var j})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=(O=e.limit,i.wt||lu(O)?O:{value:O});var O,E,R;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(t.structuredQuery.endAt={before:!(R=e.endAt).inclusive,values:R.position}),t}function Pc(i){let e=function bl(i){const e=ef(i);return 4===e.length?mn.emptyPath():tf(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){St(1===o);const j=t.from[0];j.allDescendants?u=j.collectionId:e=e.child(j.collectionId)}let d=[];t.where&&(d=function(j){const ie=Ri(j);return ie instanceof xn&&_c(ie)?ie.getFilters():[ie]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(j=>{return new z(Wa((ie=j).field),function(Ie){switch(Ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ie.direction));var ie}));let E=null;t.limit&&(E=function(j){let ie;return ie="object"==typeof j?j.value:j,lu(ie)?null:ie}(t.limit));let R=null;var j;t.startAt&&(R=new zr((j=t.startAt).values||[],!!j.before));let O=null;return t.endAt&&(O=function(j){return new zr(j.values||[],!j.before)}(t.endAt)),function Fh(i,e,t,o,u,d,p,E){return new Mo(i,e,t,o,u,d,p,E)}(e,u,p,d,E,"F",R,O)}function Ri(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wa(e.unaryFilter.field);return pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(e.unaryFilter.field);return pn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(e.unaryFilter.field);return pn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(e.unaryFilter.field);return pn.create(d,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(i):void 0!==i.fieldFilter?pn.create(Wa((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return xn.create(e.compositeFilter.filters.map(t=>Ri(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return vt()}}(e.compositeFilter.op))}(i):vt();var e}function af(i){return Ap[i]}function Sl(i){return Xh[i]}function _d(i){return xp[i]}function yu(i){return{fieldPath:i.canonicalString()}}function Wa(i){return vr.fromServerFormat(i.fieldPath)}function Lc(i){return i instanceof pn?function(e){if("=="===e.op){if(X(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NAN"}};if(K(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(X(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NAN"}};if(K(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(e.field),op:Sl(e.op),value:e.value}}}(i):i instanceof xn?function(e){const t=e.getFilters().map(o=>Lc(o));return 1===t.length?t[0]:{compositeFilter:{op:_d(e.op),filters:t}}}(i):vt()}function Al(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qa(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class wd{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&os(d,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ku(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ku(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=wp();return this.mutations.forEach(u=>{const d=e.get(u.key),p=d.overlayedDocument;let E=this.applyToLocalView(p,d.mutatedFields);E=t.has(u.key)?null:E;const R=Il(p,E);null!==R&&o.set(u.key,R),p.isValidDocument()||p.convertToNoDocument(At.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),In())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(t,o)=>El(t,o))&&Gs(this.baseMutations,e.baseMutations,(t,o)=>El(t,o))}}class jc{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){St(e.mutations.length===o.length);let u=Qh;const d=e.mutations;for(let p=0;p<d.length;p++)u=u.insert(d[p].key,o[p].version);return new jc(e,t,o,u)}}class Iu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class as{constructor(e,t,o,u,d=At.min(),p=At.min(),E=xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=E}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ka{constructor(e){this.ie=e}}function Pl(i){const e=Pc({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?fd(e,e.limit,"L"):e}class Du{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Zn(e.integerValue));else if("doubleValue"in e){const o=Zn(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),$a(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ma(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?Lt(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):vt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const u of Object.keys(o))this.de(u,t),this.ce(o[u],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const u of o)this.ce(u,t)}me(e,t){this.he(t,37),nt.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Du.Ie=new Du;class zp{constructor(){this.Je=new Ad}addToCollectionParentIndex(e,t){return this.Je.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(Tn.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(Tn.min())}updateCollectionGroup(e,t,o){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class Ad{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new lt(mn.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new lt(mn.comparator)).toArray()}}new Uint8Array(0);class ws{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class Ya{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ya(0)}static vn(){return new Ya(-1)}}class qp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class If{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&Ku(o.mutation,u,Nt.empty(),Zt.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,In()).next(()=>o))}getLocalViewOfDocuments(e,t,o=In()){const u=Da();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(d=>{let p=Dl();return d.forEach((E,R)=>{p=p.insert(E,R.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const o=Da();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,In()))}populateOverlays(e,t,o){const u=[];return o.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((p,E)=>{t.set(p,E)})})}computeViews(e,t,o,u){let d=Ys();const p=Yu(),E=Yu();return t.forEach((R,O)=>{const j=o.get(O.key);u.has(O.key)&&(void 0===j||j.mutation instanceof co)?d=d.insert(O.key,O):void 0!==j&&(p.set(O.key,j.mutation.getFieldMask()),Ku(j.mutation,O,j.mutation.getFieldMask(),Zt.now()))}),this.recalculateAndSaveOverlays(e,d).next(R=>(R.forEach((O,j)=>p.set(O,j)),t.forEach((O,j)=>{var ie;return E.set(O,new qp(j,null!==(ie=p.get(O))&&void 0!==ie?ie:null))}),E))}recalculateAndSaveOverlays(e,t){const o=Yu();let u=new pe((p,E)=>p-E),d=In();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const E of p)E.keys().forEach(R=>{const O=t.get(R);if(null===O)return;let j=o.get(R)||Nt.empty();j=E.applyToLocalView(O,j),o.set(R,j);const ie=(u.get(E.batchId)||In()).add(R);u=u.insert(E.batchId,ie)})}).next(()=>{const p=[],E=u.getReverseIterator();for(;E.hasNext();){const R=E.getNext(),O=R.key,j=R.value,ie=wp();j.forEach(Ie=>{if(!d.has(Ie)){const Ge=Il(t.get(Ie),o.get(Ie));null!==Ge&&ie.set(Ie,Ge),d=d.add(Ie)}}),p.push(this.documentOverlayCache.saveOverlays(e,O,ie))}return Te.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return nt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function hd(i){return null!==i.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(d=>{const p=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-d.size):Te.resolve(Da());let E=-1,R=d;return p.next(O=>Te.forEach(O,(j,ie)=>(E<ie.largestBatchId&&(E=ie.largestBatchId),d.get(j)?Te.resolve():this.remoteDocumentCache.getEntry(e,j).next(Ie=>{R=R.insert(j,Ie)}))).next(()=>this.populateOverlays(e,O,d)).next(()=>this.computeViews(e,R,O,In())).next(j=>({batchId:E,changes:Cc(j)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(o=>{let u=Dl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(e,u).next(p=>Te.forEach(p,E=>{const R=(O=t,j=E.child(u),new Mo(j,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt));var O,j;return this.getDocumentsMatchingCollectionQuery(e,R,o).next(O=>{O.forEach((j,ie)=>{d=d.insert(j,ie)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(d=>{d.forEach((E,R)=>{const O=R.getKey();null===u.get(O)&&(u=u.insert(O,Gn.newInvalidDocument(O)))});let p=Dl();return u.forEach((E,R)=>{const O=d.get(E);void 0!==O&&Ku(O.mutation,R,Nt.empty(),Zt.now()),Bh(t,R)&&(p=p.insert(E,R))}),p})}}class jl{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Te.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:ri(o.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Pl(o.bundledQuery),readTime:ri(o.readTime)}),Te.resolve();var o}}class Kp{constructor(){this.overlays=new pe(nt.comparator),this.es=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Da();return Te.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.oe(e,t,d)}),Te.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),Te.resolve()}getOverlaysForCollection(e,t,o){const u=Da(),d=t.length+1,p=new nt(t.child("")),E=this.overlays.getIteratorFrom(p);for(;E.hasNext();){const R=E.getNext().value,O=R.getKey();if(!t.isPrefixOf(O.path))break;O.path.length===d&&R.largestBatchId>o&&u.set(R.getKey(),R)}return Te.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new pe((O,j)=>O-j);const p=this.overlays.getIterator();for(;p.hasNext();){const O=p.getNext().value;if(O.getKey().getCollectionGroup()===t&&O.largestBatchId>o){let j=d.get(O.largestBatchId);null===j&&(j=Da(),d=d.insert(O.largestBatchId,j)),j.set(O.getKey(),O)}}const E=Da(),R=d.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((O,j)=>E.set(O,j)),!(E.size()>=u)););return Te.resolve(E)}oe(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const p=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Iu(t,o));let d=this.es.get(t);void 0===d&&(d=In(),this.es.set(t,d)),this.es.set(t,d.add(o.key))}}class Hl{constructor(){this.ns=new lt(ki.ss),this.rs=new lt(ki.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new ki(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new ki(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new nt(new mn([])),o=new ki(t,e),u=new ki(t,e+1),d=[];return this.rs.forEachInRange([o,u],p=>{this.cs(p),d.push(p.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new nt(new mn([])),o=new ki(t,e),u=new ki(t,e+1);let d=In();return this.rs.forEachInRange([o,u],p=>{d=d.add(p.key)}),d}containsKey(e){const t=new ki(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ki{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return nt.comparator(e.key,t.key)||Ht(e._s,t._s)}static os(e,t){return Ht(e._s,t._s)||nt.comparator(e.key,t.key)}}class Zp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new lt(ki.ss)}checkEmpty(e){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const d=this.ws;this.ws++;const p=new wd(d,t,o,u);this.mutationQueue.push(p);for(const E of u)this.gs=this.gs.add(new ki(E.key,d)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return Te.resolve(p)}lookupMutationBatch(e,t){return Te.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return Te.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ki(t,0),u=new ki(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],p=>{const E=this.ys(p._s);d.push(E)}),Te.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new lt(Ht);return t.forEach(u=>{const d=new ki(u,0),p=new ki(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,p],E=>{o=o.add(E._s)})}),Te.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;nt.isDocumentKey(d)||(d=d.child(""));const p=new ki(new nt(d),0);let E=new lt(Ht);return this.gs.forEachWhile(R=>{const O=R.key.path;return!!o.isPrefixOf(O)&&(O.length===u&&(E=E.add(R._s)),!0)},p),Te.resolve(this.Is(E))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){St(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return Te.forEach(t.mutations,u=>{const d=new ki(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new ki(t,0),u=this.gs.firstAfterOrEqual(o);return Te.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Te.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Yp{constructor(e){this.Es=e,this.docs=new pe(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,p=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Te.resolve(o?o.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let o=Ys();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():Gn.newInvalidDocument(u))}),Te.resolve(o)}getAllFromCollection(e,t,o){let u=Ys();const d=new nt(t.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:E,value:{document:R}}=p.getNext();if(!t.isPrefixOf(E.path))break;E.path.length>t.length+1||Ua(pa(R),o)<=0||(u=u.insert(R.key,R.mutableCopy()))}return Te.resolve(u)}getAllFromCollectionGroup(e,t,o,u){vt()}As(e,t){return Te.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Ld(this)}getSize(e){return Te.resolve(this.size)}}class Ld extends class _f{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Te.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),Te.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class oc{constructor(e){this.persistence=e,this.Rs=new Ea(t=>Mr(t),fi),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Hl,this.targetCount=0,this.vs=Ya.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),Te.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ya(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.Dn(t),Te.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.Rs.forEach((p,E)=>{E.sequenceNumber<=t&&null===o.get(E.targetId)&&(this.Rs.delete(p),d.push(this.removeMatchingKeysForTargetId(e,E.targetId)),u++)}),Te.waitFor(d).next(()=>u)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return Te.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),Te.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(p=>{d.push(u.markPotentiallyOrphaned(e,p))}),Te.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return Te.resolve(o)}containsKey(e,t){return Te.resolve(this.Ps.containsKey(t))}}class Fd{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new is(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new oc(this),this.indexManager=new zp,this.remoteDocumentCache=new Yp(o=>this.referenceDelegate.xs(o)),this.yt=new Ka(t),this.Ns=new jl(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Zp(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Ze("MemoryPersistence","Starting transaction:",e);const u=new Ud(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Os(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ms(e,t){return Te.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Ud extends class So{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Su{constructor(e){this.persistence=e,this.Fs=new Hl,this.$s=null}static Bs(e){return new Su(e)}get Ls(){if(this.$s)return this.$s;throw vt()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),Te.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Ls,o=>{const u=nt.fromPath(o);return this.qs(e,u).next(d=>{d||t.removeEntry(u,At.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Te.or([()=>Te.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Au{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=In(),u=In();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Au(e,t.fromCache,o,u)}}class xa{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(d=>d||this.Oi(e,t,u,o)).next(d=>d||this.Mi(e,t))}ki(e,t){if(Uh(t))return Te.resolve(null);let o=Ls(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=fd(t,null,"F"),o=Ls(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const p=In(...d);return this.Ni.getDocuments(e,p).next(E=>this.indexManager.getMinOffset(e,o).next(R=>{const O=this.Fi(t,E);return this.$i(t,O,p,R.readTime)?this.ki(e,fd(t,null,"F")):this.Bi(e,O,t,R)}))})))}Oi(e,t,o,u){return Uh(t)||u.isEqual(At.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(d=>{const p=this.Fi(t,d);return this.$i(t,p,o,u)?this.Mi(e,t):(ks()<=fe.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Tc(t)),this.Bi(e,p,t,function fa(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=At.fromTimestamp(1e9===o?new Zt(t+1,0):new Zt(t,o));return new Tn(u,nt.empty(),e)}(u,-1)))})}Fi(e,t){let o=new lt(yl(e));return t.forEach((u,d)=>{Bh(e,d)&&(o=o.add(d))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Mi(e,t){return ks()<=fe.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Tc(t)),this.Ni.getDocumentsMatchingQuery(e,t,Tn.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(t.forEach(p=>{d=d.insert(p.key,p)}),d))}}class pm{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.yt=u,this.qi=new pe(Ht),this.Ui=new Ea(d=>Mr(d),fi),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new If(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Xp(i,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,A.Z)(function*(i,e){const t=ut(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const p=[],E=[];let R=In();for(const O of u){p.push(O.batchId);for(const j of O.mutations)R=R.add(j.key)}for(const O of d){E.push(O.batchId);for(const j of O.mutations)R=R.add(j.key)}return t.localDocuments.getDocuments(o,R).next(O=>({ji:O,removedBatchIds:p,addedBatchIds:E}))})})}),Jp.apply(this,arguments)}function Ef(i,e){const t=ut(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(p,E,R,O){const j=R.batch,ie=j.keys();let Ie=Te.resolve();return ie.forEach(Ge=>{Ie=Ie.next(()=>O.getEntry(E,Ge)).next(Qe=>{const wt=R.docVersions.get(Ge);St(null!==wt),Qe.version.compareTo(wt)<0&&(j.applyToRemoteDocument(Qe,R),Qe.isValidDocument()&&(Qe.setReadTime(R.commitVersion),O.addEntry(Qe)))})}),Ie.next(()=>p.mutationQueue.removeMutationBatch(E,j))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let E=In();for(let R=0;R<p.mutationResults.length;++R)p.mutationResults[R].transformResults.length>0&&(E=E.add(p.batch.mutations[R].key));return E}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function gm(i){const e=ut(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function eg(i,e){const t=ut(i),o=e.snapshotVersion;let u=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.qi;const E=[];e.targetChanges.forEach((j,ie)=>{const Ie=u.get(ie);if(!Ie)return;E.push(t.Cs.removeMatchingKeys(d,j.removedDocuments,ie).next(()=>t.Cs.addMatchingKeys(d,j.addedDocuments,ie)));let Ge=Ie.withSequenceNumber(d.currentSequenceNumber);var Qe,wt,Vt;e.targetMismatches.has(ie)?Ge=Ge.withResumeToken(xr.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):j.resumeToken.approximateByteSize()>0&&(Ge=Ge.withResumeToken(j.resumeToken,o)),u=u.insert(ie,Ge),wt=Ge,Vt=j,(0===(Qe=Ie).resumeToken.approximateByteSize()||wt.snapshotVersion.toMicroseconds()-Qe.snapshotVersion.toMicroseconds()>=3e8||Vt.addedDocuments.size+Vt.modifiedDocuments.size+Vt.removedDocuments.size>0)&&E.push(t.Cs.updateTargetData(d,Ge))});let R=Ys(),O=In();if(e.documentUpdates.forEach(j=>{e.resolvedLimboDocuments.has(j)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(d,j))}),E.push(function tg(i,e,t){let o=In(),u=In();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let p=Ys();return t.forEach((E,R)=>{const O=d.get(E);R.isFoundDocument()!==O.isFoundDocument()&&(u=u.add(E)),R.isNoDocument()&&R.version.isEqual(At.min())?(e.removeEntry(E,R.readTime),p=p.insert(E,R)):!O.isValidDocument()||R.version.compareTo(O.version)>0||0===R.version.compareTo(O.version)&&O.hasPendingWrites?(e.addEntry(R),p=p.insert(E,R)):Ze("LocalStore","Ignoring outdated watch update for ",E,". Current version:",O.version," Watch version:",R.version)}),{Wi:p,zi:u}})}(d,p,e.documentUpdates).next(j=>{R=j.Wi,O=j.zi})),!o.isEqual(At.min())){const j=t.Cs.getLastRemoteSnapshotVersion(d).next(ie=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));E.push(j)}return Te.waitFor(E).next(()=>p.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,R,O)).next(()=>R)}).then(d=>(t.qi=u,d))}function ng(i,e){const t=ut(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Yc(i,e){const t=ut(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(d=>d?(u=d,Te.resolve(u)):t.Cs.allocateTargetId(o).next(p=>(u=new as(e,p,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.qi.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function ac(i,e,t){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,A.Z)(function*(i,e,t){const o=ut(i),u=o.qi.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,p=>o.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!Di(p))throw p;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.qi=o.qi.remove(e),o.Ui.delete(u.target)}),Hd.apply(this,arguments)}function Gd(i,e,t){const o=ut(i);let u=At.min(),d=In();return o.persistence.runTransaction("Execute query","readonly",p=>function(E,R,O){const j=ut(E),ie=j.Ui.get(O);return void 0!==ie?Te.resolve(j.qi.get(ie)):j.Cs.getTargetData(R,O)}(o,p,Ls(e)).next(E=>{if(E)return u=E.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(p,E.targetId).next(R=>{d=R})}).next(()=>o.Li.getDocumentsMatchingQuery(p,e,t?u:At.min(),t?d:In())).next(E=>(function Df(i,e,t){let o=i.Ki.get(e)||At.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}(o,function $h(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),E),{documents:E,Hi:d})))}class Kd{constructor(){this.activeTargetIds=Ac()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sg{constructor(){this.Lr=new Kd,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Kd,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Af{Ur(e){}shutdown(){}}class og{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ag={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vm{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class _m extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,d){const p=this.ho(e,t);Ze("RestConnection","Sending: ",p,o);const E={};return this.lo(E,u,d),this.fo(e,p,E,o).then(R=>(Ze("RestConnection","Received: ",R),R),R=>{throw Qn("RestConnection",`${e} failed with error: `,R,"url: ",p,"request:",o),R})}_o(e,t,o,u,d,p){return this.ao(e,t,o,u,d)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ti,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,t){return`${this.oo}/v1/${t}:${ag[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((d,p)=>{const E=new tn;E.setWithCredentials(!0),E.listenOnce(vn.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case an.NO_ERROR:const O=E.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(O)),d(O);break;case an.TIMEOUT:Ze("Connection",'RPC "'+e+'" timed out'),p(new ze(xe.DEADLINE_EXCEEDED,"Request time out"));break;case an.HTTP_ERROR:const j=E.getStatus();if(Ze("Connection",'RPC "'+e+'" failed with status:',j,"response text:",E.getResponseText()),j>0){let ie=E.getResponseJson();Array.isArray(ie)&&(ie=ie[0]);const Ie=ie?.error;if(Ie&&Ie.status&&Ie.message){const Ge=function(Qe){const wt=Qe.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(wt)>=0?wt:xe.UNKNOWN}(Ie.status);p(new ze(Ge,Ie.message))}else p(new ze(xe.UNKNOWN,"Server responded with status "+E.getStatus()))}else p(new ze(xe.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ze("Connection",'RPC "'+e+'" completed.')}});const R=JSON.stringify(u);E.send(t,"POST",R,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Be(),p=yt(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(E.xmlHttpFactory=new hn({})),this.lo(E.initMessageHeaders,t,o),E.encodeInitMessageHeaders=!0;const R=u.join("");Ze("Connection","Creating WebChannel: "+R,E);const O=d.createWebChannel(R,E);let j=!1,ie=!1;const Ie=new vm({Hr:Qe=>{ie?Ze("Connection","Not sending because WebChannel is closed:",Qe):(j||(Ze("Connection","Opening WebChannel transport."),O.open(),j=!0),Ze("Connection","WebChannel sending:",Qe),O.send(Qe))},Jr:()=>O.close()}),Ge=(Qe,wt,Vt)=>{Qe.listen(wt,Nr=>{try{Vt(Nr)}catch(ii){setTimeout(()=>{throw ii},0)}})};return Ge(O,fn.EventType.OPEN,()=>{ie||Ze("Connection","WebChannel transport opened.")}),Ge(O,fn.EventType.CLOSE,()=>{ie||(ie=!0,Ze("Connection","WebChannel transport closed"),Ie.io())}),Ge(O,fn.EventType.ERROR,Qe=>{ie||(ie=!0,Qn("Connection","WebChannel transport errored:",Qe),Ie.io(new ze(xe.UNAVAILABLE,"The operation could not be completed")))}),Ge(O,fn.EventType.MESSAGE,Qe=>{var wt;if(!ie){const Vt=Qe.data[0];St(!!Vt);const Nr=Vt,ii=Nr.error||(null===(wt=Nr[0])||void 0===wt?void 0:wt.error);if(ii){Ze("Connection","WebChannel received error:",ii);const pr=ii.status;let us=function(ur){const cs=Ti[ur];if(void 0!==cs)return Ip(cs)}(pr),Tr=ii.message;void 0===us&&(us=xe.INTERNAL,Tr="Unknown error status: "+pr+" with message "+ii.message),ie=!0,Ie.io(new ze(us,Tr)),O.close()}else Ze("Connection","WebChannel received:",Vt),Ie.ro(Vt)}}),Ge(p,_n.STAT_EVENT,Qe=>{Qe.stat===ln.PROXY?Ze("Connection","Detected buffering proxy"):Qe.stat===ln.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ie.so()},0),Ie}}function Wl(){return typeof document<"u"?document:null}function Qc(i){return new Jh(i,!0)}class Qa{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&Ze("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ug{constructor(e,t,o,u,d,p,E,R){this.Hs=e,this.vo=o,this.Vo=u,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=E,this.listener=R,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Qa(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,A.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,A.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,A.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===xe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new ze(xe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,A.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xf extends ug{constructor(e,t,o,u,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,p),this.yt=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Np(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(R=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===R?1:"REMOVE"===R?2:"CURRENT"===R?3:"RESET"===R?4:vt(),u=e.targetChange.targetIds||[],d=function(R,O){return R.wt?(St(void 0===O||"string"==typeof O),xr.fromBase64String(O||"")):(St(void 0===O||O instanceof Uint8Array),xr.fromUint8Array(O||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,E=p&&function(R){const O=void 0===R.code?xe.UNKNOWN:Ip(R.code);return new ze(O,R.message||"")}(p);t=new Tp(o,u,d,E||null)}else if("documentChange"in e){const o=e.documentChange,u=Ta(i,o.document.name),d=ri(o.document.updateTime),p=o.document.createTime?ri(o.document.createTime):At.min(),E=new Un({mapValue:{fields:o.document.fields}}),R=Gn.newFoundDocument(u,d,p,E);t=new Mc(o.targetIds||[],o.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const o=e.documentDelete,u=Ta(i,o.document),d=o.readTime?ri(o.readTime):At.min(),p=Gn.newNoDocument(u,d);t=new Mc([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,u=Ta(i,o.document);t=new Mc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return vt();{const o=e.filter,d=new vp(o.count||0);t=new Dp(o.targetId,d)}}var R;return t}(this.yt,e),o=function(u){if(!("targetChange"in u))return At.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ri(d.readTime):At.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Cl(this.yt),t.addTarget=function(u,d){let p;const E=d.target;return p=fu(E)?{documents:vd(u,E)}:{query:mu(u,E)},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?p.resumeToken=Mp(u,d.resumeToken):d.snapshotVersion.compareTo(At.min())>0&&(p.readTime=Rc(u,d.snapshotVersion.toTimestamp())),p}(this.yt,e);const o=function Oc(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Cl(this.yt),t.removeTarget=e,this.Bo(t)}}class Mf extends ug{constructor(e,t,o,u,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,p),this.yt=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Pp(i,e){return i&&i.length>0?(St(void 0!==e),i.map(t=>function(o,u){let d=ri(o.updateTime?o.updateTime:u);return d.isEqual(At.min())&&(d=ri(u)),new zh(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=ri(e.commitTime);return this.listener.Zo(o,t)}return St(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Cl(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function gu(i,e){let t;if(e instanceof ni)t={update:nf(i,e.key,e.value)};else if(e instanceof Zu)t={delete:kc(i,e.key)};else if(e instanceof co)t={update:nf(i,e.key,e.data),updateMask:Al(e.fieldMask)};else{if(!(e instanceof Kh))return vt();t={verify:kc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const p=d.transform;if(p instanceof Wu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gi)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof qu)return{fieldPath:d.field.canonicalString(),increment:p.gt};throw vt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Rp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:vt()),t;var u}(this.yt,o))};this.Bo(t)}}class wm extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=u,this.nu=!1}su(){if(this.nu)throw new ze(xe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ao(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ze(xe.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection._o(e,t,o,d,p,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ze(xe.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class by{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ar(t),this.ou=!1):Ze("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Em{constructor(e,t,o,u,d){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.Ur(E=>{o.enqueueAndForget((0,A.Z)(function*(){var R;f(p)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,A.Z)(function*(O){const j=ut(O);j._u.add(4),yield Jc(j),j.gu.set("Unknown"),j._u.delete(4),yield Xc(j)}),function(O){return R.apply(this,arguments)})(p))}))}),this.gu=new by(o,u)}}function Xc(i){return lg.apply(this,arguments)}function lg(){return lg=(0,A.Z)(function*(i){if(f(i))for(const e of i.wu)yield e(!0)}),lg.apply(this,arguments)}function Jc(i){return xu.apply(this,arguments)}function xu(){return xu=(0,A.Z)(function*(i){for(const e of i.wu)yield e(!1)}),xu.apply(this,arguments)}function Zd(i,e){const t=ut(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),l(t)?g(t):ku(t).ko()&&tl(t,e))}function el(i,e){const t=ut(i),o=ku(t);t.du.delete(e),o.ko()&&dg(t,e),0===t.du.size&&(o.ko()?o.Fo():f(t)&&t.gu.set("Unknown"))}function tl(i,e){i.yu.Ot(e.targetId),ku(i).zo(e)}function dg(i,e){i.yu.Ot(e),ku(i).Ho(e)}function g(i){i.yu=new am({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),ku(i).start(),i.gu.uu()}function l(i){return f(i)&&!ku(i).No()&&i.du.size>0}function f(i){return 0===ut(i)._u.size}function I(i){i.yu=void 0}function P(i){return B.apply(this,arguments)}function B(){return B=(0,A.Z)(function*(i){i.du.forEach((e,t)=>{tl(i,e)})}),B.apply(this,arguments)}function ue(i,e){return Le.apply(this,arguments)}function Le(){return Le=(0,A.Z)(function*(i,e){I(i),l(i)?(i.gu.hu(e),g(i)):i.gu.set("Unknown")}),Le.apply(this,arguments)}function Je(i,e,t){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,A.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Tp&&2===e.state&&e.cause)try{yield(o=(0,A.Z)(function*(u,d){const p=d.cause;for(const E of d.targetIds)u.du.has(E)&&(yield u.remoteSyncer.rejectListen(E,p),u.du.delete(E),u.yu.removeTarget(E))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Wt(i,o)}else if(e instanceof Mc?i.yu.Kt(e):e instanceof Dp?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(At.min()))try{const o=yield gm(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const p=u.yu.Zt(d);return p.targetChanges.forEach((E,R)=>{if(E.resumeToken.approximateByteSize()>0){const O=u.du.get(R);O&&u.du.set(R,O.withResumeToken(E.resumeToken,d))}}),p.targetMismatches.forEach(E=>{const R=u.du.get(E);if(!R)return;u.du.set(E,R.withResumeToken(xr.EMPTY_BYTE_STRING,R.snapshotVersion)),dg(u,E);const O=new as(R.target,E,1,R.sequenceNumber);tl(u,O)}),u.remoteSyncer.applyRemoteEvent(p)}(i,t))}catch(o){Ze("RemoteStore","Failed to raise snapshot:",o),yield Wt(i,o)}var o}),Tt.apply(this,arguments)}function Wt(i,e,t){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,A.Z)(function*(i,e,t){if(!Di(e))throw e;i._u.add(1),yield Jc(i),i.gu.set("Offline"),t||(t=()=>gm(i.localStore)),i.asyncQueue.enqueueRetryable((0,A.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Xc(i)}))}),Nn.apply(this,arguments)}function po(i,e){return e().catch(t=>Wt(i,t,e))}function Qs(i){return nl.apply(this,arguments)}function nl(){return nl=(0,A.Z)(function*(i){const e=ut(i),t=Xa(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Mu(e);)try{const u=yield ng(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,ql(e,u)}catch(u){yield Wt(e,u)}Kl(e)&&uc(e)}),nl.apply(this,arguments)}function Mu(i){return f(i)&&i.fu.length<10}function ql(i,e){i.fu.push(e);const t=Xa(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Kl(i){return f(i)&&!Xa(i).No()&&i.fu.length>0}function uc(i){Xa(i).start()}function Xs(i){return rl.apply(this,arguments)}function rl(){return rl=(0,A.Z)(function*(i){Xa(i).eu()}),rl.apply(this,arguments)}function Rf(i){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,A.Z)(function*(i){const e=Xa(i);for(const t of i.fu)e.Xo(t.mutations)}),Ru.apply(this,arguments)}function Jo(i,e,t){return il.apply(this,arguments)}function il(){return il=(0,A.Z)(function*(i,e,t){const o=i.fu.shift(),u=jc.from(o,e,t);yield po(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Qs(i)}),il.apply(this,arguments)}function Zl(i,e){return sl.apply(this,arguments)}function sl(){return sl=(0,A.Z)(function*(i,e){var t;e&&Xa(i).Yo&&(yield(t=(0,A.Z)(function*(o,u){if(_p(d=u.code)&&d!==xe.ABORTED){const p=o.fu.shift();Xa(o).Mo(),yield po(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield Qs(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),Kl(i)&&uc(i)}),sl.apply(this,arguments)}function Cy(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,A.Z)(function*(i,e){const t=ut(i);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const o=f(t);t._u.add(3),yield Jc(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Xc(t)}),kf.apply(this,arguments)}function Yl(){return Yl=(0,A.Z)(function*(i,e){const t=ut(i);e?(t._u.delete(2),yield Xc(t)):e||(t._u.add(2),yield Jc(t),t.gu.set("Unknown"))}),Yl.apply(this,arguments)}function ku(i){return i.pu||(i.pu=function(e,t,o){const u=ut(e);return u.su(),new xf(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:P.bind(null,i),Zr:ue.bind(null,i),Wo:Je.bind(null,i)}),i.wu.push(function(){var e=(0,A.Z)(function*(t){t?(i.pu.Mo(),l(i)?g(i):i.gu.set("Unknown")):(yield i.pu.stop(),I(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Xa(i){return i.Iu||(i.Iu=function(e,t,o){const u=ut(e);return u.su(),new Mf(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:Xs.bind(null,i),Zr:Zl.bind(null,i),tu:Rf.bind(null,i),Zo:Jo.bind(null,i)}),i.wu.push(function(){var e=(0,A.Z)(function*(t){t?(i.Iu.Mo(),yield Qs(i)):(yield i.Iu.stop(),i.fu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class Yd{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,o,u,d){const p=Date.now()+o,E=new Yd(e,t,p,u,d);return E.start(o),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cc(i,e){if(ar("AsyncQueue",`${e}: ${i}`),Di(i))return new ze(xe.UNAVAILABLE,`${e}: ${i}`);throw i}class Qd{constructor(e){this.comparator=e?(t,o)=>e(t,o)||nt.comparator(t.key,o.key):(t,o)=>nt.comparator(t.key,o.key),this.keyedMap=Dl(),this.sortedSet=new pe(this.comparator)}static emptySet(e){return new Qd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Qd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Tm{constructor(){this.Tu=new pe(nt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):vt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ql{constructor(e,t,o,u,d,p,E,R,O){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=E,this.excludesMetadataChanges=R,this.hasCachedResults=O}static fromInitialDocuments(e,t,o,u,d){const p=[];return t.forEach(E=>{p.push({type:0,doc:E})}),new Ql(e,t,Qd.emptySet(t),p,o,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Sy{constructor(){this.Au=void 0,this.listeners=[]}}class Ay{constructor(){this.queries=new Ea(e=>Vh(e),Dc),this.onlineState="Unknown",this.Ru=new Set}}function bm(){return bm=(0,A.Z)(function*(i,e){const t=ut(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new Sy),u)try{d.Au=yield t.onListen(o)}catch(p){const E=cc(p,`Initialization of query '${Tc(e.query)}' failed`);return void e.onError(E)}t.queries.set(o,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&fg(t)}),bm.apply(this,arguments)}function Cm(){return Cm=(0,A.Z)(function*(i,e){const t=ut(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const p=d.listeners.indexOf(e);p>=0&&(d.listeners.splice(p,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Cm.apply(this,arguments)}function Sm(i,e){const t=ut(i);let o=!1;for(const u of e){const p=t.queries.get(u.query);if(p){for(const E of p.listeners)E.Pu(u)&&(o=!0);p.Au=u}}o&&fg(t)}function Am(i,e,t){const o=ut(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function fg(i){i.Ru.forEach(e=>{e.next()})}class Xd{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ql(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Ry{constructor(e){this.key=e}}class ky{constructor(e){this.key=e}}class Ny{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=In(),this.mutatedKeys=In(),this.Gu=yl(e),this.Qu=new Qd(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new Tm,u=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,p=u,E=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,O="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((j,ie)=>{const Ie=u.get(j),Ge=Bh(this.query,ie)?ie:null,Qe=!!Ie&&this.mutatedKeys.has(Ie.key),wt=!!Ge&&(Ge.hasLocalMutations||this.mutatedKeys.has(Ge.key)&&Ge.hasCommittedMutations);let Vt=!1;Ie&&Ge?Ie.data.isEqual(Ge.data)?Qe!==wt&&(o.track({type:3,doc:Ge}),Vt=!0):this.Hu(Ie,Ge)||(o.track({type:2,doc:Ge}),Vt=!0,(R&&this.Gu(Ge,R)>0||O&&this.Gu(Ge,O)<0)&&(E=!0)):!Ie&&Ge?(o.track({type:0,doc:Ge}),Vt=!0):Ie&&!Ge&&(o.track({type:1,doc:Ie}),Vt=!0,(R||O)&&(E=!0)),Vt&&(Ge?(p=p.add(Ge),d=wt?d.add(j):d.delete(j)):(p=p.delete(j),d=d.delete(j)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const j="F"===this.query.limitType?p.last():p.first();p=p.delete(j.key),d=d.delete(j.key),o.track({type:1,doc:j})}return{Qu:p,zu:o,$i:E,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort((O,j)=>function(ie,Ie){const Ge=Qe=>{switch(Qe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return Ge(ie)-Ge(Ie)}(O.type,j.type)||this.Gu(O.doc,j.doc)),this.Ju(o);const p=t?this.Yu():[],E=0===this.Ku.size&&this.current?1:0,R=E!==this.Uu;return this.Uu=E,0!==d.length||R?{snapshot:new Ql(this.query,e.Qu,u,d,e.mutatedKeys,0===E,R,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:p}:{Xu:p}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Tm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=In(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new ky(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Ry(o))}),t}tc(e){this.qu=e.Hi,this.Ku=In();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ql.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class d_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class h_{constructor(e){this.key=e,this.nc=!1}}class f_{constructor(e,t,o,u,d,p){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.sc={},this.ic=new Ea(E=>Vh(E),Dc),this.rc=new Map,this.oc=new Set,this.uc=new pe(nt.comparator),this.cc=new Map,this.ac=new Hl,this.hc={},this.lc=new Map,this.fc=Ya.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function lc(i,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,A.Z)(function*(i,e){const t=jf(i);let o,u;const d=t.ic.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.ec();else{const p=yield Yc(t.localStore,Ls(e));t.isPrimaryClient&&Zd(t.remoteStore,p);const E=t.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,u=yield pg(t,e,o,"current"===E,p.resumeToken)}return u}),Jd.apply(this,arguments)}function pg(i,e,t,o,u){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,A.Z)(function*(i,e,t,o,u){i._c=(ie,Ie,Ge)=>{return(Qe=(0,A.Z)(function*(wt,Vt,Nr,ii){let pr=Vt.view.Wu(Nr);pr.$i&&(pr=yield Gd(wt.localStore,Vt.query,!1).then(({documents:ur})=>Vt.view.Wu(ur,pr)));const us=ii&&ii.targetChanges.get(Vt.targetId),Tr=Vt.view.applyChanges(pr,wt.isPrimaryClient,us);return th(wt,Vt.targetId,Tr.Xu),Tr.snapshot}),function(wt,Vt,Nr,ii){return Qe.apply(this,arguments)})(i,ie,Ie,Ge);var Qe};const d=yield Gd(i.localStore,e,!0),p=new Ny(e,d.Hi),E=p.Wu(d.documents),R=Tl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),O=p.applyChanges(E,i.isPrimaryClient,R);th(i,t,O.Xu);const j=new d_(e,t,p);return i.ic.set(e,j),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),O.snapshot}),Pf.apply(this,arguments)}function gg(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,A.Z)(function*(i,e){const t=ut(i),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(d=>!Dc(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ac(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),el(t.remoteStore,o.targetId),ol(t,o.targetId)}).catch(Ai))):(ol(t,o.targetId),yield ac(t.localStore,o.targetId,!0))}),Of.apply(this,arguments)}function yg(){return yg=(0,A.Z)(function*(i,e,t){const o=Ag(i);try{const u=yield function(d,p){const E=ut(d),R=Zt.now(),O=p.reduce((Ie,Ge)=>Ie.add(Ge.key),In());let j,ie;return E.persistence.runTransaction("Locally write mutations","readwrite",Ie=>{let Ge=Ys(),Qe=In();return E.Gi.getEntries(Ie,O).next(wt=>{Ge=wt,Ge.forEach((Vt,Nr)=>{Nr.isValidDocument()||(Qe=Qe.add(Vt))})}).next(()=>E.localDocuments.getOverlayedDocuments(Ie,Ge)).next(wt=>{j=wt;const Vt=[];for(const Nr of p){const ii=wl(Nr,j.get(Nr.key).overlayedDocument);null!=ii&&Vt.push(new co(Nr.key,ii,Vr(ii.value.mapValue),Rr.exists(!0)))}return E.mutationQueue.addMutationBatch(Ie,R,Vt,p)}).next(wt=>{ie=wt;const Vt=wt.applyToLocalDocumentSet(j,Qe);return E.documentOverlayCache.saveOverlays(Ie,wt.batchId,Vt)})}).then(()=>({batchId:ie.batchId,changes:Cc(j)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,p,E){let R=d.hc[d.currentUser.toKey()];R||(R=new pe(Ht)),R=R.insert(p,E),d.hc[d.currentUser.toKey()]=R}(o,u.batchId,t),yield Ma(o,u.changes),yield Qs(o.remoteStore)}catch(u){const d=cc(u,"Failed to persist write");t.reject(d)}}),yg.apply(this,arguments)}function Nu(i,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,A.Z)(function*(i,e){const t=ut(i);try{const o=yield eg(t.localStore,e);e.targetChanges.forEach((u,d)=>{const p=t.cc.get(d);p&&(St(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.nc=!0:u.modifiedDocuments.size>0?St(p.nc):u.removedDocuments.size>0&&(St(p.nc),p.nc=!1))}),yield Ma(t,o,e)}catch(o){yield Ai(o)}}),Lf.apply(this,arguments)}function xm(i,e,t){const o=ut(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((d,p)=>{const E=p.view.bu(e);E.snapshot&&u.push(E.snapshot)}),function(d,p){const E=ut(d);E.onlineState=p;let R=!1;E.queries.forEach((O,j)=>{for(const ie of j.listeners)ie.bu(p)&&(R=!0)}),R&&fg(E)}(o.eventManager,e),u.length&&o.sc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Py(i,e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,A.Z)(function*(i,e,t){const o=ut(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),d=u&&u.key;if(d){let p=new pe(nt.comparator);p=p.insert(d,Gn.newNoDocument(d,At.min()));const E=In().add(d),R=new xc(At.min(),new Map,new lt(Ht),p,E);yield Nu(o,R),o.uc=o.uc.remove(d),o.cc.delete(e),Vf(o)}else yield ac(o.localStore,e,!1).then(()=>ol(o,e,t)).catch(Ai)}),Ff.apply(this,arguments)}function Oy(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,A.Z)(function*(i,e){const t=ut(i),o=e.batch.batchId;try{const u=yield Ef(t.localStore,e);Xl(t,o,null),eh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Ma(t,u)}catch(u){yield Ai(u)}}),vg.apply(this,arguments)}function Uf(i,e,t){return dc.apply(this,arguments)}function dc(){return dc=(0,A.Z)(function*(i,e,t){const o=ut(i);try{const u=yield function(d,p){const E=ut(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",R=>{let O;return E.mutationQueue.lookupMutationBatch(R,p).next(j=>(St(null!==j),O=j.keys(),E.mutationQueue.removeMutationBatch(R,j))).next(()=>E.mutationQueue.performConsistencyCheck(R)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(R,O,p)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,O)).next(()=>E.localDocuments.getDocuments(R,O))})}(o.localStore,e);Xl(o,e,t),eh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Ma(o,u)}catch(u){yield Ai(u)}}),dc.apply(this,arguments)}function eh(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Xl(i,e,t){const o=ut(i);let u=o.hc[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function ol(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Ig(i,o)})}function Ig(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(el(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Vf(i))}function th(i,e,t){for(const o of t)o instanceof Ry?(i.ac.addReference(o.key,e),wg(i,o)):o instanceof ky?(Ze("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Ig(i,o.key)):vt()}function wg(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Ze("SyncEngine","New document in limbo: "+t),i.oc.add(o),Vf(i))}function Vf(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new nt(mn.fromString(e)),o=i.fc.next();i.cc.set(o,new h_(t)),i.uc=i.uc.insert(t,o),Zd(i.remoteStore,new as(Ls(Hu(t.path)),o,2,is.at))}}function Ma(i,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,A.Z)(function*(i,e,t){const o=ut(i),u=[],d=[],p=[];var E;o.ic.isEmpty()||(o.ic.forEach((E,R)=>{p.push(o._c(R,e,t).then(O=>{if((O||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,O?.fromCache?"not-current":"current"),O){u.push(O);const j=Au.Ci(R.targetId,O);d.push(j)}}))}),yield Promise.all(p),o.sc.Wo(u),yield(E=(0,A.Z)(function*(R,O){const j=ut(R);try{yield j.persistence.runTransaction("notifyLocalViewChanges","readwrite",ie=>Te.forEach(O,Ie=>Te.forEach(Ie.Si,Ge=>j.persistence.referenceDelegate.addReference(ie,Ie.targetId,Ge)).next(()=>Te.forEach(Ie.Di,Ge=>j.persistence.referenceDelegate.removeReference(ie,Ie.targetId,Ge)))))}catch(ie){if(!Di(ie))throw ie;Ze("LocalStore","Failed to update sequence numbers: "+ie)}for(const ie of O){const Ie=ie.targetId;if(!ie.fromCache){const Ge=j.qi.get(Ie),wt=Ge.withLastLimboFreeSnapshotVersion(Ge.snapshotVersion);j.qi=j.qi.insert(Ie,wt)}}}),function(R,O){return E.apply(this,arguments)})(o.localStore,d))}),Eg.apply(this,arguments)}function p_(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,A.Z)(function*(i,e){const t=ut(i);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const o=yield Xp(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(p=>{p.forEach(E=>{E.reject(new ze(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ma(t,o.ji)}var u}),Dg.apply(this,arguments)}function Mm(i,e){const t=ut(i),o=t.cc.get(e);if(o&&o.nc)return In().add(o.key);{let u=In();const d=t.rc.get(e);if(!d)return u;for(const p of d){const E=t.ic.get(p);u=u.unionWith(E.view.ju)}return u}}function jf(i){const e=ut(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Py.bind(null,e),e.sc.Wo=Sm.bind(null,e.eventManager),e.sc.wc=Am.bind(null,e.eventManager),e}function Ag(i){const e=ut(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uf.bind(null,e),e}class Om{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,A.Z)(function*(){t.yt=Qc(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Qp(i,e,t,o){return new pm(i,e,t,o)}(this.persistence,new xa,e.initialUser,this.yt)}yc(e){return new Fd(Su.Bs,this.yt)}gc(e){return new sg}terminate(){var e=this;return(0,A.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ea{initialize(e,t){var o=this;return(0,A.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>xm(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=p_.bind(null,o.syncEngine),yield function Dm(i,e){return Yl.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ay}createDatastore(e){const t=Qc(e.databaseInfo.databaseId),o=new _m(e.databaseInfo);return new wm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=E=>xm(this.syncEngine,E,0),p=og.C()?new og:new Af,new Em(t,o,u,d,p);var t,o,u,d,p}createSyncEngine(e,t){return function(o,u,d,p,E,R,O){const j=new f_(o,u,d,p,E,R);return O&&(j.dc=!0),j}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,A.Z)(function*(t){const o=ut(t);Ze("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Jc(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rh(i,e,t){if(!t)throw new ze(xe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Fm(i){if(!nt.isDocumentKey(i))throw new ze(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Hy(i){if(nt.isDocumentKey(i))throw new ze(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ih(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":vt()}function zn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ze(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ih(i);throw new ze(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const Vm=new Map;class Hf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ze(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ze(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function jy(i,e,t,o){if(!0===e&&!0===o)throw new ze(xe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ze(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new su;switch(t.type){case"gapi":return new ou(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ze(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vm.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),Vm.delete(e),t.terminate())}(this),Promise.resolve()}}class qr{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qr(this.firestore,e,this._key)}}class zi{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new zi(this.firestore,e,this._query)}}class Po extends zi{constructor(e,t,o){super(e,t,Hu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new nt(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function g_(i,e,...t){if(i=(0,J.m9)(i),rh("collection","path",e),i instanceof sh){const o=mn.fromString(e,...t);return Hy(o),new Po(i,null,o)}{if(!(i instanceof qr||i instanceof Po))throw new ze(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(mn.fromString(e,...t));return Hy(o),new Po(i.firestore,null,o)}}function zy(i,e,...t){if(i=(0,J.m9)(i),1===arguments.length&&(e=ca.R()),rh("doc","path",e),i instanceof sh){const o=mn.fromString(e,...t);return Fm(o),new qr(i,null,new nt(o))}{if(!(i instanceof qr||i instanceof Po))throw new ze(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(mn.fromString(e,...t));return Fm(o),new qr(i.firestore,i instanceof Po?i.converter:null,new nt(o))}}class oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kg{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=Kn.UNAUTHENTICATED,this.clientId=ca.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,A.Z)(function*(E){Ze("FirestoreClient","Received user=",E.uid),yield d.authCredentialListener(E),d.user=E});return function(E){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(Ze("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,A.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,A.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=cc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Ng(i,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,A.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,A.Z)(function*(d){o.isEqual(d)||(yield Xp(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Pg.apply(this,arguments)}function $m(i,e){return al.apply(this,arguments)}function al(){return al=(0,A.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Og(i);Ze("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Cy(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>Cy(e.remoteStore,d)),i.onlineComponents=e}),al.apply(this,arguments)}function Og(i){return jm.apply(this,arguments)}function jm(){return jm=(0,A.Z)(function*(i){return i.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),yield Ng(i,new Om)),i.offlineComponents}),jm.apply(this,arguments)}function Wf(i){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,A.Z)(function*(i){return i.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield $m(i,new ea)),i.onlineComponents}),Hm.apply(this,arguments)}function Jl(i){return uh.apply(this,arguments)}function uh(){return uh=(0,A.Z)(function*(i){const e=yield Wf(i),t=e.eventManager;return t.onListen=lc.bind(null,e.syncEngine),t.onUnlisten=gg.bind(null,e.syncEngine),t}),uh.apply(this,arguments)}class ch{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Qa(this,"async_queue_retry"),this.Wc=()=>{const t=Wl();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Wl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Wl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new er;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,A.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Di(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=Yd.createAndSchedule(this,e,t,o,d=>this.Yc(d));return this.Uc.push(u),u}zc(){this.Kc&&vt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,A.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Fg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Br extends sh{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new ch,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pc(this),this._firestoreClient.terminate()}}function lh(i,e){const t="object"==typeof i?i:(0,H.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,H.qX)(t,"firestore").getImmediate({identifier:o});if(!u._initialized){const d=(0,J.P0)("firestore");d&&function Gy(i,e,t,o={}){var u;const d=(i=zn(i,sh))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Qn("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let p,E;if("string"==typeof o.mockUserToken)p=o.mockUserToken,E=Kn.MOCK_USER;else{p=(0,J.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const R=o.mockUserToken.sub||o.mockUserToken.user_id;if(!R)throw new ze(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Kn(R)}i._authCredentials=new fl(new Fa(p,E))}}(u,...d)}return u}function Wn(i){return i._firestoreClient||pc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function pc(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ba(i._databaseId,d,i._persistenceKey,(E=t).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,E.useFetchStreams));var d,E;i._firestoreClient=new kg(i._authCredentials,i._appCheckCredentials,i._queue,o)}class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(xr.fromBase64String(e))}catch(t){throw new ze(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ta(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ll{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ze(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vg{constructor(e){this._methodName=e}}class Xf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const Km=/^__.*__$/;class Zm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new co(e,this.data,this.fieldMask,t,this.fieldTransforms):new ni(e,this.data,t,this.fieldTransforms)}}function $g(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class vh{constructor(e,t,o,u,d,p){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=u,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return td(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if($g(this.sa)&&Km.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ev{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||Qc(e)}da(e,t,o,u=!1){return new vh({sa:e,methodName:t,fa:o,path:vr.emptyPath(),oa:!1,la:u},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ed(i){const e=i._freezeSettings(),t=Qc(i._databaseId);return new ev(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Jf(i,e,t,o,u,d={}){const p=i.da(d.merge||d.mergeFields?2:0,e,t,u);rp("Data must be an object, but it was:",p,o);const E=np(o,p);let R,O;if(d.merge)R=new Nt(p.fieldMask),O=p.fieldTransforms;else if(d.mergeFields){const j=[];for(const ie of d.mergeFields){const Ie=Eh(e,ie,t);if(!p.contains(Ie))throw new ze(xe.INVALID_ARGUMENT,`Field '${Ie}' is specified in your field mask but missing from your input data.`);Gg(j,Ie)||j.push(Ie)}R=new Nt(j),O=p.fieldTransforms.filter(ie=>R.covers(ie.field))}else R=null,O=p.fieldTransforms;return new Zm(new Un(E),R,O)}function Ou(i,e){if(Hg(i=(0,J.m9)(i)))return rp("Unsupported field value:",e,i),np(i,e);if(i instanceof Vg)return function(t,o){if(!$g(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const p of t){let E=Ou(p,o.aa(d));null==E&&(E={nullValue:"NULL_VALUE"}),u.push(E),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,J.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jh(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Zt.fromDate(t);return{timestampValue:Rc(o.yt,u)}}if(t instanceof Zt){const u=new Zt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rc(o.yt,u)}}if(t instanceof Xf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ta)return{bytesValue:Mp(o.yt,t._byteString)};if(t instanceof qr){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:za(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${ih(t)}`)}(i,e)}function np(i,e){const t={};return Xn(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(i,(o,u)=>{const d=Ou(u,e.ra(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function Hg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Zt||i instanceof Xf||i instanceof ta||i instanceof qr||i instanceof Vg)}function rp(i,e,t){if(!Hg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ih(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function Eh(i,e,t){if((e=(0,J.m9)(e))instanceof ll)return e._internalPath;if("string"==typeof e)return Dh(i,e);throw td("Field path arguments must be of type string or ",i,!1,void 0,t)}const Xm=new RegExp("[~\\*/\\[\\]]");function Dh(i,e,t){if(e.search(Xm)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ll(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function td(i,e,t,o,u){const d=o&&!o.isEmpty(),p=void 0!==u;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let R="";return(d||p)&&(R+=" (found",d&&(R+=` in field ${o}`),p&&(R+=` in document ${u}`),R+=")"),new ze(xe.INVALID_ARGUMENT,E+i+R)}function Gg(i,e){return i.some(t=>t.isEqual(e))}class zg{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jm extends zg{data(){return super.data()}}function Th(i,e){return"string"==typeof e?Dh(i,e):e instanceof ll?e._internalPath:e._delegate._internalPath}class dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nd extends zg{constructor(e,t,o,u,d,p){super(e,t,o,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class xh extends nd{data(e={}){return super.data(e)}}class rd{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new dl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new xh(this._firestore,this._userDataWriter,o.key,o,new dl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ze(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new dl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||3!==p.type).map(p=>{const E=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new dl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let R=-1,O=-1;return 0!==p.type&&(R=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),1!==p.type&&(d=d.add(p.doc),O=d.indexOf(p.doc.key)),{type:sy(p.type),doc:E,oldIndex:R,newIndex:O}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}class Ja extends class iy{convertValue(e,t="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vt()}}convertObject(e,t){const o={};return Ko(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new Xf(Zn(e.latitude),Zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=_r(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ks(e));default:return null}}convertTimestamp(e){const t=qs(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=mn.fromString(e);St(qa(o));const u=new ji(o.get(1),o.get(3)),d=new nt(o.popFirst(5));return u.isEqual(t)||ar(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,t)}}function hv(i,e){const t=zn(i.firestore,Br),o=zy(i),u=function op(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return function Mh(i,e){return function(t,o){const u=new er;return t.asyncQueue.enqueueAndForget((0,A.Z)(function*(){return function mg(i,e,t){return yg.apply(this,arguments)}(yield function Kf(i){return Wf(i).then(e=>e.syncEngine)}(t),o,u)})),u.promise}(Wn(i),e)}(t,[Jf(ed(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Rr.exists(!1))]).then(()=>o)}function fv(i,...e){var t,o,u;i=(0,J.m9)(i);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Fg(e[p])||(d=e[p],p++);const E={includeMetadataChanges:d.includeMetadataChanges};if(Fg(e[p])){const ie=e[p];e[p]=null===(t=ie.next)||void 0===t?void 0:t.bind(ie),e[p+1]=null===(o=ie.error)||void 0===o?void 0:o.bind(ie),e[p+2]=null===(u=ie.complete)||void 0===u?void 0:u.bind(ie)}let R,O,j;if(i instanceof qr)O=zn(i.firestore,Br),j=Hu(i._key.path),R={next:ie=>{e[p]&&e[p](function Rh(i,e,t){const o=t.docs.get(e._key),u=new Ja(i);return new nd(i,u,e._key,o,new dl(t.hasPendingWrites,t.fromCache),e.converter)}(O,i,ie))},error:e[p+1],complete:e[p+2]};else{const ie=zn(i,zi);O=zn(ie.firestore,Br),j=ie._query;const Ie=new Ja(O);R={next:Ge=>{e[p]&&e[p](new rd(O,Ie,ie,Ge))},error:e[p+1],complete:e[p+2]},function Wg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ze(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(ie,Ie,Ge,Qe){const wt=new oh(Qe),Vt=new Xd(Ie,wt,Ge);return ie.asyncQueue.enqueueAndForget((0,A.Z)(function*(){return function Nf(i,e){return bm.apply(this,arguments)}(yield Jl(ie),Vt)})),()=>{wt.bc(),ie.asyncQueue.enqueueAndForget((0,A.Z)(function*(){return function hg(i,e){return Cm.apply(this,arguments)}(yield Jl(ie),Vt)}))}}(Wn(O),j,E,R)}!function(i,e=!0){ti=H.Jn,(0,H.Xd)(new Y.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const d=t.getProvider("app").getImmediate(),p=new Br(new ms(t.getProvider("auth-internal")),new au(t.getProvider("app-check-internal")),function(E,R){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ze(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ji(E.options.projectId,R)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),(0,H.KN)(io,"3.8.0",i),(0,H.KN)(io,"3.8.0","esm2017")}()},2090:(xt,Ne,$)=>{$.d(Ne,{$s:()=>st,BH:()=>cn,L:()=>ce,LL:()=>yn,P0:()=>He,Pz:()=>qt,Sg:()=>Mt,US:()=>ve,ZR:()=>wn,aH:()=>Ct,b$:()=>mt,eu:()=>qe,hl:()=>it,m9:()=>Xt,ne:()=>Or,ru:()=>Et,tV:()=>Re,uI:()=>Ae,vZ:()=>rn,xO:()=>si,z$:()=>$e,zI:()=>de});const fe=function(ee){const Z=[];let oe=0;for(let Ve=0;Ve<ee.length;Ve++){let Ee=ee.charCodeAt(Ve);Ee<128?Z[oe++]=Ee:Ee<2048?(Z[oe++]=Ee>>6|192,Z[oe++]=63&Ee|128):55296==(64512&Ee)&&Ve+1<ee.length&&56320==(64512&ee.charCodeAt(Ve+1))?(Ee=65536+((1023&Ee)<<10)+(1023&ee.charCodeAt(++Ve)),Z[oe++]=Ee>>18|240,Z[oe++]=Ee>>12&63|128,Z[oe++]=Ee>>6&63|128,Z[oe++]=63&Ee|128):(Z[oe++]=Ee>>12|224,Z[oe++]=Ee>>6&63|128,Z[oe++]=63&Ee|128)}return Z},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,Z){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ve=[];for(let Ee=0;Ee<ee.length;Ee+=3){const gt=ee[Ee],Ft=Ee+1<ee.length,Sn=Ft?ee[Ee+1]:0,Cr=Ee+2<ee.length,nr=Cr?ee[Ee+2]:0;let W=(15&Sn)<<2|nr>>6,ye=63&nr;Cr||(ye=64,Ft||(W=64)),Ve.push(oe[gt>>2],oe[(3&gt)<<4|Sn>>4],oe[W],oe[ye])}return Ve.join("")},encodeString(ee,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(ee):this.encodeByteArray(fe(ee),Z)},decodeString(ee,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(ee):function(ee){const Z=[];let oe=0,Ve=0;for(;oe<ee.length;){const Ee=ee[oe++];if(Ee<128)Z[Ve++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){const gt=ee[oe++];Z[Ve++]=String.fromCharCode((31&Ee)<<6|63&gt)}else if(Ee>239&&Ee<365){const Cr=((7&Ee)<<18|(63&ee[oe++])<<12|(63&ee[oe++])<<6|63&ee[oe++])-65536;Z[Ve++]=String.fromCharCode(55296+(Cr>>10)),Z[Ve++]=String.fromCharCode(56320+(1023&Cr))}else{const gt=ee[oe++],Ft=ee[oe++];Z[Ve++]=String.fromCharCode((15&Ee)<<12|(63&gt)<<6|63&Ft)}}return Z.join("")}(this.decodeStringToByteArray(ee,Z))},decodeStringToByteArray(ee,Z){this.init_();const oe=Z?this.charToByteMapWebSafe_:this.charToByteMap_,Ve=[];for(let Ee=0;Ee<ee.length;){const gt=oe[ee.charAt(Ee++)],Sn=Ee<ee.length?oe[ee.charAt(Ee)]:0;++Ee;const nr=Ee<ee.length?oe[ee.charAt(Ee)]:64;++Ee;const te=Ee<ee.length?oe[ee.charAt(Ee)]:64;if(++Ee,null==gt||null==Sn||null==nr||null==te)throw Error();Ve.push(gt<<2|Sn>>4),64!==nr&&(Ve.push(Sn<<4&240|nr>>2),64!==te&&Ve.push(nr<<6&192|te))}return Ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}},ce=function(ee){return function(ee){const Z=fe(ee);return ve.encodeByteArray(Z,!0)}(ee).replace(/\./g,"")},Re=function(ee){try{return ve.decodeString(ee,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Et(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){try{return"object"==typeof indexedDB}catch{return!1}}function qe(){return new Promise((ee,Z)=>{try{let oe=!0;const Ve="validate-browser-context-for-indexeddb-analytics-module",Ee=self.indexedDB.open(Ve);Ee.onsuccess=()=>{Ee.result.close(),oe||self.indexedDB.deleteDatabase(Ve),ee(!0)},Ee.onupgradeneeded=()=>{oe=!1},Ee.onerror=()=>{var gt;Z((null===(gt=Ee.error)||void 0===gt?void 0:gt.message)||"")}}catch(oe){Z(oe)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ae=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ee=process.env.__FIREBASE_DEFAULTS__;return ee?JSON.parse(ee):void 0})()||(()=>{if(typeof document>"u")return;let ee;try{ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=ee&&Re(ee[1]);return Z&&JSON.parse(Z)})()}catch(ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ee}`)}},He=ee=>{const Z=(ee=>{var Z,oe;return null===(oe=null===(Z=ae())||void 0===Z?void 0:Z.emulatorHosts)||void 0===oe?void 0:oe[ee]})(ee);if(!Z)return;const oe=Z.lastIndexOf(":");if(oe<=0||oe+1===Z.length)throw new Error(`Invalid host ${Z} with no separate hostname and port!`);const Ve=parseInt(Z.substring(oe+1),10);return"["===Z[0]?[Z.substring(1,oe-1),Ve]:[Z.substring(0,oe),Ve]},Ct=()=>{var ee;return null===(ee=ae())||void 0===ee?void 0:ee.config},qt=ee=>{var Z;return null===(Z=ae())||void 0===Z?void 0:Z[`_${ee}`]};class cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,oe)=>{this.resolve=Z,this.reject=oe})}wrapCallback(Z){return(oe,Ve)=>{oe?this.reject(oe):this.resolve(Ve),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(oe):Z(oe,Ve))}}}function Mt(ee,Z){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ve=Z||"demo-project",Ee=ee.iat||0,gt=ee.sub||ee.user_id;if(!gt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ft=Object.assign({iss:`https://securetoken.google.com/${Ve}`,aud:Ve,iat:Ee,exp:Ee+3600,auth_time:Ee,sub:gt,user_id:gt,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ft)),""].join(".")}class wn extends Error{constructor(Z,oe,Ve){super(oe),this.code=Z,this.customData=Ve,this.name="FirebaseError",Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(Z,oe,Ve){this.service=Z,this.serviceName=oe,this.errors=Ve}create(Z,...oe){const Ve=oe[0]||{},Ee=`${this.service}/${Z}`,gt=this.errors[Z],Ft=gt?function cr(ee,Z){return ee.replace(sr,(oe,Ve)=>{const Ee=Z[Ve];return null!=Ee?String(Ee):`<${Ve}?>`})}(gt,Ve):"Error";return new wn(Ee,`${this.serviceName}: ${Ft} (${Ee}).`,Ve)}}const sr=/\{\$([^}]+)}/g;function rn(ee,Z){if(ee===Z)return!0;const oe=Object.keys(ee),Ve=Object.keys(Z);for(const Ee of oe){if(!Ve.includes(Ee))return!1;const gt=ee[Ee],Ft=Z[Ee];if(dr(gt)&&dr(Ft)){if(!rn(gt,Ft))return!1}else if(gt!==Ft)return!1}for(const Ee of Ve)if(!oe.includes(Ee))return!1;return!0}function dr(ee){return null!==ee&&"object"==typeof ee}function si(ee){const Z=[];for(const[oe,Ve]of Object.entries(ee))Array.isArray(Ve)?Ve.forEach(Ee=>{Z.push(encodeURIComponent(oe)+"="+encodeURIComponent(Ee))}):Z.push(encodeURIComponent(oe)+"="+encodeURIComponent(Ve));return Z.length?"&"+Z.join("&"):""}function Or(ee,Z){const oe=new dt(ee,Z);return oe.subscribe.bind(oe)}class dt{constructor(Z,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{Z(this)}).catch(Ve=>{this.error(Ve)})}next(Z){this.forEachObserver(oe=>{oe.next(Z)})}error(Z){this.forEachObserver(oe=>{oe.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,oe,Ve){let Ee;if(void 0===Z&&void 0===oe&&void 0===Ve)throw new Error("Missing Observer.");Ee=function Ot(ee,Z){if("object"!=typeof ee||null===ee)return!1;for(const oe of Z)if(oe in ee&&"function"==typeof ee[oe])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:oe,complete:Ve},void 0===Ee.next&&(Ee.next=Bn),void 0===Ee.error&&(Ee.error=Bn),void 0===Ee.complete&&(Ee.complete=Bn);const gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ee.error(this.finalError):Ee.complete()}catch{}}),this.observers.push(Ee),gt}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,Z)}sendOne(Z,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{oe(this.observers[Z])}catch(Ve){typeof console<"u"&&console.error&&console.error(Ve)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bn(){}function st(ee,Z=1e3,oe=2){const Ve=Z*Math.pow(oe,ee),Ee=Math.round(.5*Ve*(Math.random()-.5)*2);return Math.min(144e5,Ve+Ee)}function Xt(ee){return ee&&ee._delegate?ee._delegate:ee}},3870:(xt,Ne,$)=>{$.d(Ne,{a:()=>J});var A=$(4004),H=$(8256),Y=$(384),fe=$(9902);let J=(()=>{class ve{constructor(ce,Re){this._auth=ce,this._router=Re}canActivate(){return this._auth.user$.pipe((0,A.U)(ce=>!!ce||this._router.createUrlTree(["auth"])))}}return ve.\u0275fac=function(ce){return new(ce||ve)(H.LFG(Y.e),H.LFG(fe.F0))},ve.\u0275prov=H.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},384:(xt,Ne,$)=>{$.d(Ne,{e:()=>Me});var A=$(2783),H=$(9646),Y=$(8505),fe=$(4778),J=$(4397),ve=$(8256);let Me=(()=>{class ce{constructor(q){this._store=q;const ne=fe.m.get("userId");this.user$=ne?this._getUser(ne):(0,H.of)(null)}isLogin(){return Boolean(this.user)}getList(){const q=(0,A.hJ)(this._store,"users");return(0,A.BS)(q,{idField:"id"})}_getUser(q){const ne=(0,A.JU)(this._store,"users",String(q)),ge=(0,A._1)(ne,{idField:"id"}).pipe((0,Y.b)($e=>this.user=$e));return(0,J.y)(ge)}}return ce.\u0275fac=function(q){return new(q||ce)(ve.LFG(A.gg))},ce.\u0275prov=ve.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},4778:(xt,Ne,$)=>{$.d(Ne,{m:()=>A});class A{static set(Y,fe){const J=JSON.stringify(fe);return localStorage.setItem(Y,J)}static get(Y){const fe=localStorage.getItem(Y);return fe&&JSON.parse(fe)}}},4397:(xt,Ne,$)=>{$.d(Ne,{y:()=>fe});var A=$(7579),H=$(6063);class Y extends A.x{constructor(ve=1/0,Me=1/0,ce=H.l){super(),this._bufferSize=ve,this._windowTime=Me,this._timestampProvider=ce,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Me===1/0,this._bufferSize=Math.max(1,ve),this._windowTime=Math.max(1,Me)}next(ve){const{isStopped:Me,_buffer:ce,_infiniteTimeWindow:Re,_timestampProvider:q,_windowTime:ne}=this;Me||(ce.push(ve),!Re&&ce.push(q.now()+ne)),this._trimBuffer(),super.next(ve)}_subscribe(ve){this._throwIfClosed(),this._trimBuffer();const Me=this._innerSubscribe(ve),{_infiniteTimeWindow:ce,_buffer:Re}=this,q=Re.slice();for(let ne=0;ne<q.length&&!ve.closed;ne+=ce?1:2)ve.next(q[ne]);return this._checkFinalizedStatuses(ve),Me}_trimBuffer(){const{_bufferSize:ve,_timestampProvider:Me,_buffer:ce,_infiniteTimeWindow:Re}=this,q=(Re?1:2)*ve;if(ve<1/0&&q<ce.length&&ce.splice(0,ce.length-q),!Re){const ne=Me.now();let ge=0;for(let $e=1;$e<ce.length&&ce[$e]<=ne;$e+=2)ge=$e;ge&&ce.splice(0,ge+1)}}}function fe(J){const ve=new Y(1);return J.subscribe(ve),ve}},3543:(xt,Ne,$)=>{var A=$(1481),H=$(8256),Y=$(3692),fe=$(2783);const J_firebase={projectId:"task-manager-a2665",appId:"1:795933253568:web:0bc216c2d346814b757225",storageBucket:"task-manager-a2665.appspot.com",apiKey:"AIzaSyBtRTSaPXSazLXhZCaRYFaJ8WmKn1BkrAg",authDomain:"task-manager-a2665.firebaseapp.com",messagingSenderId:"795933253568"};var ve=$(9902);const ce=[{path:"auth",loadComponent:()=>$.e(972).then($.bind($,8972)).then(ge=>ge.AuthComponent)},{path:"task",loadChildren:()=>$.e(881).then($.bind($,7881)).then(ge=>ge.TaskModule),canActivate:[$(3870).a]},{path:"",redirectTo:"task",pathMatch:"full"},{path:"**",redirectTo:"task",pathMatch:"full"}];let Re=(()=>{class ge{}return ge.\u0275fac=function(Ae){return new(Ae||ge)},ge.\u0275mod=H.oAB({type:ge}),ge.\u0275inj=H.cJS({imports:[ve.Bz.forRoot(ce),ve.Bz]}),ge})(),q=(()=>{class ge{}return ge.\u0275fac=function(Ae){return new(Ae||ge)},ge.\u0275cmp=H.Xpm({type:ge,selectors:[["app-root"]],decls:1,vars:0,template:function(Ae,ot){1&Ae&&H._UZ(0,"router-outlet")},dependencies:[ve.lC],encapsulation:2,changeDetection:0}),ge})(),ne=(()=>{class ge{}return ge.\u0275fac=function(Ae){return new(Ae||ge)},ge.\u0275mod=H.oAB({type:ge,bootstrap:[q]}),ge.\u0275inj=H.cJS({imports:[A.b2,Re,(0,Y.hX)(()=>(0,Y.ZF)(J_firebase)),(0,fe.Cm)(()=>(0,fe.ad)())]}),ge})();(0,H.G48)(),A.q6().bootstrapModule(ne).catch(ge=>console.error(ge))},9751:(xt,Ne,$)=>{$.d(Ne,{y:()=>ce});var A=$(2961),H=$(727),Y=$(8822),fe=$(9635),J=$(2416),ve=$(576),Me=$(2806);let ce=(()=>{class ge{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const ot=new ge;return ot.source=this,ot.operator=Ae,ot}subscribe(Ae,ot,ft){const Et=function ne(ge){return ge&&ge instanceof A.Lv||function q(ge){return ge&&(0,ve.m)(ge.next)&&(0,ve.m)(ge.error)&&(0,ve.m)(ge.complete)}(ge)&&(0,H.Nn)(ge)}(Ae)?Ae:new A.Hp(Ae,ot,ft);return(0,Me.x)(()=>{const{operator:mt,source:_t}=this;Et.add(mt?mt.call(Et,_t):_t?this._subscribe(Et):this._trySubscribe(Et))}),Et}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(ot){Ae.error(ot)}}forEach(Ae,ot){return new(ot=Re(ot))((ft,Et)=>{const mt=new A.Hp({next:_t=>{try{Ae(_t)}catch(ct){Et(ct),mt.unsubscribe()}},error:Et,complete:ft});this.subscribe(mt)})}_subscribe(Ae){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe(Ae)}[Y.L](){return this}pipe(...Ae){return(0,fe.U)(Ae)(this)}toPromise(Ae){return new(Ae=Re(Ae))((ot,ft)=>{let Et;this.subscribe(mt=>Et=mt,mt=>ft(mt),()=>ot(Et))})}}return ge.create=$e=>new ge($e),ge})();function Re(ge){var $e;return null!==($e=ge??J.v.Promise)&&void 0!==$e?$e:Promise}},7579:(xt,Ne,$)=>{$.d(Ne,{x:()=>Me});var A=$(9751),H=$(727);const fe=(0,$(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=$(8737),ve=$(2806);let Me=(()=>{class Re extends A.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ge=new ce(this,this);return ge.operator=ne,ge}_throwIfClosed(){if(this.closed)throw new fe}next(ne){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(ne)}})}error(ne){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ge}=this;for(;ge.length;)ge.shift().error(ne)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ge,isStopped:$e,observers:Ae}=this;return ge||$e?H.Lc:(this.currentObservers=null,Ae.push(ne),new H.w0(()=>{this.currentObservers=null,(0,J.P)(Ae,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ge,thrownError:$e,isStopped:Ae}=this;ge?ne.error($e):Ae&&ne.complete()}asObservable(){const ne=new A.y;return ne.source=this,ne}}return Re.create=(q,ne)=>new ce(q,ne),Re})();class ce extends Me{constructor(q,ne){super(),this.destination=q,this.source=ne}next(q){var ne,ge;null===(ge=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ge||ge.call(ne,q)}error(q){var ne,ge;null===(ge=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ge||ge.call(ne,q)}complete(){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===ne||ne.call(q)}_subscribe(q){var ne,ge;return null!==(ge=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(q))&&void 0!==ge?ge:H.Lc}}},2961:(xt,Ne,$)=>{$.d(Ne,{Hp:()=>ft,Lv:()=>ge});var A=$(576),H=$(727),Y=$(2416),fe=$(7849);function J(){}const ve=Re("C",void 0,void 0);function Re(Fe,je,be){return{kind:Fe,value:je,error:be}}var q=$(3410),ne=$(2806);class ge extends H.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,H.Nn)(je)&&je.add(this)):this.destination=ct}static create(je,be,it){return new ft(je,be,it)}next(je){this.isStopped?_t(function ce(Fe){return Re("N",Fe,void 0)}(je),this):this._next(je)}error(je){this.isStopped?_t(function Me(Fe){return Re("E",void 0,Fe)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?_t(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ae(Fe,je){return $e.call(Fe,je)}class ot{constructor(je){this.partialObserver=je}next(je){const{partialObserver:be}=this;if(be.next)try{be.next(je)}catch(it){Et(it)}}error(je){const{partialObserver:be}=this;if(be.error)try{be.error(je)}catch(it){Et(it)}else Et(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(be){Et(be)}}}class ft extends ge{constructor(je,be,it){let qe;if(super(),(0,A.m)(je)||!je)qe={next:je??void 0,error:be??void 0,complete:it??void 0};else{let de;this&&Y.v.useDeprecatedNextContext?(de=Object.create(je),de.unsubscribe=()=>this.unsubscribe(),qe={next:je.next&&Ae(je.next,de),error:je.error&&Ae(je.error,de),complete:je.complete&&Ae(je.complete,de)}):qe=je}this.destination=new ot(qe)}}function Et(Fe){Y.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Fe):(0,fe.h)(Fe)}function _t(Fe,je){const{onStoppedNotification:be}=Y.v;be&&q.z.setTimeout(()=>be(Fe,je))}const ct={closed:!0,next:J,error:function mt(Fe){throw Fe},complete:J}},727:(xt,Ne,$)=>{$.d(Ne,{Lc:()=>ve,w0:()=>J,Nn:()=>Me});var A=$(576);const Y=(0,$(3888).d)(Re=>function(ne){Re(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ge,$e)=>`${$e+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var fe=$(8737);class J{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ae of ne)Ae.remove(this);else ne.remove(this);const{initialTeardown:ge}=this;if((0,A.m)(ge))try{ge()}catch(Ae){q=Ae instanceof Y?Ae.errors:[Ae]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ae of $e)try{ce(Ae)}catch(ot){q=q??[],ot instanceof Y?q=[...q,...ot.errors]:q.push(ot)}}if(q)throw new Y(q)}}add(q){var ne;if(q&&q!==this)if(this.closed)ce(q);else{if(q instanceof J){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(q)}}_hasParent(q){const{_parentage:ne}=this;return ne===q||Array.isArray(ne)&&ne.includes(q)}_addParent(q){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(q),ne):ne?[ne,q]:q}_removeParent(q){const{_parentage:ne}=this;ne===q?this._parentage=null:Array.isArray(ne)&&(0,fe.P)(ne,q)}remove(q){const{_finalizers:ne}=this;ne&&(0,fe.P)(ne,q),q instanceof J&&q._removeParent(this)}}J.EMPTY=(()=>{const Re=new J;return Re.closed=!0,Re})();const ve=J.EMPTY;function Me(Re){return Re instanceof J||Re&&"closed"in Re&&(0,A.m)(Re.remove)&&(0,A.m)(Re.add)&&(0,A.m)(Re.unsubscribe)}function ce(Re){(0,A.m)(Re)?Re():Re.unsubscribe()}},2416:(xt,Ne,$)=>{$.d(Ne,{v:()=>A});const A={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(xt,Ne,$)=>{$.d(Ne,{a:()=>q});var A=$(9751),H=$(4742),Y=$(8996),fe=$(4671),J=$(3268),ve=$(7669),Me=$(1810),ce=$(5403),Re=$(9672);function q(...$e){const Ae=(0,ve.yG)($e),ot=(0,ve.jO)($e),{args:ft,keys:Et}=(0,H.D)($e);if(0===ft.length)return(0,Y.D)([],Ae);const mt=new A.y(function ne($e,Ae,ot=fe.y){return ft=>{ge(Ae,()=>{const{length:Et}=$e,mt=new Array(Et);let _t=Et,ct=Et;for(let Fe=0;Fe<Et;Fe++)ge(Ae,()=>{const je=(0,Y.D)($e[Fe],Ae);let be=!1;je.subscribe((0,ce.x)(ft,it=>{mt[Fe]=it,be||(be=!0,ct--),ct||ft.next(ot(mt.slice()))},()=>{--_t||ft.complete()}))},ft)},ft)}}(ft,Ae,Et?_t=>(0,Me.n)(Et,_t):fe.y));return ot?mt.pipe((0,J.Z)(ot)):mt}function ge($e,Ae,ot){$e?(0,Re.f)(ot,$e,Ae):Ae()}},515:(xt,Ne,$)=>{$.d(Ne,{E:()=>H});const H=new($(9751).y)(J=>J.complete())},8996:(xt,Ne,$)=>{$.d(Ne,{D:()=>je});var A=$(8421),H=$(5363),Y=$(9468),ve=$(9751),ce=$(2202),Re=$(576),q=$(9672);function ge(be,it){if(!be)throw new Error("Iterable cannot be null");return new ve.y(qe=>{(0,q.f)(qe,it,()=>{const de=be[Symbol.asyncIterator]();(0,q.f)(qe,it,()=>{de.next().then(Pe=>{Pe.done?qe.complete():qe.next(Pe.value)})},0,!0)})})}var $e=$(3670),Ae=$(8239),ot=$(1144),ft=$(6495),Et=$(2206),mt=$(4532),_t=$(3260);function je(be,it){return it?function Fe(be,it){if(null!=be){if((0,$e.c)(be))return function fe(be,it){return(0,A.Xf)(be).pipe((0,Y.R)(it),(0,H.Q)(it))}(be,it);if((0,ot.z)(be))return function Me(be,it){return new ve.y(qe=>{let de=0;return it.schedule(function(){de===be.length?qe.complete():(qe.next(be[de++]),qe.closed||this.schedule())})})}(be,it);if((0,Ae.t)(be))return function J(be,it){return(0,A.Xf)(be).pipe((0,Y.R)(it),(0,H.Q)(it))}(be,it);if((0,Et.D)(be))return ge(be,it);if((0,ft.T)(be))return function ne(be,it){return new ve.y(qe=>{let de;return(0,q.f)(qe,it,()=>{de=be[ce.h](),(0,q.f)(qe,it,()=>{let Pe,le;try{({value:Pe,done:le}=de.next())}catch(Q){return void qe.error(Q)}le?qe.complete():qe.next(Pe)},0,!0)}),()=>(0,Re.m)(de?.return)&&de.return()})}(be,it);if((0,_t.L)(be))return function ct(be,it){return ge((0,_t.Q)(be),it)}(be,it)}throw(0,mt.z)(be)}(be,it):(0,A.Xf)(be)}},8421:(xt,Ne,$)=>{$.d(Ne,{Xf:()=>$e});var A=$(655),H=$(1144),Y=$(8239),fe=$(9751),J=$(3670),ve=$(2206),Me=$(4532),ce=$(6495),Re=$(3260),q=$(576),ne=$(7849),ge=$(8822);function $e(Fe){if(Fe instanceof fe.y)return Fe;if(null!=Fe){if((0,J.c)(Fe))return function Ae(Fe){return new fe.y(je=>{const be=Fe[ge.L]();if((0,q.m)(be.subscribe))return be.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,H.z)(Fe))return function ot(Fe){return new fe.y(je=>{for(let be=0;be<Fe.length&&!je.closed;be++)je.next(Fe[be]);je.complete()})}(Fe);if((0,Y.t)(Fe))return function ft(Fe){return new fe.y(je=>{Fe.then(be=>{je.closed||(je.next(be),je.complete())},be=>je.error(be)).then(null,ne.h)})}(Fe);if((0,ve.D)(Fe))return mt(Fe);if((0,ce.T)(Fe))return function Et(Fe){return new fe.y(je=>{for(const be of Fe)if(je.next(be),je.closed)return;je.complete()})}(Fe);if((0,Re.L)(Fe))return function _t(Fe){return mt((0,Re.Q)(Fe))}(Fe)}throw(0,Me.z)(Fe)}function mt(Fe){return new fe.y(je=>{(function ct(Fe,je){var be,it,qe,de;return(0,A.mG)(this,void 0,void 0,function*(){try{for(be=(0,A.KL)(Fe);!(it=yield be.next()).done;)if(je.next(it.value),je.closed)return}catch(Pe){qe={error:Pe}}finally{try{it&&!it.done&&(de=be.return)&&(yield de.call(be))}finally{if(qe)throw qe.error}}je.complete()})})(Fe,je).catch(be=>je.error(be))})}},9646:(xt,Ne,$)=>{$.d(Ne,{of:()=>Y});var A=$(7669),H=$(8996);function Y(...fe){const J=(0,A.yG)(fe);return(0,H.D)(fe,J)}},5403:(xt,Ne,$)=>{$.d(Ne,{x:()=>H});var A=$(2961);function H(fe,J,ve,Me,ce){return new Y(fe,J,ve,Me,ce)}class Y extends A.Lv{constructor(J,ve,Me,ce,Re,q){super(J),this.onFinalize=Re,this.shouldUnsubscribe=q,this._next=ve?function(ne){try{ve(ne)}catch(ge){J.error(ge)}}:super._next,this._error=ce?function(ne){try{ce(ne)}catch(ge){J.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(ne){J.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},9300:(xt,Ne,$)=>{$.d(Ne,{h:()=>Y});var A=$(4482),H=$(5403);function Y(fe,J){return(0,A.e)((ve,Me)=>{let ce=0;ve.subscribe((0,H.x)(Me,Re=>fe.call(J,Re,ce++)&&Me.next(Re)))})}},4004:(xt,Ne,$)=>{$.d(Ne,{U:()=>Y});var A=$(4482),H=$(5403);function Y(fe,J){return(0,A.e)((ve,Me)=>{let ce=0;ve.subscribe((0,H.x)(Me,Re=>{Me.next(fe.call(J,Re,ce++))}))})}},8189:(xt,Ne,$)=>{$.d(Ne,{J:()=>Y});var A=$(5577),H=$(4671);function Y(fe=1/0){return(0,A.z)(H.y,fe)}},5577:(xt,Ne,$)=>{$.d(Ne,{z:()=>ce});var A=$(4004),H=$(8421),Y=$(4482),fe=$(9672),J=$(5403),Me=$(576);function ce(Re,q,ne=1/0){return(0,Me.m)(q)?ce((ge,$e)=>(0,A.U)((Ae,ot)=>q(ge,Ae,$e,ot))((0,H.Xf)(Re(ge,$e))),ne):("number"==typeof q&&(ne=q),(0,Y.e)((ge,$e)=>function ve(Re,q,ne,ge,$e,Ae,ot,ft){const Et=[];let mt=0,_t=0,ct=!1;const Fe=()=>{ct&&!Et.length&&!mt&&q.complete()},je=it=>mt<ge?be(it):Et.push(it),be=it=>{Ae&&q.next(it),mt++;let qe=!1;(0,H.Xf)(ne(it,_t++)).subscribe((0,J.x)(q,de=>{$e?.(de),Ae?je(de):q.next(de)},()=>{qe=!0},void 0,()=>{if(qe)try{for(mt--;Et.length&&mt<ge;){const de=Et.shift();ot?(0,fe.f)(q,ot,()=>be(de)):be(de)}Fe()}catch(de){q.error(de)}}))};return Re.subscribe((0,J.x)(q,je,()=>{ct=!0,Fe()})),()=>{ft?.()}}(ge,$e,Re,ne)))}},5363:(xt,Ne,$)=>{$.d(Ne,{Q:()=>fe});var A=$(9672),H=$(4482),Y=$(5403);function fe(J,ve=0){return(0,H.e)((Me,ce)=>{Me.subscribe((0,Y.x)(ce,Re=>(0,A.f)(ce,J,()=>ce.next(Re),ve),()=>(0,A.f)(ce,J,()=>ce.complete(),ve),Re=>(0,A.f)(ce,J,()=>ce.error(Re),ve)))})}},9468:(xt,Ne,$)=>{$.d(Ne,{R:()=>H});var A=$(4482);function H(Y,fe=0){return(0,A.e)((J,ve)=>{ve.add(Y.schedule(()=>J.subscribe(ve),fe))})}},3900:(xt,Ne,$)=>{$.d(Ne,{w:()=>fe});var A=$(8421),H=$(4482),Y=$(5403);function fe(J,ve){return(0,H.e)((Me,ce)=>{let Re=null,q=0,ne=!1;const ge=()=>ne&&!Re&&ce.complete();Me.subscribe((0,Y.x)(ce,$e=>{Re?.unsubscribe();let Ae=0;const ot=q++;(0,A.Xf)(J($e,ot)).subscribe(Re=(0,Y.x)(ce,ft=>ce.next(ve?ve($e,ft,ot,Ae++):ft),()=>{Re=null,ge()}))},()=>{ne=!0,ge()}))})}},5698:(xt,Ne,$)=>{$.d(Ne,{q:()=>fe});var A=$(515),H=$(4482),Y=$(5403);function fe(J){return J<=0?()=>A.E:(0,H.e)((ve,Me)=>{let ce=0;ve.subscribe((0,Y.x)(Me,Re=>{++ce<=J&&(Me.next(Re),J<=ce&&Me.complete())}))})}},8505:(xt,Ne,$)=>{$.d(Ne,{b:()=>J});var A=$(576),H=$(4482),Y=$(5403),fe=$(4671);function J(ve,Me,ce){const Re=(0,A.m)(ve)||Me||ce?{next:ve,error:Me,complete:ce}:ve;return Re?(0,H.e)((q,ne)=>{var ge;null===(ge=Re.subscribe)||void 0===ge||ge.call(Re);let $e=!0;q.subscribe((0,Y.x)(ne,Ae=>{var ot;null===(ot=Re.next)||void 0===ot||ot.call(Re,Ae),ne.next(Ae)},()=>{var Ae;$e=!1,null===(Ae=Re.complete)||void 0===Ae||Ae.call(Re),ne.complete()},Ae=>{var ot;$e=!1,null===(ot=Re.error)||void 0===ot||ot.call(Re,Ae),ne.error(Ae)},()=>{var Ae,ot;$e&&(null===(Ae=Re.unsubscribe)||void 0===Ae||Ae.call(Re)),null===(ot=Re.finalize)||void 0===ot||ot.call(Re)}))}):fe.y}},6063:(xt,Ne,$)=>{$.d(Ne,{l:()=>A});const A={now:()=>(A.delegate||Date).now(),delegate:void 0}},3410:(xt,Ne,$)=>{$.d(Ne,{z:()=>A});const A={setTimeout(H,Y,...fe){const{delegate:J}=A;return J?.setTimeout?J.setTimeout(H,Y,...fe):setTimeout(H,Y,...fe)},clearTimeout(H){const{delegate:Y}=A;return(Y?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(xt,Ne,$)=>{$.d(Ne,{h:()=>H});const H=function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Ne,$)=>{$.d(Ne,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(xt,Ne,$)=>{$.d(Ne,{_6:()=>ve,jO:()=>fe,yG:()=>J});var A=$(576);function Y(Me){return Me[Me.length-1]}function fe(Me){return(0,A.m)(Y(Me))?Me.pop():void 0}function J(Me){return function H(Me){return Me&&(0,A.m)(Me.schedule)}(Y(Me))?Me.pop():void 0}function ve(Me,ce){return"number"==typeof Y(Me)?Me.pop():ce}},4742:(xt,Ne,$)=>{$.d(Ne,{D:()=>J});const{isArray:A}=Array,{getPrototypeOf:H,prototype:Y,keys:fe}=Object;function J(Me){if(1===Me.length){const ce=Me[0];if(A(ce))return{args:ce,keys:null};if(function ve(Me){return Me&&"object"==typeof Me&&H(Me)===Y}(ce)){const Re=fe(ce);return{args:Re.map(q=>ce[q]),keys:Re}}}return{args:Me,keys:null}}},8737:(xt,Ne,$)=>{function A(H,Y){if(H){const fe=H.indexOf(Y);0<=fe&&H.splice(fe,1)}}$.d(Ne,{P:()=>A})},3888:(xt,Ne,$)=>{function A(H){const fe=H(J=>{Error.call(J),J.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}$.d(Ne,{d:()=>A})},1810:(xt,Ne,$)=>{function A(H,Y){return H.reduce((fe,J,ve)=>(fe[J]=Y[ve],fe),{})}$.d(Ne,{n:()=>A})},2806:(xt,Ne,$)=>{$.d(Ne,{O:()=>fe,x:()=>Y});var A=$(2416);let H=null;function Y(J){if(A.v.useDeprecatedSynchronousErrorHandling){const ve=!H;if(ve&&(H={errorThrown:!1,error:null}),J(),ve){const{errorThrown:Me,error:ce}=H;if(H=null,Me)throw ce}}else J()}function fe(J){A.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=J)}},9672:(xt,Ne,$)=>{function A(H,Y,fe,J=0,ve=!1){const Me=Y.schedule(function(){fe(),ve?H.add(this.schedule(null,J)):this.unsubscribe()},J);if(H.add(Me),!ve)return Me}$.d(Ne,{f:()=>A})},4671:(xt,Ne,$)=>{function A(H){return H}$.d(Ne,{y:()=>A})},1144:(xt,Ne,$)=>{$.d(Ne,{z:()=>A});const A=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(xt,Ne,$)=>{$.d(Ne,{D:()=>H});var A=$(576);function H(Y){return Symbol.asyncIterator&&(0,A.m)(Y?.[Symbol.asyncIterator])}},576:(xt,Ne,$)=>{function A(H){return"function"==typeof H}$.d(Ne,{m:()=>A})},3670:(xt,Ne,$)=>{$.d(Ne,{c:()=>Y});var A=$(8822),H=$(576);function Y(fe){return(0,H.m)(fe[A.L])}},6495:(xt,Ne,$)=>{$.d(Ne,{T:()=>Y});var A=$(2202),H=$(576);function Y(fe){return(0,H.m)(fe?.[A.h])}},8239:(xt,Ne,$)=>{$.d(Ne,{t:()=>H});var A=$(576);function H(Y){return(0,A.m)(Y?.then)}},3260:(xt,Ne,$)=>{$.d(Ne,{L:()=>fe,Q:()=>Y});var A=$(655),H=$(576);function Y(J){return(0,A.FC)(this,arguments,function*(){const Me=J.getReader();try{for(;;){const{value:ce,done:Re}=yield(0,A.qq)(Me.read());if(Re)return yield(0,A.qq)(void 0);yield yield(0,A.qq)(ce)}}finally{Me.releaseLock()}})}function fe(J){return(0,H.m)(J?.getReader)}},4482:(xt,Ne,$)=>{$.d(Ne,{A:()=>H,e:()=>Y});var A=$(576);function H(fe){return(0,A.m)(fe?.lift)}function Y(fe){return J=>{if(H(J))return J.lift(function(ve){try{return fe(ve,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(xt,Ne,$)=>{$.d(Ne,{Z:()=>fe});var A=$(4004);const{isArray:H}=Array;function fe(J){return(0,A.U)(ve=>function Y(J,ve){return H(ve)?J(...ve):J(ve)}(J,ve))}},9635:(xt,Ne,$)=>{$.d(Ne,{U:()=>Y,z:()=>H});var A=$(4671);function H(...fe){return Y(fe)}function Y(fe){return 0===fe.length?A.y:1===fe.length?fe[0]:function(ve){return fe.reduce((Me,ce)=>ce(Me),ve)}}},7849:(xt,Ne,$)=>{$.d(Ne,{h:()=>Y});var A=$(2416),H=$(3410);function Y(fe){H.z.setTimeout(()=>{const{onUnhandledError:J}=A.v;if(!J)throw fe;J(fe)})}},4532:(xt,Ne,$)=>{function A(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(Ne,{z:()=>A})},655:(xt,Ne,$)=>{function fe(le,Q){var we={};for(var ae in le)Object.prototype.hasOwnProperty.call(le,ae)&&Q.indexOf(ae)<0&&(we[ae]=le[ae]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(ae=Object.getOwnPropertySymbols(le);Ke<ae.length;Ke++)Q.indexOf(ae[Ke])<0&&Object.prototype.propertyIsEnumerable.call(le,ae[Ke])&&(we[ae[Ke]]=le[ae[Ke]])}return we}function ce(le,Q,we,ae){return new(we||(we=Promise))(function(He,Ct){function qt(Yt){try{Mt(ae.next(Yt))}catch(wn){Ct(wn)}}function cn(Yt){try{Mt(ae.throw(Yt))}catch(wn){Ct(wn)}}function Mt(Yt){Yt.done?He(Yt.value):function Ke(He){return He instanceof we?He:new we(function(Ct){Ct(He)})}(Yt.value).then(qt,cn)}Mt((ae=ae.apply(le,Q||[])).next())})}function Et(le){return this instanceof Et?(this.v=le,this):new Et(le)}function mt(le,Q,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,ae=we.apply(le,Q||[]),He=[];return Ke={},Ct("next"),Ct("throw"),Ct("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Ct(yn){ae[yn]&&(Ke[yn]=function(cr){return new Promise(function(sr,Pn){He.push([yn,cr,sr,Pn])>1||qt(yn,cr)})})}function qt(yn,cr){try{!function cn(yn){yn.value instanceof Et?Promise.resolve(yn.value.v).then(Mt,Yt):wn(He[0][2],yn)}(ae[yn](cr))}catch(sr){wn(He[0][3],sr)}}function Mt(yn){qt("next",yn)}function Yt(yn){qt("throw",yn)}function wn(yn,cr){yn(cr),He.shift(),He.length&&qt(He[0][0],He[0][1])}}function ct(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,Q=le[Symbol.asyncIterator];return Q?Q.call(le):(le=function ge(le){var Q="function"==typeof Symbol&&Symbol.iterator,we=Q&&le[Q],ae=0;if(we)return we.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&ae>=le.length&&(le=void 0),{value:le&&le[ae++],done:!le}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),we={},ae("next"),ae("throw"),ae("return"),we[Symbol.asyncIterator]=function(){return this},we);function ae(He){we[He]=le[He]&&function(Ct){return new Promise(function(qt,cn){!function Ke(He,Ct,qt,cn){Promise.resolve(cn).then(function(Mt){He({value:Mt,done:qt})},Ct)}(qt,cn,(Ct=le[He](Ct)).done,Ct.value)})}}}$.d(Ne,{FC:()=>mt,KL:()=>ct,_T:()=>fe,mG:()=>ce,qq:()=>Et})},6895:(xt,Ne,$)=>{$.d(Ne,{Do:()=>ct,EM:()=>ka,HT:()=>J,JF:()=>Eo,K0:()=>Me,Mx:()=>Li,Ov:()=>mo,S$:()=>Et,V_:()=>q,Ye:()=>Fe,b0:()=>_t,bD:()=>eo,ez:()=>Us,q:()=>Y,sg:()=>bi,w_:()=>ve});var A=$(8256);let H=null;function Y(){return H}function J(T){H||(H=T)}class ve{}const Me=new A.OlP("DocumentToken");let ce=(()=>{class T{historyGo(S){throw new Error("Not implemented")}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=A.Yz7({token:T,factory:function(){return function Re(){return(0,A.LFG)(ne)}()},providedIn:"platform"}),T})();const q=new A.OlP("Location Initialized");let ne=(()=>{class T extends ce{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(S){const V=Y().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",S,!1),()=>V.removeEventListener("popstate",S)}onHashChange(S){const V=Y().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",S,!1),()=>V.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,V,re){ge()?this._history.pushState(S,V,re):this.location.hash=re}replaceState(S,V,re){ge()?this._history.replaceState(S,V,re):this.location.hash=re}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return T.\u0275fac=function(S){return new(S||T)(A.LFG(Me))},T.\u0275prov=A.Yz7({token:T,factory:function(){return function $e(){return new ne((0,A.LFG)(Me))}()},providedIn:"platform"}),T})();function ge(){return!!window.history.pushState}function Ae(T,N){if(0==T.length)return N;if(0==N.length)return T;let S=0;return T.endsWith("/")&&S++,N.startsWith("/")&&S++,2==S?T+N.substring(1):1==S?T+N:T+"/"+N}function ot(T){const N=T.match(/#|\?|$/),S=N&&N.index||T.length;return T.slice(0,S-("/"===T[S-1]?1:0))+T.slice(S)}function ft(T){return T&&"?"!==T[0]?"?"+T:T}let Et=(()=>{class T{historyGo(S){throw new Error("Not implemented")}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=A.Yz7({token:T,factory:function(){return(0,A.f3M)(_t)},providedIn:"root"}),T})();const mt=new A.OlP("appBaseHref");let _t=(()=>{class T extends Et{constructor(S,V){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,A.f3M)(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Ae(this._baseHref,S)}path(S=!1){const V=this._platformLocation.pathname+ft(this._platformLocation.search),re=this._platformLocation.hash;return re&&S?`${V}${re}`:V}pushState(S,V,re,Ce){const Be=this.prepareExternalUrl(re+ft(Ce));this._platformLocation.pushState(S,V,Be)}replaceState(S,V,re,Ce){const Be=this.prepareExternalUrl(re+ft(Ce));this._platformLocation.replaceState(S,V,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return T.\u0275fac=function(S){return new(S||T)(A.LFG(ce),A.LFG(mt,8))},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),ct=(()=>{class T extends Et{constructor(S,V){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(S){const V=Ae(this._baseHref,S);return V.length>0?"#"+V:V}pushState(S,V,re,Ce){let Be=this.prepareExternalUrl(re+ft(Ce));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.pushState(S,V,Be)}replaceState(S,V,re,Ce){let Be=this.prepareExternalUrl(re+ft(Ce));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.replaceState(S,V,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return T.\u0275fac=function(S){return new(S||T)(A.LFG(ce),A.LFG(mt,8))},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac}),T})(),Fe=(()=>{class T{constructor(S){this._subject=new A.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const V=this._locationStrategy.getBaseHref();this._baseHref=ot(it(V)),this._locationStrategy.onPopState(re=>{this._subject.emit({url:this.path(!0),pop:!0,state:re.state,type:re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,V=""){return this.path()==this.normalize(S+ft(V))}normalize(S){return T.stripTrailingSlash(function be(T,N){return T&&N.startsWith(T)?N.substring(T.length):N}(this._baseHref,it(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,V="",re=null){this._locationStrategy.pushState(re,"",S,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+ft(V)),re)}replaceState(S,V="",re=null){this._locationStrategy.replaceState(re,"",S,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+ft(V)),re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)})),()=>{const V=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",V){this._urlChangeListeners.forEach(re=>re(S,V))}subscribe(S,V,re){return this._subject.subscribe({next:S,error:V,complete:re})}}return T.normalizeQueryParams=ft,T.joinWithSlash=Ae,T.stripTrailingSlash=ot,T.\u0275fac=function(S){return new(S||T)(A.LFG(Et))},T.\u0275prov=A.Yz7({token:T,factory:function(){return function je(){return new Fe((0,A.LFG)(Et))}()},providedIn:"root"}),T})();function it(T){return T.replace(/\/index.html$/,"")}function Li(T,N){N=encodeURIComponent(N);for(const S of T.split(";")){const V=S.indexOf("="),[re,Ce]=-1==V?[S,""]:[S.slice(0,V),S.slice(V+1)];if(re.trim()===N)return decodeURIComponent(Ce)}return null}class ai{constructor(N,S,V,re){this.$implicit=N,this.ngForOf=S,this.index=V,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class T{constructor(S,V,re){this._viewContainer=S,this._template=V,this._differs=re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const V=this._viewContainer;S.forEachOperation((re,Ce,Be)=>{if(null==re.previousIndex)V.createEmbeddedView(this._template,new ai(re.item,this._ngForOf,-1,-1),null===Be?void 0:Be);else if(null==Be)V.remove(null===Ce?void 0:Ce);else if(null!==Ce){const yt=V.get(Ce);V.move(yt,Be),yi(yt,re)}});for(let re=0,Ce=V.length;re<Ce;re++){const yt=V.get(re).context;yt.index=re,yt.count=Ce,yt.ngForOf=this._ngForOf}S.forEachIdentityChange(re=>{yi(V.get(re.currentIndex),re)})}static ngTemplateContextGuard(S,V){return!0}}return T.\u0275fac=function(S){return new(S||T)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))},T.\u0275dir=A.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function yi(T,N){T.context.$implicit=N.item}class Fs{createSubscription(N,S){return N.subscribe({next:S,error:V=>{throw V}})}dispose(N){N.unsubscribe()}}class _i{createSubscription(N,S){return N.then(S,V=>{throw V})}dispose(N){}}const Ii=new _i,na=new Fs;let mo=(()=>{class T{constructor(S){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,V=>this._updateLatestValue(S,V))}_selectStrategy(S){if((0,A.QGY)(S))return Ii;if((0,A.F4k)(S))return na;throw function Yr(T,N){return new A.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,V){S===this._obj&&(this._latestValue=V,this._ref.markForCheck())}}return T.\u0275fac=function(S){return new(S||T)(A.Y36(A.sBO,16))},T.\u0275pipe=A.Yjl({name:"async",type:T,pure:!1,standalone:!0}),T})(),Us=(()=>{class T{}return T.\u0275fac=function(S){return new(S||T)},T.\u0275mod=A.oAB({type:T}),T.\u0275inj=A.cJS({}),T})();const eo="browser";let ka=(()=>{class T{}return T.\u0275prov=(0,A.Yz7)({token:T,providedIn:"root",factory:()=>new Hr((0,A.LFG)(Me),window)}),T})();class Hr{constructor(N,S){this.document=N,this.window=S,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(N){this.supportsScrolling()&&this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){if(!this.supportsScrolling())return;const S=function fs(T,N){const S=T.getElementById(N)||T.getElementsByName(N)[0];if(S)return S;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const V=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let re=V.currentNode;for(;re;){const Ce=re.shadowRoot;if(Ce){const Be=Ce.getElementById(N)||Ce.querySelector(`[name="${N}"]`);if(Be)return Be}re=V.nextNode()}}return null}(this.document,N);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(N){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=N)}}scrollToElement(N){const S=N.getBoundingClientRect(),V=S.left+this.window.pageXOffset,re=S.top+this.window.pageYOffset,Ce=this.offset();this.window.scrollTo(V-Ce[0],re-Ce[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const N=Xr(this.window.history)||Xr(Object.getPrototypeOf(this.window.history));return!(!N||!N.writable&&!N.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Xr(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Eo{}},8256:(xt,Ne,$)=>{$.d(Ne,{tb:()=>u0,AFp:()=>s0,ip1:()=>r0,CZH:()=>vy,hGG:()=>RD,z2F:()=>Iy,sBO:()=>gD,Sil:()=>YE,_Vd:()=>fo,EJc:()=>KE,Xts:()=>tc,SBq:()=>sc,lqb:()=>lo,qLn:()=>Su,vpe:()=>mc,XFs:()=>dt,OlP:()=>Xn,zs3:()=>Qa,ZZ4:()=>Xv,aQg:()=>Jv,soG:()=>_y,YKP:()=>lI,h0i:()=>lp,PXZ:()=>cD,R0b:()=>nu,FiY:()=>at,Lbi:()=>zE,g9A:()=>a0,Qsj:()=>Kp,FYo:()=>jl,JOm:()=>Gi,tp0:()=>Pt,Rgc:()=>im,dDg:()=>sD,eoX:()=>g0,q4F:()=>Yp,GfV:()=>Zp,s_b:()=>gy,ifc:()=>tr,MMx:()=>Sv,Lck:()=>Vw,eFA:()=>v0,G48:()=>pD,Gpc:()=>_t,f3M:()=>C,_c5:()=>MD,c2e:()=>WE,zSh:()=>xd,wAp:()=>Qt,vHH:()=>be,lri:()=>f0,rWj:()=>p0,D6c:()=>kD,cg1:()=>_v,kL8:()=>O_,dqk:()=>tt,Z0I:()=>Es,sIi:()=>ch,CqO:()=>Dh,QGY:()=>Eh,QP$:()=>kt,F4k:()=>Xm,RDi:()=>Fc,AaK:()=>ft,qOj:()=>Zf,TTD:()=>Qr,_Bn:()=>cI,jDz:()=>hI,xp6:()=>zl,uIk:()=>Qf,ekj:()=>Ja,Suo:()=>PI,Xpm:()=>Ve,lG2:()=>me,Yz7:()=>On,cJS:()=>Rn,oAB:()=>Sn,Yjl:()=>te,Y36:()=>Mu,_UZ:()=>tp,qZA:()=>wh,TgZ:()=>ep,EpF:()=>rp,n5z:()=>Ws,LFG:()=>Dr,$8M:()=>qo,$Z:()=>ql,NdJ:()=>td,CRH:()=>OI,oxw:()=>ey,ALo:()=>CI,lcZ:()=>SI,Q6J:()=>Ih,DdM:()=>_I,VKq:()=>II,iGM:()=>NI,KtG:()=>Ms,CHM:()=>aa,LSH:()=>Tu,YNc:()=>Jf,_uU:()=>mv,Oqu:()=>uy});var A=$(7579),H=$(727),Y=$(9751),fe=$(8189),J=$(8421),ve=$(515),Me=$(7669),ce=$(8996),q=$(2961),ne=$(4482);function $e(n,r,...s){if(!0===r)return void n();if(!1===r)return;const a=new q.Hp({next:()=>{a.unsubscribe(),n()}});return r(...s).subscribe(a)}function Ae(n){for(let r in n)if(n[r]===Ae)return r;throw Error("Could not find renamed property on target object.")}function ot(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ft(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ft).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Et(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const mt=Ae({__forward_ref__:Ae});function _t(n){return n.__forward_ref__=_t,n.toString=function(){return ft(this())},n}function ct(n){return Fe(n)?n():n}function Fe(n){return"function"==typeof n&&n.hasOwnProperty(mt)&&n.__forward_ref__===_t}class be extends Error{constructor(r,s){super(function it(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function qe(n){return"string"==typeof n?n:null==n?"":String(n)}function we(n,r){throw new be(-201,!1)}function lr(n,r){null==n&&function sn(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function On(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pr(n){return rn(n,oi)||rn(n,Yn)}function Es(n){return null!==Pr(n)}function rn(n,r){return n.hasOwnProperty(r)?n[r]:null}function si(n){return n&&(n.hasOwnProperty(Ln)||n.hasOwnProperty(Or))?n[Ln]:null}const oi=Ae({\u0275prov:Ae}),Ln=Ae({\u0275inj:Ae}),Yn=Ae({ngInjectableDef:Ae}),Or=Ae({ngInjectorDef:Ae});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Rt;function Bn(n){const r=Rt;return Rt=n,r}function Lr(n,r,s){const a=Pr(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&dt.Optional?null:void 0!==r?r:void we(ft(n))}function br(n){return{toString:n}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),tr=(()=>{return(n=tr||(tr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",tr;var n})();const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ht={},Se=[],st=Ae({\u0275cmp:Ae}),Dt=Ae({\u0275dir:Ae}),Kt=Ae({\u0275pipe:Ae}),Xt=Ae({\u0275mod:Ae}),ee=Ae({\u0275fac:Ae}),Z=Ae({__NG_ELEMENT_ID__:Ae});let oe=0;function Ve(n){return br(()=>{const s=!0===n.standalone,a={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Se,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||tr.Emulated,id:"c"+oe++,styles:n.styles||Se,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,m=n.features;return c.inputs=nr(n.inputs,a),c.outputs=nr(n.outputs),m&&m.forEach(w=>w(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(gt).filter(Ft):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(ke).filter(Ft):null,c})}function gt(n){return W(n)||ye(n)}function Ft(n){return null!==n}function Sn(n){return br(()=>({type:n.type,bootstrap:n.bootstrap||Se,declarations:n.declarations||Se,imports:n.imports||Se,exports:n.exports||Se,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function nr(n,r){if(null==n)return ht;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,r&&(r[c]=h)}return s}const me=Ve;function te(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function W(n){return n[st]||null}function ye(n){return n[Dt]||null}function ke(n){return n[Kt]||null}function kt(n){const r=W(n)||ye(n)||ke(n);return null!==r&&r.standalone}function Ut(n,r){const s=n[Xt]||null;if(!s&&!0===r)throw new Error(`Type ${ft(n)} does not have '\u0275mod' property.`);return s}function wr(n){return Array.isArray(n)&&"object"==typeof n[1]}function vi(n){return Array.isArray(n)&&!0===n[1]}function go(n){return 0!=(8&n.flags)}function Yr(n){return 2==(2&n.flags)}function Fs(n){return 1==(1&n.flags)}function _i(n){return null!==n.template}function Ii(n){return 0!=(256&n[2])}function Us(n,r){return n.hasOwnProperty(ee)?n[ee]:null}class eo{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Qr(){return Yi}function Yi(n){return n.type.prototype.ngOnChanges&&(n.setInput=wo),Qi}function Qi(){const n=Vo(this),r=n?.current;if(r){const s=n.previous;if(s===ht)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function wo(n,r,s,a){const c=Vo(n)||function Xi(n,r){return n[oa]=r}(n,{previous:ht,current:null}),h=c.current||(c.current={}),m=c.previous,w=this.declaredInputs[s],b=m[w];h[w]=new eo(b&&b.currentValue,r,m===ht),n[a]=r}Qr.ngInherit=!0;const oa="__ngSimpleChanges__";function Vo(n){return n[oa]||null}function Jt(n){for(;Array.isArray(n);)n=n[0];return n}function Vs(n,r){return Jt(r[n])}function Gr(n,r){return Jt(r[n.index])}function Jn(n,r){return n.data[r]}function Er(n,r){const s=r[n];return wr(s)?s:s[0]}function mr(n){return 64==(64&n[2])}function yr(n,r){return null==r?null:n[r]}function $s(n){n[18]=0}function Fn(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const $t={lFrame:Be(null),bindingsEnabled:!0};function xs(){return $t.bindingsEnabled}function Oe(){return $t.lFrame.lView}function on(){return $t.lFrame.tView}function aa(n){return $t.lFrame.contextLView=n,n[8]}function Ms(n){return $t.lFrame.contextLView=null,n}function ir(){let n=Rs();for(;null!==n&&64===n.type;)n=n.parent;return n}function Rs(){return $t.lFrame.currentTNode}function Jr(n,r){const s=$t.lFrame;s.currentTNode=n,s.isParent=r}function Ho(){return $t.lFrame.isParent}function ei(){const n=$t.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ns(){return $t.lFrame.bindingIndex++}function $i(n,r){const s=$t.lFrame;s.bindingIndex=s.bindingRootIndex=n,gs(r)}function gs(n){$t.lFrame.currentDirectiveIndex=n}function T(){return $t.lFrame.currentQueryIndex}function N(n){$t.lFrame.currentQueryIndex=n}function S(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function V(n,r,s){if(s&dt.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||s&dt.Host||(c=S(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;r=c,n=h}const a=$t.lFrame=Ce();return a.currentTNode=r,a.lView=n,!0}function re(n){const r=Ce(),s=n[1];$t.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ce(){const n=$t.lFrame,r=null===n?null:n.child;return null===r?Be(n):r}function Be(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function yt(){const n=$t.lFrame;return $t.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const an=yt;function vn(){const n=yt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function hn(){return $t.lFrame.selectedIndex}function fn(n){$t.lFrame.selectedIndex=n}function tn(){const n=$t.lFrame;return Jn(n.tView,n.selectedIndex)}function Ze(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:k,ngOnDestroy:U}=h;m&&(n.contentHooks||(n.contentHooks=[])).push(-s,m),w&&((n.contentHooks||(n.contentHooks=[])).push(s,w),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,w)),b&&(n.viewHooks||(n.viewHooks=[])).push(-s,b),k&&((n.viewHooks||(n.viewHooks=[])).push(s,k),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,k)),null!=U&&(n.destroyHooks||(n.destroyHooks=[])).push(s,U)}}function ar(n,r,s){vt(n,r,3,s)}function Qn(n,r,s,a){(3&n[2])===s&&vt(n,r,s,a)}function rs(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function vt(n,r,s,a){const h=a??-1,m=r.length-1;let w=0;for(let b=void 0!==a?65535&n[18]:0;b<m;b++)if("number"==typeof r[b+1]){if(w=r[b],null!=a&&w>=a)break}else r[b]<0&&(n[18]+=65536),(w<h||-1==h)&&(St(n,s,r,b),n[18]=(4294901760&n[18])+b+2),b++}function St(n,r,s,a){const c=s[a]<0,h=s[a+1],w=n[c?-s[a]:s[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(w)}finally{}}}else try{h.call(w)}finally{}}class ut{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ou(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const h=s[a++],m=s[a++],w=s[a++];n.setAttribute(r,m,w,h)}else{const h=c,m=s[++a];au(h)?n.setProperty(r,h,m):n.setAttribute(r,h,m),a++}}return a}function ju(n){return 3===n||4===n||6===n}function au(n){return 64===n.charCodeAt(0)}function uu(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||ua(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function ua(n,r,s,a,c){let h=0,m=n.length;if(-1===r)m=-1;else for(;h<n.length;){const w=n[h++];if("number"==typeof w){if(w===r){m=-1;break}if(w>r){m=h-1;break}}}for(;h<n.length;){const w=n[h];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(n.splice(m,0,r),h=m+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}function ca(n){return-1!==n}function Ht(n){return 32767&n}function bo(n,r){let s=function Gs(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Zt=!0;function At(n){const r=Zt;return Zt=n,r}let vr=0;const nt={};function zs(n,r){const s=Wo(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Ei(a.data,n),Ei(r,null),Ei(a.blueprint,null));const c=Ns(n,r),h=n.injectorIndex;if(ca(c)){const m=Ht(c),w=bo(c,r),b=w[1].data;for(let k=0;k<8;k++)r[h+k]=w[m+k]|b[m+k]}return r[h+8]=c,h}function Ei(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Wo(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Ns(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Ar(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function oo(n,r,s){!function da(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Z)&&(a=s[Z]),null==a&&(a=s[Z]=vr++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function fa(n,r,s){if(s&dt.Optional||void 0!==n)return n;we()}function pa(n,r,s,a){if(s&dt.Optional&&void 0===a&&(a=null),0==(s&(dt.Self|dt.Host))){const c=n[9],h=Bn(void 0);try{return c?c.get(r,a,s&dt.Optional):Lr(r,a,s&dt.Optional)}finally{Bn(h)}}return fa(a,0,s)}function Tn(n,r,s,a=dt.Default,c){if(null!==n){if(1024&r[2]){const m=function cu(n,r,s,a,c){let h=n,m=r;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const w=Ua(h,m,s,a|dt.Self,nt);if(w!==nt)return w;let b=h.parent;if(!b){const k=m[21];if(k){const U=k.get(s,nt,a);if(U!==nt)return U}b=Ar(m),m=m[15]}h=b}return c}(n,r,s,a,nt);if(m!==nt)return m}const h=Ua(n,r,s,a,nt);if(h!==nt)return h}return pa(r,s,a,c)}function Ua(n,r,s,a,c){const h=function Va(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Z)?n[Z]:void 0;return"number"==typeof r?r>=0?255&r:vc:r}(s);if("function"==typeof h){if(!V(r,n,a))return a&dt.Host?fa(c,0,a):pa(r,s,a,c);try{const m=h(a);if(null!=m||a&dt.Optional)return m;we()}finally{an()}}else if("number"==typeof h){let m=null,w=Wo(n,r),b=-1,k=a&dt.Host?r[16][6]:null;for((-1===w||a&dt.SkipSelf)&&(b=-1===w?Ns(n,r):r[w+8],-1!==b&&xi(a,!1)?(m=r[1],w=Ht(b),r=bo(b,r)):w=-1);-1!==w;){const U=r[1];if(Te(h,w,U.data)){const G=ga(w,r,s,m,a,k);if(G!==nt)return G}b=r[w+8],-1!==b&&xi(a,r[1].data[w+8]===k)&&Te(h,w,r)?(m=U,w=Ht(b),r=bo(b,r)):w=-1}}return c}function ga(n,r,s,a,c,h){const m=r[1],w=m.data[n+8],U=So(w,m,s,null==a?Yr(w)&&Zt:a!=m&&0!=(3&w.type),c&dt.Host&&h===w);return null!==U?Ai(r,m,U,w):nt}function So(n,r,s,a,c){const h=n.providerIndexes,m=r.data,w=1048575&h,b=n.directiveStart,U=h>>20,se=c?w+U:n.directiveEnd;for(let _e=a?w:w+U;_e<se;_e++){const Ue=m[_e];if(_e<b&&s===Ue||_e>=b&&Ue.type===s)return _e}if(c){const _e=m[b];if(_e&&_i(_e)&&_e.type===s)return b}return null}function Ai(n,r,s,a){let c=n[s];const h=r.data;if(function xe(n){return n instanceof ut}(c)){const m=c;m.resolving&&function Pe(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new be(-200,`Circular dependency in DI detected for ${n}${s}`)}(function de(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():qe(n)}(h[s]));const w=At(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?Bn(m.injectImpl):null;V(n,a,dt.Default);try{c=n[s]=m.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function iu(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){const m=Yi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==b&&Bn(b),At(w),m.resolving=!1,an()}}return c}function Te(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function xi(n,r){return!(n&dt.Self||n&dt.Host&&r)}class di{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Tn(this._tNode,this._lView,r,a,s)}}function vc(){return new di(ir(),Oe())}function Ws(n){return br(()=>{const r=n.prototype.constructor,s=r[ee]||Di(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[ee]||Di(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Di(n){return Fe(n)?()=>{const r=Di(ct(n));return r&&r()}:Us(n)}function Ar(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function qo(n){return function ha(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(ju(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(ir(),n)}const ys="__parameters__";function ji(n,r,s){return br(()=>{const a=function Ba(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return w.annotation=m,w;function w(b,k,U){const G=b.hasOwnProperty(ys)?b[ys]:Object.defineProperty(b,ys,{value:[]})[ys];for(;G.length<=U;)G.push(null);return(G[U]=G[U]||[]).push(m),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Xn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=On({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hn(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Hn(a,r)):r!==n&&r.push(a)}return r}function Hi(n,r){n.forEach(s=>Array.isArray(s)?Hi(s,r):r(s))}function Ps(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function v(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function De(n,r,s){let a=Lt(n,r);return a>=0?n[1|a]=s:(a=~a,function M(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function rt(n,r){const s=Lt(n,r);if(s>=0)return n[1|s]}function Lt(n,r){return function bn(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),m=n[h<<s];if(r===m)return h<<s;m>r?c=h:a=h+1}return~(c<<s)}(n,r,1)}const uo={},_c="__NG_DI_FLAG__",du="ngTempTokenPath",Ic=/\n/gm,gl="__source";let Ha;function hu(n){const r=Ha;return Ha=n,r}function cd(n,r=dt.Default){if(void 0===Ha)throw new be(-203,!1);return null===Ha?Lr(n,void 0,r):Ha.get(n,r&dt.Optional?null:void 0,r)}function Dr(n,r=dt.Default){return(function Ot(){return Rt}()||cd)(ct(n),r)}function C(n,r=dt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Dr(n,r)}function x(n){const r=[];for(let s=0;s<n.length;s++){const a=ct(n[s]);if(Array.isArray(a)){if(0===a.length)throw new be(900,!1);let c,h=dt.Default;for(let m=0;m<a.length;m++){const w=a[m],b=z(w);"number"==typeof b?-1===b?c=w.token:h|=b:c=w}r.push(Dr(c,h))}else r.push(Dr(a))}return r}function L(n,r){return n[_c]=r,n.prototype[_c]=r,n}function z(n){return n[_c]}const at=L(ji("Optional"),8),Pt=L(ji("SkipSelf"),4);var Gi=(()=>((Gi=Gi||{})[Gi.Important=1]="Important",Gi[Gi.DashCase=2]="DashCase",Gi))();const pu=new Map;let mp=0;const El="__ngContext__";function ni(n,r){wr(r)?(n[El]=r[20],function Rr(n){pu.set(n[20],n)}(r)):n[El]=r}function Zh(n,r){return undefined(n,r)}function Cc(n){const r=n[3];return vi(r)?r[3]:r}function Yu(n){return Ep(n[13])}function Qh(n){return Ep(n[4])}function Ep(n){for(;null!==n&&!vi(n);)n=n[4];return n}function Sc(n,r,s,a,c){if(null!=a){let h,m=!1;vi(a)?h=a:wr(a)&&(m=!0,a=a[0]);const w=Jt(a);0===n&&null!==s?null==c?ef(r,s,w):za(r,s,w,c||null,!0):1===n&&null!==s?za(r,s,w,c||null,!0):2===n?function mu(n,r,s){const a=bl(n,r);a&&function Ta(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,w,m):3===n&&r.destroyNode(w),null!=h&&function Sl(n,r,s,a,c){const h=s[7];h!==Jt(s)&&Sc(r,n,a,h,c);for(let w=10;w<s.length;w++){const b=s[w];Oc(b[1],b,n,r,a,h)}}(r,n,h,s,c)}}function Mc(n,r,s){return n.createElement(r,s)}function Ap(n,r){const s=n[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,Fn(c,-1)),s.splice(a,1)}function Xh(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const c=a[17];null!==c&&c!==n&&Ap(c,a),r>0&&(n[s-1][4]=a[4]);const h=v(n,10+r);!function Dp(n,r){Oc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=h[19];null!==m&&m.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function xp(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Oc(n,r,s,3,null,null),function am(n){let r=n[13];if(!r)return Jh(n[1],n);for(;r;){let s=null;if(wr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)wr(r)&&Jh(r[1],r),r=r[3];null===r&&(r=n),wr(r)&&Jh(r[1],r),s=r&&r[4]}r=s}}(r)}}function Jh(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Mp(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof ut)){const h=s[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const w=c[h[m]],b=h[m+1];try{b.call(w)}finally{}}else try{h.call(c)}finally{}}}}(n,r),function Rc(n,r){const s=n.cleanup,a=r[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const m=s[h+1],w="function"==typeof m?m(r):Jt(r[m]),b=a[c=s[h+2]],k=s[h+3];"boolean"==typeof k?w.removeEventListener(s[h],b,k):k>=0?a[c=k]():a[c=-k].unsubscribe(),h+=2}else{const m=a[c=s[h+1]];s[h].call(m)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&vi(r[3])){s!==r[3]&&Ap(s,r);const a=r[19];null!==a&&a.detachView(n)}!function bc(n){pu.delete(n[20])}(r)}}function Rp(n,r,s){return function ri(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===tr.None||c===tr.Emulated)return null}return Gr(a,s)}(n,r.parent,s)}function za(n,r,s,a,c){n.insertBefore(r,s,a,c)}function ef(n,r,s){n.appendChild(r,s)}function kc(n,r,s,a,c){null!==a?za(n,r,s,a,c):ef(n,r,s)}function bl(n,r){return n.parentNode(r)}let vu,rf=function nf(n,r,s){return 40&n.type?Gr(n,s):null};function gu(n,r,s,a){const c=Rp(n,a,r),h=r[11],w=function tf(n,r,s){return rf(n,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)kc(h,c,s[b],w,!1);else kc(h,c,s,w,!1)}function Nc(n,r){if(null!==r){const s=r.type;if(3&s)return Gr(r,n);if(4&s)return vd(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Nc(n,a);{const c=n[r.index];return vi(c)?vd(-1,c):Jt(c)}}if(32&s)return Zh(r,n)()||Jt(n[r.index]);{const a=Pp(n,r);return null!==a?Array.isArray(a)?a[0]:Nc(Cc(n[16]),a):Nc(n,r.next)}}return null}function Pp(n,r){return null!==r?n[16][6].projection[r.projection]:null}function vd(n,r){const s=10+n+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return Nc(a,c)}return r[7]}function Pc(n,r,s,a,c,h,m){for(;null!=s;){const w=a[s.index],b=s.type;if(m&&0===r&&(w&&ni(Jt(w),a),s.flags|=4),64!=(64&s.flags))if(8&b)Pc(n,r,s.child,a,c,h,!1),Sc(r,n,c,w,h);else if(32&b){const k=Zh(s,a);let U;for(;U=k();)Sc(r,n,c,U,h);Sc(r,n,c,w,h)}else 16&b?af(n,r,a,s,c,h):Sc(r,n,c,w,h);s=m?s.projectionNext:s.next}}function Oc(n,r,s,a,c,h){Pc(s,a,n.firstChild,r,c,h,!1)}function af(n,r,s,a,c,h){const m=s[16],b=m[6].projection[a.projection];if(Array.isArray(b))for(let k=0;k<b.length;k++)Sc(r,n,c,b[k],h);else Pc(n,r,b,m[3],c,h,!0)}function yu(n,r,s){n.setAttribute(r,"style",s)}function Wa(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Fc(n){vu=n}class lf{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ba(n){return n instanceof lf?n.changingThisBreaksApplicationSecurity:n}const jc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var pi=(()=>((pi=pi||{})[pi.NONE=0]="NONE",pi[pi.HTML=1]="HTML",pi[pi.STYLE=2]="STYLE",pi[pi.SCRIPT=3]="SCRIPT",pi[pi.URL=4]="URL",pi[pi.RESOURCE_URL=5]="RESOURCE_URL",pi))();function Tu(n){const r=function bu(){const n=Oe();return n&&n[12]}();return r?r.sanitize(pi.URL,n)||"":function $c(n,r){const s=function Vp(n){return n instanceof lf&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?ba(n):function Iu(n){return(n=String(n)).match(jc)?n:"unsafe:"+n}(qe(n))}const tc=new Xn("ENVIRONMENT_INITIALIZER"),Gc=new Xn("INJECTOR",-1),Fl=new Xn("INJECTOR_DEF_TYPES");class Ul{get(r,s=uo){if(s===uo){const a=new Error(`NullInjectorError: No provider for ${ft(r)}!`);throw a.name="NullInjectorError",a}return s}}function zp(...n){return{\u0275providers:Ad(0,n)}}function Ad(n,...r){const s=[],a=new Set;let c;return Hi(r,h=>{const m=h;zc(m,s,[],a)&&(c||(c=[]),c.push(m))}),void 0!==c&&Vl(c,s),s}function Vl(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];Hi(c,h=>{r.push(h)})}}function zc(n,r,s,a){if(!(n=ct(n)))return!1;let c=null,h=si(n);const m=!h&&W(n);if(h||m){if(m&&!m.standalone)return!1;c=n}else{const b=n.ngModule;if(h=si(b),!h)return!1;c=b}const w=a.has(c);if(m){if(w)return!1;if(a.add(c),m.dependencies){const b="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of b)zc(k,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let k;a.add(c);try{Hi(h.imports,U=>{zc(U,r,s,a)&&(k||(k=[]),k.push(U))})}finally{}void 0!==k&&Vl(k,r)}if(!w){const k=Us(c)||(()=>new c);r.push({provide:c,useFactory:k,deps:Se},{provide:Fl,useValue:c,multi:!0},{provide:tc,useValue:()=>Dr(c),multi:!0})}const b=h.providers;null==b||w||Hi(b,U=>{r.push(U)})}}return c!==n&&void 0!==n.providers}const Wc=Ae({provide:String,useValue:Ae});function Cu(n){return null!==n&&"object"==typeof n&&Wc in n}function Qo(n){return"function"==typeof n}const xd=new Xn("Set Injector scope."),Sa={},Md={};let $l;function Xo(){return void 0===$l&&($l=new Ul),$l}class lo{}class Rd extends lo{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kd(r,m=>this.processProvider(m)),this.records.set(Gc,ho(void 0,this)),c.has("environment")&&this.records.set(lo,ho(void 0,this));const h=this.records.get(xd);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Fl.multi,Se,dt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=hu(this),a=Bn(void 0);try{return r()}finally{hu(s),Bn(a)}}get(r,s=uo,a=dt.Default){this.assertNotDestroyed();const c=hu(this),h=Bn(void 0);try{if(!(a&dt.SkipSelf)){let w=this.records.get(r);if(void 0===w){const b=function hm(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xn}(r)&&Pr(r);w=b&&this.injectableDefInScope(b)?ho(Ya(r),Sa):null,this.records.set(r,w)}if(null!=w)return this.hydrate(r,w)}return(a&dt.Self?Xo():this.parent).get(r,s=a&dt.Optional&&s===uo?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[du]=m[du]||[]).unshift(ft(r)),c)throw m;return function he(n,r,s,a){const c=n[du];throw r[gl]&&c.unshift(r[gl]),n.message=function pe(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=ft(r);if(Array.isArray(r))c=r.map(ft).join(" -> ");else if("object"==typeof r){let h=[];for(let m in r)if(r.hasOwnProperty(m)){let w=r[m];h.push(m+":"+("string"==typeof w?JSON.stringify(w):ft(w)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(Ic,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[du]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{Bn(h),hu(c)}}resolveInjectorInitializers(){const r=hu(this),s=Bn(void 0);try{const a=this.get(tc.multi,Se,dt.Self);for(const c of a)c()}finally{hu(r),Bn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(ft(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(r){let s=Qo(r=ct(r))?r:ct(r&&r.provide);const a=function rc(n){return Cu(n)?ho(void 0,n.useValue):ho(vf(n),Sa)}(r);if(Qo(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ho(void 0,Sa,!0),c.factory=()=>x(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Sa&&(s.value=Md,s.value=s.factory()),"object"==typeof s.value&&s.value&&function dm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ct(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Ya(n){const r=Pr(n),s=null!==r?r.factory:Us(n);if(null!==s)return s;if(n instanceof Xn)throw new be(204,!1);if(n instanceof Function)return function lm(n){const r=n.length;if(r>0)throw function _(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new be(204,!1);const s=function dr(n){const r=n&&(n[oi]||n[Yn]);if(r){const s=function Ds(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new be(204,!1)}function vf(n,r,s){let a;if(Qo(n)){const c=ct(n);return Us(c)||Ya(c)}if(Cu(n))a=()=>ct(n.useValue);else if(function Bl(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...x(n.deps||[]));else if(function nc(n){return!(!n||!n.useExisting)}(n))a=()=>Dr(ct(n.useExisting));else{const c=ct(n&&(n.useClass||n.provide));if(!function Wp(n){return!!n.deps}(n))return Us(c)||Ya(c);a=()=>new c(...x(n.deps))}return a}function ho(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function qc(n){return!!n.\u0275providers}function kd(n,r){for(const s of n)Array.isArray(s)?kd(s,r):qc(s)?kd(s.\u0275providers,r):r(s)}class _f{}class Od{resolveComponentFactory(r){throw function Nd(n){const r=Error(`No component factory found for ${ft(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let fo=(()=>{class n{}return n.NULL=new Od,n})();function Kc(){return Aa(ir(),Oe())}function Aa(n,r){return new sc(Gr(n,r))}let sc=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Kc,n})();function qp(n){return n instanceof sc?n.nativeElement:n}class jl{}let Kp=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Hl(){const n=Oe(),s=Er(ir().index,n);return(wr(s)?s:n)[11]}(),n})(),ki=(()=>{class n{}return n.\u0275prov=On({token:n,providedIn:"root",factory:()=>null}),n})();class Zp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Yp=new Zp("14.2.12"),Ld={};function Ud(n){return n.ngOriginalError}class Su{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Ud(r);for(;s&&Ud(s);)s=Ud(s);return s||null}}function xa(n){return n instanceof Function?n():n}function eg(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}const ng="ng-template";function Yc(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==eg(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function ac(n){return 4===n.type&&n.value!==ng}function Hd(n,r,s){return r===(4!==n.type||s?n.value:ng)}function Gd(n,r,s){let a=4;const c=n.attrs||[],h=function zd(n){for(let r=0;r<n.length;r++)if(ju(n[r]))return r;return n.length}(c);let m=!1;for(let w=0;w<r.length;w++){const b=r[w];if("number"!=typeof b){if(!m)if(4&a){if(a=2|1&a,""!==b&&!Hd(n,b,s)||""===b&&1===r.length){if(ko(a))return!1;m=!0}}else{const k=8&a?b:r[++w];if(8&a&&null!==n.attrs){if(!Yc(n.attrs,k,s)){if(ko(a))return!1;m=!0}continue}const G=rg(8&a?"class":b,c,ac(n),s);if(-1===G){if(ko(a))return!1;m=!0;continue}if(""!==k){let se;se=G>h?"":c[G+1].toLowerCase();const _e=8&a?se:null;if(_e&&-1!==eg(_e,k,0)||2&a&&k!==se){if(ko(a))return!1;m=!0}}}}else{if(!m&&!ko(a)&&!ko(b))return!1;if(m&&ko(b))continue;m=!1,a=b|1&a}}return ko(a)||m}function ko(n){return 0==(1&n)}function rg(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let h=!1;for(;c<r.length;){const m=r[c];if(m===n)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function ym(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Df(n,r,s=!1){for(let a=0;a<r.length;a++)if(Gd(n,r[a],s))return!0;return!1}function bf(n,r){return n?":not("+r.trim()+")":r}function ig(n){let r=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&a){const w=n[++s];c+="["+m+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!ko(m)&&(r+=bf(h,c),c=""),a=m,h=h||!ko(a);s++}return""!==c&&(r+=bf(h,c)),r}const en={};function zl(n){qd(on(),Oe(),hn()+n,!1)}function qd(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&ar(r,h,s)}else{const h=n.preOrderHooks;null!==h&&Qn(r,h,0,s)}fn(s)}function Wl(n,r=null,s=null,a){const c=Qc(n,r,s,a);return c.resolveInjectorInitializers(),c}function Qc(n,r=null,s=null,a,c=new Set){const h=[s||Se,zp(n)];return a=a||("object"==typeof n?void 0:ft(n)),new Rd(h,r||Xo(),a||null,c)}let Qa=(()=>{class n{static create(s,a){if(Array.isArray(s))return Wl({name:""},a,s,"");{const c=s.name??"";return Wl({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=uo,n.NULL=new Ul,n.\u0275prov=On({token:n,providedIn:"any",factory:()=>Dr(Gc)}),n.__NG_ELEMENT_ID__=-1,n})();function Mu(n,r=dt.Default){const s=Oe();return null===s?Dr(n,r):Tn(ir(),s,ct(n),r)}function ql(){throw new Error("invalid")}function uc(n,r){return n<<17|r<<2}function Xs(n){return n>>17&32767}function Ru(n){return 2|n}function Jo(n){return(131068&n)>>2}function il(n,r){return-131069&n|r<<2}function sl(n){return 1|n}function Ff(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],h=s[a+1];if(-1!==h){const m=n.data[h];N(c),m.contentQueries(2,r[h],h)}}}function Uf(n,r,s,a,c,h,m,w,b,k,U){const G=r.blueprint.slice();return G[0]=c,G[2]=76|a,(null!==U||n&&1024&n[2])&&(G[2]|=1024),$s(G),G[3]=G[15]=n,G[8]=s,G[10]=m||n&&n[10],G[11]=w||n&&n[11],G[12]=b||n&&n[12]||null,G[9]=k||n&&n[9]||null,G[6]=h,G[20]=function zh(){return mp++}(),G[21]=U,G[16]=2==r.type?n[16]:G,G}function dc(n,r,s,a,c){let h=n.data[r];if(null===h)h=function _g(n,r,s,a,c){const h=Rs(),m=Ho(),b=n.data[r]=function Ly(n,r,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=b),null!==h&&(m?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(n,r,s,a,c),function ro(){return $t.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const m=function ts(){const n=$t.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Jr(h,!0),h}function hc(n,r,s,a){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function eh(n,r,s){re(r);try{const a=n.viewQuery;null!==a&&Bm(1,a,s);const c=n.template;null!==c&&ol(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ff(n,r),n.staticViewQueries&&Bm(2,n.viewQuery,s);const h=n.components;null!==h&&function vg(n,r){for(let s=0;s<r.length;s++)sh(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,vn()}}function Xl(n,r,s,a){const c=r[2];if(128!=(128&c)){re(r);try{$s(r),function Go(n){return $t.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&ol(n,r,s,2,a);const m=3==(3&c);if(m){const k=n.preOrderCheckHooks;null!==k&&ar(r,k,null)}else{const k=n.preOrderHooks;null!==k&&Qn(r,k,0,null),rs(r,0)}if(function Um(n){for(let r=Yu(n);null!==r;r=Qh(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],h=c[3];0==(512&c[2])&&Fn(h,1),c[2]|=512}}}(r),function zn(n){for(let r=Yu(n);null!==r;r=Qh(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];mr(a)&&Xl(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&Ff(n,r),m){const k=n.contentCheckHooks;null!==k&&ar(r,k)}else{const k=n.contentHooks;null!==k&&Qn(r,k,1),rs(r,1)}!function Py(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)fn(~c);else{const h=c,m=s[++a],w=s[++a];$i(m,h),w(2,r[h])}}}finally{fn(-1)}}(n,r);const w=n.components;null!==w&&function Oy(n,r){for(let s=0;s<r.length;s++)Vm(n,r[s])}(r,w);const b=n.viewQuery;if(null!==b&&Bm(2,b,a),m){const k=n.viewCheckHooks;null!==k&&ar(r,k)}else{const k=n.viewHooks;null!==k&&Qn(r,k,2),rs(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Fn(r[3],-1))}finally{vn()}}}function ol(n,r,s,a,c){const h=hn(),m=2&a;try{fn(-1),m&&r.length>22&&qd(n,r,22,!1),s(a,c)}finally{fn(h)}}function th(n,r,s){!xs()||(function Vy(n,r,s,a){const c=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||zs(s,r),ni(a,r);const m=s.initialInputs;for(let w=c;w<h;w++){const b=n.data[w],k=_i(b);k&&$y(r,s,b);const U=Ai(r,n,w,s);ni(U,r),null!==m&&jy(0,w-c,U,b,0,m),k&&(Er(s.index,r)[8]=U)}}(n,r,s,Gr(s,r)),128==(128&s.flags)&&function Cg(n,r,s){const a=s.directiveStart,c=s.directiveEnd,h=s.index,m=function $u(){return $t.lFrame.currentDirectiveIndex}();try{fn(h);for(let w=a;w<c;w++){const b=n.data[w],k=r[w];gs(w),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Pm(b,k)}}finally{fn(-1),gs(m)}}(n,r,s))}function wg(n,r,s=Gr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],w=-1===m?s(r,n):n[m];n[c++]=w}}}function Vf(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Ma(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Ma(n,r,s,a,c,h,m,w,b,k){const U=22+a,G=U+c,se=function Eg(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:en);return s}(U,G),_e="function"==typeof k?k():k;return se[1]={type:n,blueprint:se,template:s,queries:null,viewQuery:w,declTNode:r,data:se.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:_e,incompleteFirstPass:!1}}function Mm(n,r,s,a){const c=Wy(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&xg(n).push(a,c.length-1))}function Bf(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function Rm(n,r){const a=r.directiveEnd,c=n.data,h=r.attrs,m=[];let w=null,b=null;for(let k=r.directiveStart;k<a;k++){const U=c[k],G=U.inputs,se=null===h||ac(r)?null:Fm(G,h);m.push(se),w=Bf(G,k,w),b=Bf(U.outputs,k,b)}null!==w&&(w.hasOwnProperty("class")&&(r.flags|=16),w.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=w,r.outputs=b}function $f(n,r){const s=Er(r,n);16&s[2]||(s[2]|=32)}function nh(n,r,s,a){let c=!1;if(xs()){const h=function Sg(n,r,s){const a=n.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const m=a[h];Df(s,m.selectors,!1)&&(c||(c=[]),oo(zs(s,r),n,m.type),_i(m)?(jf(n,s),c.unshift(m)):c.push(m))}return c}(n,r,s),m=null===a?null:{"":-1};if(null!==h){c=!0,Om(s,n.data.length,h.length);for(let U=0;U<h.length;U++){const G=h[U];G.providersResolver&&G.providersResolver(G)}let w=!1,b=!1,k=hc(n,r,h.length,null);for(let U=0;U<h.length;U++){const G=h[U];s.mergedAttrs=uu(s.mergedAttrs,G.hostAttrs),Lm(n,s,r,k,G),By(k,G,m),null!==G.contentQueries&&(s.flags|=8),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(s.flags|=128);const se=G.type.prototype;!w&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),w=!0),!b&&(se.ngOnChanges||se.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),b=!0),k++}Rm(n,s)}m&&function Ag(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new be(-301,!1);a.push(r[c],h)}}}(s,a,m)}return s.mergedAttrs=uu(s.mergedAttrs,s.attrs),c}function bg(n,r,s,a,c,h){const m=h.hostBindings;if(m){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const b=~r.index;(function Uy(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=b&&w.push(b),w.push(a,c,m)}}function Pm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function jf(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function By(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;_i(r)&&(s[""]=n)}}function Om(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Lm(n,r,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=Us(c.type)),m=new ut(h,_i(c),Mu);n.blueprint[a]=m,s[a]=m,bg(n,r,0,a,hc(n,s,c.hostVars,en),c)}function $y(n,r,s){const a=Gr(r,n),c=Vf(s),h=n[10],m=qr(n,Uf(n,c,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=m}function ea(n,r,s,a,c,h){const m=Gr(n,r);!function rh(n,r,s,a,c,h,m){if(null==h)n.removeAttribute(r,c,s);else{const w=null==m?qe(h):m(h,a||"",c);n.setAttribute(r,c,w,s)}}(r[11],m,h,n.value,s,a,c)}function jy(n,r,s,a,c,h){const m=h[r];if(null!==m){const w=a.setInput;for(let b=0;b<m.length;){const k=m[b++],U=m[b++],G=m[b++];null!==w?a.setInput(s,G,k,U):s[U]=G}}}function Fm(n,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function ih(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Vm(n,r){const s=Er(r,n);if(mr(s)){const a=s[1];48&s[2]?Xl(a,s,a.template,s[8]):s[5]>0&&Hf(s)}}function Hf(n){for(let a=Yu(n);null!==a;a=Qh(a))for(let c=10;c<a.length;c++){const h=a[c];if(mr(h))if(512&h[2]){const m=h[1];Xl(m,h,m.template,h[8])}else h[5]>0&&Hf(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Er(s[a],n);mr(c)&&c[5]>0&&Hf(c)}}function sh(n,r){const s=Er(r,n),a=s[1];(function Gy(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),eh(a,s,s[8])}function qr(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function zi(n){for(;n;){n[2]|=32;const r=Cc(n);if(Ii(n)&&!r)return n;n=r}return null}function Po(n,r,s,a=!0){const c=r[10];c.begin&&c.begin();try{Xl(n,r,n.template,s)}catch(m){throw a&&oh(r,m),m}finally{c.end&&c.end()}}function Bm(n,r,s){N(0),r(n,s)}function Wy(n){return n[7]||(n[7]=[])}function xg(n){return n.cleanup||(n.cleanup=[])}function oh(n,r){const s=n[9],a=s?s.get(Su,null):null;a&&a.handleError(r)}function Rg(n,r,s,a,c){for(let h=0;h<s.length;){const m=s[h++],w=s[h++],b=r[m],k=n.data[m];null!==k.setInput?k.setInput(b,c,a,w):b[w]=c}}function Gf(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==r)for(let m=0;m<r.length;m++){const w=r[m];"number"==typeof w?h=w:1==h?c=Et(c,w):2==h&&(a=Et(a,w+": "+r[++m]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function zf(n,r,s,a,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Jt(h)),vi(h))for(let w=10;w<h.length;w++){const b=h[w],k=b[1].firstChild;null!==k&&zf(b[1],b,k,a)}const m=s.type;if(8&m)zf(n,r,s.child,a);else if(32&m){const w=Zh(s,r);let b;for(;b=w();)a.push(b)}else if(16&m){const w=Pp(r,s);if(Array.isArray(w))a.push(...w);else{const b=Cc(r[16]);zf(b[1],b,w,a,!0)}}s=c?s.projectionNext:s.next}return a}class ah{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return zf(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(vi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Xh(r,a),v(s,a))}this._attachedToViewContainer=!1}xp(this._lView[1],this._lView)}onDestroy(r){Mm(this._lView[1],this._lView,null,r)}markForCheck(){zi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Po(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bp(n,r){Oc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=r}}class qy extends ah{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Po(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class kg extends fo{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=W(r);return new al(s,this.ngModule)}}function Ng(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class $m{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,Ld,a);return c!==Ld||s===Ld?c:this.parentInjector.get(r,s,a)}}class al extends _f{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Cf(n){return n.map(ig).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Ng(this.componentDef.inputs)}get outputs(){return Ng(this.componentDef.outputs)}create(r,s,a,c){let h=(c=c||this.ngModule)instanceof lo?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new $m(r,h):r,w=m.get(jl,null);if(null===w)throw new be(407,!1);const b=m.get(ki,null),k=w.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",G=a?function Dg(n,r,s){return n.selectRootElement(r,s===tr.ShadowDom)}(k,a,this.componentDef.encapsulation):Mc(k,U,function Pg(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(U)),se=this.componentDef.onPush?288:272,_e=Ma(0,null,null,1,0,null,null,null,null,null),Ue=Uf(null,_e,null,se,null,null,w,k,b,m,null);let et,pt;re(Ue);try{const bt=function Gm(n,r,s,a,c,h){const m=s[1];s[22]=n;const b=dc(m,22,2,"#host",null),k=b.mergedAttrs=r.hostAttrs;null!==k&&(Gf(b,k,!0),null!==n&&(ou(c,n,k),null!==b.classes&&Wa(c,n,b.classes),null!==b.styles&&yu(c,n,b.styles)));const U=a.createRenderer(n,r),G=Uf(s,Vf(r),null,r.onPush?32:16,s[22],b,a,U,h||null,null,null);return m.firstCreatePass&&(oo(zs(b,s),m,r.type),jf(m,b),Om(b,s.length,1)),qr(s,G),s[22]=G}(G,this.componentDef,Ue,w,k);if(G)if(a)ou(k,G,["ng-version",Yp.full]);else{const{attrs:jt,classes:Ye}=function Wd(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++a]):8===c&&s.push(h);else{if(!ko(c))break;c=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);jt&&ou(k,G,jt),Ye&&Ye.length>0&&Wa(k,G,Ye.join(" "))}if(pt=Jn(_e,22),void 0!==s){const jt=pt.projection=[];for(let Ye=0;Ye<this.ngContentSelectors.length;Ye++){const nn=s[Ye];jt.push(null!=nn?Array.from(nn):null)}}et=function qf(n,r,s,a){const c=s[1],h=function Nm(n,r,s){const a=ir();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Lm(n,a,r,hc(n,r,1,null),s),Rm(n,a));const c=Ai(r,n,a.directiveStart,a);ni(c,r);const h=Gr(a,r);return h&&ni(h,r),c}(c,s,r);if(n[8]=s[8]=h,null!==a)for(const w of a)w(h,r);if(r.contentQueries){const w=ir();r.contentQueries(1,h,w.directiveStart)}const m=ir();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(fn(m.index),bg(s[1],m,0,m.directiveStart,m.directiveEnd,r),Pm(r,h)),h}(bt,this.componentDef,Ue,[Lg]),eh(_e,Ue,null)}finally{vn()}return new Wf(this.componentType,et,Aa(pt,Ue),Ue,pt)}}class Wf extends class ic{}{constructor(r,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new qy(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const h=this._rootLView;Rg(h[1],h,c,r,s),$f(h,this._tNode.index)}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Lg(){const n=ir();Ze(Oe()[1],n)}function Zf(n){let r=function Kf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(_i(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new be(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const m=n;m.inputs=uh(n.inputs),m.declaredInputs=uh(n.declaredInputs),m.outputs=uh(n.outputs);const w=c.hostBindings;w&&Yy(n,w);const b=c.viewQuery,k=c.contentQueries;if(b&&Ky(n,b),k&&Zy(n,k),ot(n.inputs,c.inputs),ot(n.declaredInputs,c.declaredInputs),ot(n.outputs,c.outputs),_i(c)&&c.data.animation){const U=n.data;U.animation=(U.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const w=h[m];w&&w.ngInherit&&w(n),w===Zf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Jl(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=uu(c.hostAttrs,s=uu(s,c.hostAttrs))}}(a)}function uh(n){return n===ht?{}:n===Se?[]:n}function Ky(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Zy(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{r(a,c,h),s(a,c,h)}:r}function Yy(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let Yf=null;function ul(){if(!Yf){const n=tt.Symbol;if(n&&n.iterator)Yf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Yf=a)}}}return Yf}function ch(n){return!!qm(n)&&(Array.isArray(n)||!(n instanceof Map)&&ul()in n)}function qm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Pu(n,r,s){return n[r]=s}function Wn(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Qf(n,r,s,a){const c=Oe();return Wn(c,ns(),r)&&(on(),ea(tn(),c,n,r,s,a)),Qf}function Jf(n,r,s,a,c,h,m,w){const b=Oe(),k=on(),U=n+22,G=k.firstCreatePass?function ed(n,r,s,a,c,h,m,w,b){const k=r.consts,U=dc(r,n,4,m||null,yr(k,w));nh(r,s,U,yr(k,b)),Ze(r,U);const G=U.tViews=Ma(2,U,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,k);return null!==r.queries&&(r.queries.template(r,U),G.queries=r.queries.embeddedTView(U)),U}(U,k,b,r,s,a,c,h,m):k.data[U];Jr(G,!1);const se=b[11].createComment("");gu(k,b,se,G),ni(se,b),qr(b,b[U]=ih(se,b,se,G)),Fs(G)&&th(k,b,G),null!=m&&wg(b,G,w)}function Ih(n,r,s){const a=Oe();return Wn(a,ns(),r)&&function No(n,r,s,a,c,h,m,w){const b=Gr(r,s);let U,k=r.inputs;!w&&null!=k&&(U=k[a])?(Rg(n,s,U,a,c),Yr(r)&&$f(s,r.index)):3&r.type&&(a=function Tg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=m?m(c,r.value||"",a):c,h.setProperty(b,a,c))}(on(),tn(),a,n,r,a[11],s,!1),Ih}function jg(n,r,s,a,c){const m=c?"class":"style";Rg(n,s,r.inputs[m],m,a)}function ep(n,r,s,a){const c=Oe(),h=on(),m=22+n,w=c[11],b=c[m]=Mc(w,r,function ks(){return $t.lFrame.currentNamespace}()),k=h.firstCreatePass?function tv(n,r,s,a,c,h,m){const w=r.consts,k=dc(r,n,2,c,yr(w,h));return nh(r,s,k,yr(w,m)),null!==k.attrs&&Gf(k,k.attrs,!1),null!==k.mergedAttrs&&Gf(k,k.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,k),k}(m,h,c,0,r,s,a):h.data[m];Jr(k,!0);const U=k.mergedAttrs;null!==U&&ou(w,b,U);const G=k.classes;null!==G&&Wa(w,b,G);const se=k.styles;return null!==se&&yu(w,b,se),64!=(64&k.flags)&&gu(h,c,b,k),0===function Na(){return $t.lFrame.elementDepthCount}()&&ni(b,c),function Vi(){$t.lFrame.elementDepthCount++}(),Fs(k)&&(th(h,c,k),function Ig(n,r,s){if(go(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,s[h],h)}}}(h,k,c)),null!==a&&wg(c,k),ep}function wh(){let n=ir();Ho()?function ps(){$t.lFrame.isParent=!1}():(n=n.parent,Jr(n,!1));const r=n;!function As(){$t.lFrame.elementDepthCount--}();const s=on();return s.firstCreatePass&&(Ze(s,n),go(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function su(n){return 0!=(16&n.flags)}(r)&&jg(s,r,Oe(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function fl(n){return 0!=(32&n.flags)}(r)&&jg(s,r,Oe(),r.stylesWithoutHost,!1),wh}function tp(n,r,s,a){return ep(n,r,s,a),wh(),tp}function rp(){return Oe()}function Eh(n){return!!n&&"function"==typeof n.then}function Xm(n){return!!n&&"function"==typeof n.subscribe}const Dh=Xm;function td(n,r,s,a){const c=Oe(),h=on(),m=ir();return function Jm(n,r,s,a,c,h,m,w){const b=Fs(a),U=n.firstCreatePass&&xg(n),G=r[8],se=Wy(r);let _e=!0;if(3&a.type||w){const pt=Gr(a,r),bt=w?w(pt):pt,jt=se.length,Ye=w?gr=>w(Jt(gr[a.index])):a.index;let nn=null;if(!w&&b&&(nn=function zg(n,r,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===s&&c[h+1]===a){const w=r[7],b=c[h+2];return w.length>b?w[b]:null}"string"==typeof m&&(h+=2)}return null}(n,r,c,a.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=h,nn.__ngLastListenerFn__=h,_e=!1;else{h=Wg(a,r,G,h,!1);const gr=s.listen(bt,c,h);se.push(h,gr),U&&U.push(c,Ye,jt,jt+1)}}else h=Wg(a,r,G,h,!1);const Ue=a.outputs;let et;if(_e&&null!==Ue&&(et=Ue[c])){const pt=et.length;if(pt)for(let bt=0;bt<pt;bt+=2){const gi=r[et[bt]][et[bt+1]].subscribe(h),Oh=se.length;se.push(h,gi),U&&U.push(c,a.index,Oh,-(Oh+1))}}}(h,c,c[11],m,n,r,0,a),td}function Th(n,r,s,a){try{return!1!==s(a)}catch(c){return oh(n,c),!1}}function Wg(n,r,s,a,c){return function h(m){if(m===Function)return a;zi(2&n.flags?Er(n.index,r):r);let b=Th(r,0,a,m),k=h.__ngNextListenerFn__;for(;k;)b=Th(r,0,k,m)&&b,k=k.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function ey(n=1){return function _n(n){return($t.lFrame.contextLView=function ln(n,r){for(;n>0;)r=r[15],n--;return r}(n,$t.lFrame.contextLView))[8]}(n)}function uv(n,r,s,a,c){const h=n[s+1],m=null===r;let w=a?Xs(h):Jo(h),b=!1;for(;0!==w&&(!1===b||m);){const U=n[w+1];I_(n[w],r)&&(b=!0,n[w+1]=a?sl(U):Ru(U)),w=a?Xs(U):Jo(U)}b&&(n[s+1]=a?Ru(h):sl(h))}function I_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Lt(n,r)>=0}function Ja(n,r){return function eu(n,r,s,a){const c=Oe(),h=on(),m=function Bi(n){const r=$t.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);h.firstUpdatePass&&function dv(n,r,s,a){const c=n.data;if(null===c[s+1]){const h=c[hn()],m=function lv(n,r){return r>=n.expandoStartIndex}(n,s);(function gv(n,r){return 0!=(n.flags&(r?16:32))})(h,a)&&null===r&&!m&&(r=!1),r=function hv(n,r,s,a){const c=function zo(n){const r=$t.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=ap(s=Rh(null,n,r,s,a),r.attrs,a),h=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==c)if(s=Rh(c,n,r,s,a),null===h){let b=function fv(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Jo(a))return n[Xs(a)]}(n,r,a);void 0!==b&&Array.isArray(b)&&(b=Rh(null,n,r,b[1],a),b=ap(b,r.attrs,a),function D_(n,r,s,a){n[Xs(s?r.classBindings:r.styleBindings)]=a}(n,r,a,b))}else h=function Mh(n,r,s){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=ap(a,n[h].hostAttrs,s);return ap(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,a),function __(n,r,s,a,c,h){let m=h?r.classBindings:r.styleBindings,w=Xs(m),b=Jo(m);n[a]=s;let U,k=!1;if(Array.isArray(s)){const G=s;U=G[1],(null===U||Lt(G,U)>0)&&(k=!0)}else U=s;if(c)if(0!==b){const se=Xs(n[w+1]);n[a+1]=uc(se,w),0!==se&&(n[se+1]=il(n[se+1],a)),n[w+1]=function Rf(n,r){return 131071&n|r<<17}(n[w+1],a)}else n[a+1]=uc(w,0),0!==w&&(n[w+1]=il(n[w+1],a)),w=a;else n[a+1]=uc(b,0),0===w?w=a:n[b+1]=il(n[b+1],a),b=a;k&&(n[a+1]=Ru(n[a+1])),uv(n,U,a,!0),uv(n,U,a,!1),function sp(n,r,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&Lt(h,r)>=0&&(s[a+1]=sl(s[a+1]))}(r,U,n,a,h),m=uc(w,b),h?r.classBindings=m:r.styleBindings=m}(c,h,r,s,m,a)}}(h,n,m,a),r!==en&&Wn(c,m,r)&&function kh(n,r,s,a,c,h,m,w){if(!(3&r.type))return;const b=n.data,k=b[w+1];Zg(function Zl(n){return 1==(1&n)}(k)?ay(b,r,s,c,Jo(k),m):void 0)||(Zg(h)||function rl(n){return 2==(2&n)}(k)&&(h=ay(b,null,s,c,w,m)),function _d(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Gi.DashCase;null==c?n.removeStyle(s,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Gi.Important),n.setStyle(s,a,c,h))}}(a,m,Vs(hn(),s),c,h))}(h,h.data[hn()],c,c[11],n,c[m+1]=function b_(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ft(ba(n)))),n}(r,s),a,m)}(n,r,null,!0),Ja}function Rh(n,r,s,a,c){let h=null;const m=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<m&&(h=r[w],a=ap(a,h.hostAttrs,c),h!==n);)w++;return null!==n&&(s.directiveStylingLast=w),a}function ap(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?c=m:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),De(n,m,!!s||r[++h]))}return void 0===n?null:n}function ay(n,r,s,a,c,h){const m=null===r;let w;for(;c>0;){const b=n[c],k=Array.isArray(b),U=k?b[1]:b,G=null===U;let se=s[c+1];se===en&&(se=G?Se:void 0);let _e=G?rt(se,a):U===a?se:void 0;if(k&&!Zg(_e)&&(_e=rt(b,a)),Zg(_e)&&(w=_e,m))return w;const Ue=n[c+1];c=m?Xs(Ue):Jo(Ue)}if(null!==r){let b=h?r.residualClasses:r.residualStyles;null!=b&&(w=rt(b,a))}return w}function Zg(n){return void 0!==n}function mv(n,r=""){const s=Oe(),a=on(),c=n+22,h=a.firstCreatePass?dc(a,c,1,r,null):a.data[c],m=s[c]=function Ac(n,r){return n.createText(r)}(s[11],r);gu(a,s,m,h),Jr(h,!1)}function uy(n){return cy("",n,""),uy}function cy(n,r,s){const a=Oe(),c=function hh(n,r,s,a){return Wn(n,ns(),s)?r+qe(s)+a:en}(a,n,r,s);return c!==en&&function fc(n,r,s){const a=Vs(r,n);!function xc(n,r,s){n.setValue(r,s)}(n[11],a,s)}(a,hn(),c),cy}const Nh=void 0;var B0=["en",[["a","p"],["AM","PM"],Nh],[["AM","PM"],Nh,Nh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nh,"{1} 'at' {0}",Nh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function V0(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let up={};function _v(n){const r=function $0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=L_(r);if(s)return s;const a=r.split("-")[0];if(s=L_(a),s)return s;if("en"===a)return B0;throw new be(701,!1)}function O_(n){return _v(n)[Qt.PluralCase]}function L_(n){return n in up||(up[n]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[n]),up[n]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const cp="en-US";let F_=cp;function Ev(n,r,s,a,c){if(n=ct(n),Array.isArray(n))for(let h=0;h<n.length;h++)Ev(n[h],r,s,a,c);else{const h=on(),m=Oe();let w=Qo(n)?n:ct(n.provide),b=vf(n);const k=ir(),U=1048575&k.providerIndexes,G=k.directiveStart,se=k.providerIndexes>>20;if(Qo(n)||!n.multi){const _e=new ut(b,c,Mu),Ue=Tv(w,r,c?U:U+se,G);-1===Ue?(oo(zs(k,m),h,w),Dv(h,n,r.length),r.push(w),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(_e),m.push(_e)):(s[Ue]=_e,m[Ue]=_e)}else{const _e=Tv(w,r,U+se,G),Ue=Tv(w,r,U,U+se),et=_e>=0&&s[_e],pt=Ue>=0&&s[Ue];if(c&&!pt||!c&&!et){oo(zs(k,m),h,w);const bt=function Uw(n,r,s,a,c){const h=new ut(n,s,Mu);return h.multi=[],h.index=r,h.componentProviders=0,uI(h,c,a&&!s),h}(c?Fw:Lw,s.length,c,a,b);!c&&pt&&(s[Ue].providerFactory=bt),Dv(h,n,r.length,0),r.push(w),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(bt),m.push(bt)}else Dv(h,n,_e>-1?_e:Ue,uI(s[c?Ue:_e],b,!c&&a));!c&&a&&pt&&s[Ue].componentProviders++}}}function Dv(n,r,s,a){const c=Qo(r),h=function ws(n){return!!n.useClass}(r);if(c||h){const b=(h?ct(r.useClass):r).prototype.ngOnDestroy;if(b){const k=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const U=k.indexOf(s);-1===U?k.push(s,[a,b]):k[U+1].push(a,b)}else k.push(s,b)}}}function uI(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Tv(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function Lw(n,r,s,a){return bv(this.multi,[])}function Fw(n,r,s,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,w=Ai(s,s[1],this.providerFactory.index,a);h=w.slice(0,m),bv(c,h);for(let b=m;b<w.length;b++)h.push(w[b])}else h=[],bv(c,h);return h}function bv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function cI(n,r=[]){return s=>{s.providersResolver=(a,c)=>function Ow(n,r,s){const a=on();if(a.firstCreatePass){const c=_i(n);Ev(s,a.data,a.blueprint,c,!0),Ev(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class lp{}class lI{}function Vw(n,r){return new dI(n,r??null)}class dI extends lp{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kg(this);const a=Ut(r);this._bootstrapComponents=xa(a.bootstrap),this._r3Injector=Qc(r,s,[{provide:lp,useValue:this},{provide:fo,useValue:this.componentFactoryResolver}],ft(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Cv extends lI{constructor(r){super(),this.moduleType=r}create(r){return new dI(this.moduleType,r)}}class Bw extends lp{constructor(r,s,a){super(),this.componentFactoryResolver=new kg(this),this.instance=null;const c=new Rd([...r,{provide:lp,useValue:this},{provide:fo,useValue:this.componentFactoryResolver}],s||Xo(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Sv(n,r,s=null){return new Bw(n,r,s).injector}let $w=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=Ad(0,s.type),c=a.length>0?Sv([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=On({token:n,providedIn:"environment",factory:()=>new n(Dr(lo))}),n})();function hI(n){n.getStandaloneInjector=r=>r.get($w).getOrCreateStandaloneInjector(n)}function _I(n,r,s){const a=ei()+n,c=Oe();return c[a]===en?Pu(c,a,s?r.call(s):r()):function lh(n,r){return n[r]}(c,a)}function II(n,r,s,a){return wI(Oe(),ei(),n,r,s,a)}function wI(n,r,s,a,c,h){const m=r+s;return Wn(n,m,c)?Pu(n,m+1,h?a.call(h,c):a(c)):function nm(n,r){const s=n[r];return s===en?void 0:s}(n,m+1)}function CI(n,r){const s=on();let a;const c=n+22;s.firstCreatePass?(a=function iE(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=Us(a.type)),m=Bn(Mu);try{const w=At(!1),b=h();return At(w),function _h(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Oe(),c,b),b}finally{Bn(m)}}function SI(n,r,s){const a=n+22,c=Oe(),h=function Ji(n,r){return n[r]}(c,a);return function rm(n,r){return n[1].data[r].pure}(c,a)?wI(c,ei(),r,h.transform,s,h):h.transform(s)}function xv(n){return r=>{setTimeout(n,void 0,r)}}const mc=class cE extends A.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,h=s||(()=>null),m=a;if(r&&"object"==typeof r){const b=r;c=b.next?.bind(b),h=b.error?.bind(b),m=b.complete?.bind(b)}this.__isAsync&&(h=xv(h),c&&(c=xv(c)),m&&(m=xv(m)));const w=super.subscribe({next:c,error:h,complete:m});return r instanceof H.w0&&r.add(w),w}};function lE(){return this._results[ul()]()}class Mv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ul(),a=Mv.prototype;a[s]||(a[s]=lE)}get changes(){return this._changes||(this._changes=new mc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=Hn(r);(this._changesDetected=!function Zs(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=r[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let im=(()=>{class n{}return n.__NG_ELEMENT_ID__=fE,n})();const dE=im,hE=class extends dE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=Uf(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(a)),eh(a,c,r),new ah(c)}};function fE(){return py(ir(),Oe())}function py(n,r){return 4&n.type?new hE(r,n,Aa(n,r)):null}let gy=(()=>{class n{}return n.__NG_ELEMENT_ID__=pE,n})();function pE(){return MI(ir(),Oe())}const gE=gy,AI=class extends gE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Aa(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ns(this._hostTNode,this._hostLView);if(ca(r)){const s=bo(r,this._hostLView),a=Ht(r);return new di(s[1].data[a+8],s)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=xI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const m=r.createEmbeddedView(s||{},h);return this.insert(m,c),m}createComponent(r,s,a,c,h){const m=r&&!function ss(n){return"function"==typeof n}(r);let w;if(m)w=s;else{const G=s||{};w=G.index,a=G.injector,c=G.projectableNodes,h=G.environmentInjector||G.ngModuleRef}const b=m?r:new al(W(r)),k=a||this.parentInjector;if(!h&&null==b.ngModule){const se=(m?k:this.parentInjector).get(lo,null);se&&(h=se)}const U=b.create(k,c,void 0,h);return this.insert(U.hostView,w),U}insert(r,s){const a=r._lView,c=a[1];if(function Bs(n){return vi(n[3])}(a)){const U=this.indexOf(r);if(-1!==U)this.detach(U);else{const G=a[3],se=new AI(G,G[6],G[3]);se.detach(se.indexOf(r))}}const h=this._adjustIndex(s),m=this._lContainer;!function Cp(n,r,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=r),a<h-10?(r[4]=s[c],Ps(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function Sp(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(m,r);const w=r[19];null!==w&&w.insertView(n),r[2]|=64}(c,a,m,h);const w=vd(h,m),b=a[11],k=bl(b,m[7]);return null!==k&&function Tp(n,r,s,a,c,h){a[0]=c,a[6]=r,Oc(n,a,s,1,c,h)}(c,m[6],b,a,k,w),r.attachToViewContainerRef(),Ps(Rv(m),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=xI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Xh(this._lContainer,s);a&&(v(Rv(this._lContainer),s),xp(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Xh(this._lContainer,s);return a&&null!=v(Rv(this._lContainer),s)?new ah(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function xI(n){return n[8]}function Rv(n){return n[8]||(n[8]=[])}function MI(n,r){let s;const a=r[n.index];if(vi(a))s=a;else{let c;if(8&n.type)c=Jt(a);else{const h=r[11];c=h.createComment("");const m=Gr(n,r);za(h,bl(h,m),c,function Cl(n,r){return n.nextSibling(r)}(h,m),!1)}r[n.index]=s=ih(a,r,c,n),qr(r,s)}return new AI(s,n,r)}class kv{constructor(r){this.queryList=r,this.matches=null}clone(){return new kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const m=s.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new Nv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==UI(r,s).matches&&this.queries[s].setDirty()}}class RI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Pv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new Pv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ov{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Ov(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,s,vE(s,h)),this.matchTNodeWithReadOption(r,s,So(s,r,h,!1,!1))}else a===im?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,So(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===sc||c===gy||c===im&&4&s.type)this.addMatch(s.index,-2);else{const h=So(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function vE(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function IE(n,r,s,a){return-1===s?function _E(n,r){return 11&n.type?Aa(n,r):4&n.type?py(n,r):null}(r,n):-2===s?function wE(n,r,s){return s===sc?Aa(r,n):s===im?py(r,n):s===gy?MI(r,n):void 0}(n,r,a):Ai(n,n[1],s,r)}function kI(n,r,s,a){const c=r[19].queries[a];if(null===c.matches){const h=n.data,m=s.matches,w=[];for(let b=0;b<m.length;b+=2){const k=m[b];w.push(k<0?null:IE(r,h[k],m[b+1],s.metadata.read))}c.matches=w}return c.matches}function Lv(n,r,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const m=kI(n,r,c,s);for(let w=0;w<h.length;w+=2){const b=h[w];if(b>0)a.push(m[w/2]);else{const k=h[w+1],U=r[-b];for(let G=10;G<U.length;G++){const se=U[G];se[17]===se[3]&&Lv(se[1],se,k,a)}if(null!==U[9]){const G=U[9];for(let se=0;se<G.length;se++){const _e=G[se];Lv(_e[1],_e,k,a)}}}}}return a}function NI(n){const r=Oe(),s=on(),a=T();N(a+1);const c=UI(s,a);if(n.dirty&&function no(n){return 4==(4&n[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?Lv(s,r,a,[]):kI(s,r,c,a);n.reset(h,qp),n.notifyOnChanges()}return!0}return!1}function PI(n,r,s,a){const c=on();if(c.firstCreatePass){const h=ir();(function FI(n,r,s){null===n.queries&&(n.queries=new Pv),n.queries.track(new Ov(r,s))})(c,new RI(r,s,a),h.index),function TE(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}!function LI(n,r,s){const a=new Mv(4==(4&s));Mm(n,r,a,a.destroy),null===r[19]&&(r[19]=new Nv),r[19].queries.push(new kv(a))}(c,Oe(),s)}function OI(){return function DE(n,r){return n[19].queries[r].queryList}(Oe(),T())}function UI(n,r){return n.queries.getByIndex(r)}function yy(...n){}const r0=new Xn("Application Initializer");let vy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=yy,this.reject=yy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Eh(h))s.push(h);else if(Dh(h)){const m=new Promise((w,b)=>{h.subscribe({complete:w,error:b})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Dr(r0,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s0=new Xn("AppId",{providedIn:"root",factory:function o0(){return`${$v()}${$v()}${$v()}`}});function $v(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const a0=new Xn("Platform Initializer"),zE=new Xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u0=new Xn("appBootstrapListener");let WE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const _y=new Xn("LocaleId",{providedIn:"root",factory:()=>C(_y,dt.Optional|dt.SkipSelf)||function qE(){return typeof $localize<"u"&&$localize.locale||cp}()}),KE=new Xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZE{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let YE=(()=>{class n{compileModuleSync(s){return new Cv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=xa(Ut(s).declarations).reduce((m,w)=>{const b=W(w);return b&&m.push(new al(b)),m},[]);return new ZE(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JE=(()=>Promise.resolve(0))();function jv(n){typeof Zone>"u"?JE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class nu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function eD(){let n=tt.requestAnimationFrame,r=tt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rD(n){const r=()=>{!function nD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Gv(n),n.isCheckStableRunning=!0,Hv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Gv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,m,w)=>{try{return d0(n),s.invokeTask(c,h,m,w)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),h0(n)}},onInvoke:(s,a,c,h,m,w,b)=>{try{return d0(n),s.invoke(c,h,m,w,b)}finally{n.shouldCoalesceRunChangeDetection&&r(),h0(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,Gv(n),Hv(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nu.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(nu.isInAngularZone())throw new be(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,r,tD,yy,yy);try{return h.runTask(m,s,a)}finally{h.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const tD={};function Hv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Gv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function d0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function h0(n){n._nesting--,Hv(n)}class iD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const f0=new Xn(""),p0=new Xn("");let zv,sD=(()=>{class n{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zv||(function oD(n){zv=n}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nu.assertNotInAngularZone(),jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(Dr(nu),Dr(g0),Dr(p0))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})(),g0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return zv?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),sd=null;const m0=new Xn("AllowMultipleToken"),Wv=new Xn("PlatformDestroyListeners");class cD{constructor(r,s){this.name=r,this.token=s}}function v0(n,r,s=[]){const a=`Platform: ${r}`,c=new Xn(a);return(h=[])=>{let m=qv();if(!m||m.injector.get(m0,!1)){const w=[...s,...h,{provide:c,useValue:!0}];n?n(w):function lD(n){if(sd&&!sd.get(m0,!1))throw new be(400,!1);sd=n;const r=n.get(I0);(function y0(n){const r=n.get(a0,null);r&&r.forEach(s=>s())})(n)}(function _0(n=[],r){return Qa.create({name:r,providers:[{provide:xd,useValue:"platform"},{provide:Wv,useValue:new Set([()=>sd=null])},...n]})}(w,a))}return function hD(n){const r=qv();if(!r)throw new be(401,!1);return r}()}}function qv(){return sd?.get(I0)??null}let I0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function E0(n,r){let s;return s="noop"===n?new iD:("zone.js"===n?void 0:n)||new nu(r),s}(a?.ngZone,function w0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:nu,useValue:c}];return c.run(()=>{const m=Qa.create({providers:h,parent:this.injector,name:s.moduleType.name}),w=s.create(m),b=w.injector.get(Su,null);if(!b)throw new be(402,!1);return c.runOutsideAngular(()=>{const k=c.onError.subscribe({next:U=>{b.handleError(U)}});w.onDestroy(()=>{wy(this._modules,w),k.unsubscribe()})}),function D0(n,r,s){try{const a=s();return Eh(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(b,c,()=>{const k=w.injector.get(vy);return k.runInitializers(),k.donePromise.then(()=>(function U_(n){lr(n,"Expected localeId to be defined"),"string"==typeof n&&(F_=n.toLowerCase().replace(/_/g,"-"))}(w.injector.get(_y,cp)||cp),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,a=[]){const c=T0({},a);return function aD(n,r,s){const a=new Cv(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(Iy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new be(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Wv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Dr(Qa))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function T0(n,r){return Array.isArray(r)?r.reduce(T0,n):{...n,...r}}let Iy=(()=>{class n{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new Y.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),m=new Y.y(w=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{nu.assertNotInAngularZone(),jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{nu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{b.unsubscribe(),k.unsubscribe()}});this.isStable=function Re(...n){const r=(0,Me.yG)(n),s=(0,Me._6)(n,1/0),a=n;return a.length?1===a.length?(0,J.Xf)(a[0]):(0,fe.J)(s)((0,ce.D)(a,r)):ve.E}(h,m.pipe(function ge(n={}){const{connector:r=(()=>new A.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=n;return h=>{let m,w,b,k=0,U=!1,G=!1;const se=()=>{w?.unsubscribe(),w=void 0},_e=()=>{se(),m=b=void 0,U=G=!1},Ue=()=>{const et=m;_e(),et?.unsubscribe()};return(0,ne.e)((et,pt)=>{k++,!G&&!U&&se();const bt=b=b??r();pt.add(()=>{k--,0===k&&!G&&!U&&(w=$e(Ue,c))}),bt.subscribe(pt),!m&&k>0&&(m=new q.Hp({next:jt=>bt.next(jt),error:jt=>{G=!0,se(),w=$e(_e,s,jt),bt.error(jt)},complete:()=>{U=!0,se(),w=$e(_e,a),bt.complete()}}),(0,J.Xf)(et).subscribe(m))})(h)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof _f;if(!this._injector.get(vy).done)throw!c&&kt(s),new be(405,false);let m;m=c?s:this._injector.get(fo).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const w=function uD(n){return n.isBoundToModule}(m)?void 0:this._injector.get(lp),k=m.create(Qa.NULL,[],a||m.selector,w),U=k.location.nativeElement,G=k.injector.get(f0,null);return G?.registerApplication(U),k.onDestroy(()=>{this.detachView(k.hostView),wy(this.components,k),G?.unregisterApplication(U)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;wy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(u0,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>wy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new be(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Dr(nu),Dr(lo),Dr(Su))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let C0=!0;function pD(){C0=!1}let gD=(()=>{class n{}return n.__NG_ELEMENT_ID__=mD,n})();function mD(n){return function yD(n,r,s){if(Yr(n)&&!s){const a=Er(n.index,r);return new ah(a,a)}return 47&n.type?new ah(r[16],r):null}(ir(),Oe(),16==(16&n))}class R0{constructor(){}supports(r){return ch(r)}create(r){return new DD(r)}}const ED=(n,r)=>r;class DD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ED}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const m=!a||s&&s.currentIndex<N0(a,c,h)?s:a,w=N0(m,c,h),b=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{h||(h=[]);const k=w-c,U=b-c;if(k!=U){for(let se=0;se<k;se++){const _e=se<h.length?h[se]:h[se]=0,Ue=_e+se;U<=Ue&&Ue<k&&(h[se]=_e+1)}h[m.previousIndex]=U-k}}w!==b&&r(m,w,b)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!ch(r))throw new be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)h=r[w],m=this._trackByFn(w,h),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,h,m,w)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,m,w),a=!0),s=s._next}else c=0,function Xy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[ul()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{m=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,w,m,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new TD(s,a),h,c),r}_verifyReinsertion(r,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new k0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class TD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class k0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new bD,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N0(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class P0{constructor(){}supports(r){return r instanceof Map||qm(r)}create(){return new CD}}class CD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||qm(r)))throw new be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new SD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O0(){return new Xv([new R0])}let Xv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||O0()),deps:[[n,new Pt,new at]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new be(901,!1)}}return n.\u0275prov=On({token:n,providedIn:"root",factory:O0}),n})();function L0(){return new Jv([new P0])}let Jv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||L0()),deps:[[n,new Pt,new at]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new be(901,!1)}}return n.\u0275prov=On({token:n,providedIn:"root",factory:L0}),n})();const MD=v0(null,"core",[]);let RD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Dr(Iy))},n.\u0275mod=Sn({type:n}),n.\u0275inj=Rn({}),n})();function kD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(xt,Ne,$)=>{$.d(Ne,{Dx:()=>Or,b2:()=>Ds,q6:()=>Pr});var A=$(6895),H=$(8256);class Y extends A.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends Y{static makeCurrent(){(0,A.HT)(new fe)}onAndCancel(te,W,ye){return te.addEventListener(W,ye,!1),()=>{te.removeEventListener(W,ye,!1)}}dispatchEvent(te,W){te.dispatchEvent(W)}remove(te){te.parentNode&&te.parentNode.removeChild(te)}createElement(te,W){return(W=W||this.getDefaultDocument()).createElement(te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(te){return te.nodeType===Node.ELEMENT_NODE}isShadowRoot(te){return te instanceof DocumentFragment}getGlobalEventTarget(te,W){return"window"===W?window:"document"===W?te:"body"===W?te.body:null}getBaseHref(te){const W=function ve(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==W?null:function ce(me){Me=Me||document.createElement("a"),Me.setAttribute("href",me);const te=Me.pathname;return"/"===te.charAt(0)?te:`/${te}`}(W)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(te){return(0,A.Mx)(document.cookie,te)}}let Me,J=null;const Re=new H.OlP("TRANSITION_ID"),ne=[{provide:H.ip1,useFactory:function q(me,te,W){return()=>{W.get(H.CZH).donePromise.then(()=>{const ye=(0,A.q)(),ke=te.querySelectorAll(`style[ng-transition="${me}"]`);for(let kt=0;kt<ke.length;kt++)ye.remove(ke[kt])})}},deps:[Re,A.K0,H.zs3],multi:!0}];let $e=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(W){return new(W||me)},me.\u0275prov=H.Yz7({token:me,factory:me.\u0275fac}),me})();const Ae=new H.OlP("EventManagerPlugins");let ot=(()=>{class me{constructor(W,ye){this._zone=ye,this._eventNameToPlugin=new Map,W.forEach(ke=>ke.manager=this),this._plugins=W.slice().reverse()}addEventListener(W,ye,ke){return this._findPluginFor(ye).addEventListener(W,ye,ke)}addGlobalEventListener(W,ye,ke){return this._findPluginFor(ye).addGlobalEventListener(W,ye,ke)}getZone(){return this._zone}_findPluginFor(W){const ye=this._eventNameToPlugin.get(W);if(ye)return ye;const ke=this._plugins;for(let kt=0;kt<ke.length;kt++){const Ut=ke[kt];if(Ut.supports(W))return this._eventNameToPlugin.set(W,Ut),Ut}throw new Error(`No event manager plugin found for event ${W}`)}}return me.\u0275fac=function(W){return new(W||me)(H.LFG(Ae),H.LFG(H.R0b))},me.\u0275prov=H.Yz7({token:me,factory:me.\u0275fac}),me})();class ft{constructor(te){this._doc=te}addGlobalEventListener(te,W,ye){const ke=(0,A.q)().getGlobalEventTarget(this._doc,te);if(!ke)throw new Error(`Unsupported event target ${ke} for event ${W}`);return this.addEventListener(ke,W,ye)}}let Et=(()=>{class me{constructor(){this._stylesSet=new Set}addStyles(W){const ye=new Set;W.forEach(ke=>{this._stylesSet.has(ke)||(this._stylesSet.add(ke),ye.add(ke))}),this.onStylesAdded(ye)}onStylesAdded(W){}getAllStyles(){return Array.from(this._stylesSet)}}return me.\u0275fac=function(W){return new(W||me)},me.\u0275prov=H.Yz7({token:me,factory:me.\u0275fac}),me})(),mt=(()=>{class me extends Et{constructor(W){super(),this._doc=W,this._hostNodes=new Map,this._hostNodes.set(W.head,[])}_addStylesToHost(W,ye,ke){W.forEach(kt=>{const Ut=this._doc.createElement("style");Ut.textContent=kt,ke.push(ye.appendChild(Ut))})}addHost(W){const ye=[];this._addStylesToHost(this._stylesSet,W,ye),this._hostNodes.set(W,ye)}removeHost(W){const ye=this._hostNodes.get(W);ye&&ye.forEach(_t),this._hostNodes.delete(W)}onStylesAdded(W){this._hostNodes.forEach((ye,ke)=>{this._addStylesToHost(W,ke,ye)})}ngOnDestroy(){this._hostNodes.forEach(W=>W.forEach(_t))}}return me.\u0275fac=function(W){return new(W||me)(H.LFG(A.K0))},me.\u0275prov=H.Yz7({token:me,factory:me.\u0275fac}),me})();function _t(me){(0,A.q)().remove(me)}const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fe=/%COMP%/g;function le(me,te,W){for(let ye=0;ye<te.length;ye++){let ke=te[ye];Array.isArray(ke)?le(me,ke,W):(ke=ke.replace(Fe,me),W.push(ke))}return W}function Q(me){return te=>{if("__ngUnwrap__"===te)return me;!1===me(te)&&(te.preventDefault(),te.returnValue=!1)}}let ae=(()=>{class me{constructor(W,ye,ke){this.eventManager=W,this.sharedStylesHost=ye,this.appId=ke,this.rendererByCompId=new Map,this.defaultRenderer=new Ke(W)}createRenderer(W,ye){if(!W||!ye)return this.defaultRenderer;switch(ye.encapsulation){case H.ifc.Emulated:{let ke=this.rendererByCompId.get(ye.id);return ke||(ke=new cn(this.eventManager,this.sharedStylesHost,ye,this.appId),this.rendererByCompId.set(ye.id,ke)),ke.applyToHost(W),ke}case 1:case H.ifc.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,W,ye);default:if(!this.rendererByCompId.has(ye.id)){const ke=le(ye.id,ye.styles,[]);this.sharedStylesHost.addStyles(ke),this.rendererByCompId.set(ye.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return me.\u0275fac=function(W){return new(W||me)(H.LFG(ot),H.LFG(mt),H.LFG(H.AFp))},me.\u0275prov=H.Yz7({token:me,factory:me.\u0275fac}),me})();class Ke{constructor(te){this.eventManager=te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(te,W){return W?document.createElementNS(ct[W]||W,te):document.createElement(te)}createComment(te){return document.createComment(te)}createText(te){return document.createTextNode(te)}appendChild(te,W){(qt(te)?te.content:te).appendChild(W)}insertBefore(te,W,ye){te&&(qt(te)?te.content:te).insertBefore(W,ye)}removeChild(te,W){te&&te.removeChild(W)}selectRootElement(te,W){let ye="string"==typeof te?document.querySelector(te):te;if(!ye)throw new Error(`The selector "${te}" did not match any elements`);return W||(ye.textContent=""),ye}parentNode(te){return te.parentNode}nextSibling(te){return te.nextSibling}setAttribute(te,W,ye,ke){if(ke){W=ke+":"+W;const kt=ct[ke];kt?te.setAttributeNS(kt,W,ye):te.setAttribute(W,ye)}else te.setAttribute(W,ye)}removeAttribute(te,W,ye){if(ye){const ke=ct[ye];ke?te.removeAttributeNS(ke,W):te.removeAttribute(`${ye}:${W}`)}else te.removeAttribute(W)}addClass(te,W){te.classList.add(W)}removeClass(te,W){te.classList.remove(W)}setStyle(te,W,ye,ke){ke&(H.JOm.DashCase|H.JOm.Important)?te.style.setProperty(W,ye,ke&H.JOm.Important?"important":""):te.style[W]=ye}removeStyle(te,W,ye){ye&H.JOm.DashCase?te.style.removeProperty(W):te.style[W]=""}setProperty(te,W,ye){te[W]=ye}setValue(te,W){te.nodeValue=W}listen(te,W,ye){return"string"==typeof te?this.eventManager.addGlobalEventListener(te,W,Q(ye)):this.eventManager.addEventListener(te,W,Q(ye))}}function qt(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class cn extends Ke{constructor(te,W,ye,ke){super(te),this.component=ye;const kt=le(ke+"-"+ye.id,ye.styles,[]);W.addStyles(kt),this.contentAttr=function de(me){return"_ngcontent-%COMP%".replace(Fe,me)}(ke+"-"+ye.id),this.hostAttr=function Pe(me){return"_nghost-%COMP%".replace(Fe,me)}(ke+"-"+ye.id)}applyToHost(te){super.setAttribute(te,this.hostAttr,"")}createElement(te,W){const ye=super.createElement(te,W);return super.setAttribute(ye,this.contentAttr,""),ye}}class Mt extends Ke{constructor(te,W,ye,ke){super(te),this.sharedStylesHost=W,this.hostEl=ye,this.shadowRoot=ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=le(ke.id,ke.styles,[]);for(let Ut=0;Ut<kt.length;Ut++){const Dn=document.createElement("style");Dn.textContent=kt[Ut],this.shadowRoot.appendChild(Dn)}}nodeOrShadowRoot(te){return te===this.hostEl?this.shadowRoot:te}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(te,W){return super.appendChild(this.nodeOrShadowRoot(te),W)}insertBefore(te,W,ye){return super.insertBefore(this.nodeOrShadowRoot(te),W,ye)}removeChild(te,W){return super.removeChild(this.nodeOrShadowRoot(te),W)}parentNode(te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(te)))}}let Yt=(()=>{class me extends ft{constructor(W){super(W)}supports(W){return!0}addEventListener(W,ye,ke){return W.addEventListener(ye,ke,!1),()=>this.removeEventListener(W,ye,ke)}removeEventListener(W,ye,ke){return W.removeEventListener(ye,ke)}}return me.\u0275fac=function(W){return new(W||me)(H.LFG(A.K0))},me.\u0275prov=H.Yz7({token:me,factory:me.\u0275fac}),me})();const wn=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cr={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let sr=(()=>{class me extends ft{constructor(W){super(W)}supports(W){return null!=me.parseEventName(W)}addEventListener(W,ye,ke){const kt=me.parseEventName(ye),Ut=me.eventCallback(kt.fullKey,ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,A.q)().onAndCancel(W,kt.domEventName,Ut))}static parseEventName(W){const ye=W.toLowerCase().split("."),ke=ye.shift();if(0===ye.length||"keydown"!==ke&&"keyup"!==ke)return null;const kt=me._normalizeKey(ye.pop());let Ut="",Dn=ye.indexOf("code");if(Dn>-1&&(ye.splice(Dn,1),Ut="code."),wn.forEach(Gt=>{const gn=ye.indexOf(Gt);gn>-1&&(ye.splice(gn,1),Ut+=Gt+".")}),Ut+=kt,0!=ye.length||0===kt.length)return null;const Xe={};return Xe.domEventName=ke,Xe.fullKey=Ut,Xe}static matchEventFullKeyCode(W,ye){let ke=yn[W.key]||W.key,kt="";return ye.indexOf("code.")>-1&&(ke=W.code,kt="code."),!(null==ke||!ke)&&(ke=ke.toLowerCase()," "===ke?ke="space":"."===ke&&(ke="dot"),wn.forEach(Ut=>{Ut!==ke&&(0,cr[Ut])(W)&&(kt+=Ut+".")}),kt+=ke,kt===ye)}static eventCallback(W,ye,ke){return kt=>{me.matchEventFullKeyCode(kt,W)&&ke.runGuarded(()=>ye(kt))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return me.\u0275fac=function(W){return new(W||me)(H.LFG(A.K0))},me.\u0275prov=H.Yz7({token:me,factory:me.\u0275fac}),me})();const Pr=(0,H.eFA)(H._c5,"browser",[{provide:H.Lbi,useValue:A.bD},{provide:H.g9A,useValue:function zt(){fe.makeCurrent()},multi:!0},{provide:A.K0,useFactory:function Wi(){return(0,H.RDi)(document),document},deps:[]}]),Es=new H.OlP(""),rn=[{provide:H.rWj,useClass:class ge{addToWindow(te){H.dqk.getAngularTestability=(ye,ke=!0)=>{const kt=te.findTestabilityInTree(ye,ke);if(null==kt)throw new Error("Could not find testability for element.");return kt},H.dqk.getAllAngularTestabilities=()=>te.getAllTestabilities(),H.dqk.getAllAngularRootElements=()=>te.getAllRootElements(),H.dqk.frameworkStabilizers||(H.dqk.frameworkStabilizers=[]),H.dqk.frameworkStabilizers.push(ye=>{const ke=H.dqk.getAllAngularTestabilities();let kt=ke.length,Ut=!1;const Dn=function(Xe){Ut=Ut||Xe,kt--,0==kt&&ye(Ut)};ke.forEach(function(Xe){Xe.whenStable(Dn)})})}findTestabilityInTree(te,W,ye){return null==W?null:te.getTestability(W)??(ye?(0,A.q)().isShadowRoot(W)?this.findTestabilityInTree(te,W.host,!0):this.findTestabilityInTree(te,W.parentElement,!0):null)}},deps:[]},{provide:H.lri,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]},{provide:H.dDg,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]}],dr=[{provide:H.zSh,useValue:"root"},{provide:H.qLn,useFactory:function On(){return new H.qLn},deps:[]},{provide:Ae,useClass:Yt,multi:!0,deps:[A.K0,H.R0b,H.Lbi]},{provide:Ae,useClass:sr,multi:!0,deps:[A.K0]},{provide:ae,useClass:ae,deps:[ot,mt,H.AFp]},{provide:H.FYo,useExisting:ae},{provide:Et,useExisting:mt},{provide:mt,useClass:mt,deps:[A.K0]},{provide:ot,useClass:ot,deps:[Ae,H.R0b]},{provide:A.JF,useClass:$e,deps:[]},[]];let Ds=(()=>{class me{constructor(W){}static withServerTransition(W){return{ngModule:me,providers:[{provide:H.AFp,useValue:W.appId},{provide:Re,useExisting:H.AFp},ne]}}}return me.\u0275fac=function(W){return new(W||me)(H.LFG(Es,12))},me.\u0275mod=H.oAB({type:me}),me.\u0275inj=H.cJS({providers:[...dr,...rn],imports:[A.ez,H.hGG]}),me})(),Or=(()=>{class me{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}}return me.\u0275fac=function(W){return new(W||me)(H.LFG(A.K0))},me.\u0275prov=H.Yz7({token:me,factory:function(W){let ye=null;return ye=W?new W:function Yn(){return new Or((0,H.LFG)(A.K0))}(),ye},providedIn:"root"}),me})();typeof window<"u"&&window},9902:(xt,Ne,$)=>{$.d(Ne,{gz:()=>hs,F0:()=>Tn,yS:()=>Ai,Bz:()=>ja,lC:()=>fs});var A=$(8256),H=$(8996),Y=$(9646),fe=$(7579);class J extends fe.x{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const y=super._subscribe(_);return!y.closed&&_.next(this._value),y}getValue(){const{hasError:_,thrownError:y,_value:D}=this;if(_)throw y;return this._throwIfClosed(),D}next(_){super.next(this._value=_)}}const Me=(0,$(3888).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var ce=$(9841),Re=$(8189),ne=$(7669);function ge(...v){return function q(){return(0,Re.J)(1)}()((0,H.D)(v,(0,ne.yG)(v)))}var $e=$(9751),Ae=$(8421);function ot(v){return new $e.y(_=>{(0,Ae.Xf)(v()).subscribe(_)})}var ft=$(9635),Et=$(576);function mt(v,_){const y=(0,Et.m)(v)?v:()=>v,D=M=>M.error(y());return new $e.y(_?M=>_.schedule(D,0,M):D)}var _t=$(515),ct=$(727),Fe=$(4482),je=$(5403);function be(){return(0,Fe.e)((v,_)=>{let y=null;v._refCount++;const D=(0,je.x)(_,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(y=null);const M=v._connection,F=y;y=null,M&&(!F||M===F)&&M.unsubscribe(),_.unsubscribe()});v.subscribe(D),D.closed||(y=v.connect())})}class it extends $e.y{constructor(_,y){super(),this.source=_,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Fe.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new ct.w0;const y=this.getSubject();_.add(this.source.subscribe((0,je.x)(y,void 0,()=>{this._teardown(),y.complete()},D=>{this._teardown(),y.error(D)},()=>this._teardown()))),_.closed&&(this._connection=null,_=ct.w0.EMPTY)}return _}refCount(){return be()(this)}}var qe=$(6895),de=$(4004),Pe=$(3900),le=$(5698),we=$(9300),ae=$(5577);function Ke(v){return(0,Fe.e)((_,y)=>{let D=!1;_.subscribe((0,je.x)(y,M=>{D=!0,y.next(M)},()=>{D||y.next(v),y.complete()}))})}function He(v=Ct){return(0,Fe.e)((_,y)=>{let D=!1;_.subscribe((0,je.x)(y,M=>{D=!0,y.next(M)},()=>D?y.complete():y.error(v())))})}function Ct(){return new Me}var qt=$(4671);function cn(v,_){const y=arguments.length>=2;return D=>D.pipe(v?(0,we.h)((M,F)=>v(M,F,D)):qt.y,(0,le.q)(1),y?Ke(_):He(()=>new Me))}function Mt(v,_){return(0,Et.m)(_)?(0,ae.z)(v,_,1):(0,ae.z)(v,1)}var Yt=$(8505);function wn(v){return(0,Fe.e)((_,y)=>{let F,D=null,M=!1;D=_.subscribe((0,je.x)(y,void 0,void 0,K=>{F=(0,Ae.Xf)(v(K,wn(v)(_))),D?(D.unsubscribe(),D=null,F.subscribe(y)):M=!0})),M&&(D.unsubscribe(),D=null,F.subscribe(y))})}function yn(v,_,y,D,M){return(F,K)=>{let X=y,De=_,rt=0;F.subscribe((0,je.x)(K,Lt=>{const It=rt++;De=X?v(De,Lt,It):(X=!0,Lt),D&&K.next(De)},M&&(()=>{X&&K.next(De),K.complete()})))}}function cr(v,_){return(0,Fe.e)(yn(v,_,arguments.length>=2,!0))}function sr(v){return v<=0?()=>_t.E:(0,Fe.e)((_,y)=>{let D=[];_.subscribe((0,je.x)(y,M=>{D.push(M),v<D.length&&D.shift()},()=>{for(const M of D)y.next(M);y.complete()},void 0,()=>{D=null}))})}function Pn(v,_){const y=arguments.length>=2;return D=>D.pipe(v?(0,we.h)((M,F)=>v(M,F,D)):qt.y,sr(1),y?Ke(_):He(()=>new Me))}function En(v){return(0,Fe.e)((_,y)=>{try{_.subscribe(y)}finally{y.add(v)}})}var Mn=$(1481);const zt="primary",On=Symbol("RouteTitle");class Wi{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y[0]:y}return null}getAll(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Rn(v){return new Wi(v)}function Pr(v,_,y){const D=y.path.split("/");if(D.length>v.length||"full"===y.pathMatch&&(_.hasChildren()||D.length<v.length))return null;const M={};for(let F=0;F<D.length;F++){const K=D[F],X=v[F];if(K.startsWith(":"))M[K.substring(1)]=X;else if(K!==X.path)return null}return{consumed:v.slice(0,D.length),posParams:M}}function rn(v,_){const y=v?Object.keys(v):void 0,D=_?Object.keys(_):void 0;if(!y||!D||y.length!=D.length)return!1;let M;for(let F=0;F<y.length;F++)if(M=y[F],!dr(v[M],_[M]))return!1;return!0}function dr(v,_){if(Array.isArray(v)&&Array.isArray(_)){if(v.length!==_.length)return!1;const y=[...v].sort(),D=[..._].sort();return y.every((M,F)=>D[F]===M)}return v===_}function Ds(v){return Array.prototype.concat.apply([],v)}function si(v){return v.length>0?v[v.length-1]:null}function Ln(v,_){for(const y in v)v.hasOwnProperty(y)&&_(v[y],y)}function Yn(v){return(0,A.CqO)(v)?v:(0,A.QGY)(v)?(0,H.D)(Promise.resolve(v)):(0,Y.of)(v)}const Rt={exact:function Cn(v,_,y){if(!ht(v.segments,_.segments)||!An(v.segments,_.segments,y)||v.numberOfChildren!==_.numberOfChildren)return!1;for(const D in _.children)if(!v.children[D]||!Cn(v.children[D],_.children[D],y))return!1;return!0},subset:dn},Ot={exact:function Lr(v,_){return rn(v,_)},subset:function br(v,_){return Object.keys(_).length<=Object.keys(v).length&&Object.keys(_).every(y=>dr(v[y],_[y]))},ignored:()=>!0};function Bn(v,_,y){return Rt[y.paths](v.root,_.root,y.matrixParams)&&Ot[y.queryParams](v.queryParams,_.queryParams)&&!("exact"===y.fragment&&v.fragment!==_.fragment)}function dn(v,_,y){return Oi(v,_,_.segments,y)}function Oi(v,_,y,D){if(v.segments.length>y.length){const M=v.segments.slice(0,y.length);return!(!ht(M,y)||_.hasChildren()||!An(M,y,D))}if(v.segments.length===y.length){if(!ht(v.segments,y)||!An(v.segments,y,D))return!1;for(const M in _.children)if(!v.children[M]||!dn(v.children[M],_.children[M],D))return!1;return!0}{const M=y.slice(0,v.segments.length),F=y.slice(v.segments.length);return!!(ht(v.segments,M)&&An(v.segments,M,D)&&v.children[zt])&&Oi(v.children[zt],_,F,D)}}function An(v,_,y){return _.every((D,M)=>Ot[y](v[M].parameters,D.parameters))}class tr{constructor(_,y,D){this.root=_,this.queryParams=y,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class tt{constructor(_,y){this.segments=_,this.children=y,this.parent=null,Ln(y,(D,M)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xt(this)}}class $r{constructor(_,y){this.path=_,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return Sn(this)}}function ht(v,_){return v.length===_.length&&v.every((y,D)=>y.path===_[D].path)}let st=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=A.Yz7({token:v,factory:function(){return new Dt},providedIn:"root"}),v})();class Dt{parse(_){const y=new Ut(_);return new tr(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(_){const y=`/${ee(_.root,!0)}`,D=function nr(v){const _=Object.keys(v).map(y=>{const D=v[y];return Array.isArray(D)?D.map(M=>`${oe(y)}=${oe(M)}`).join("&"):`${oe(y)}=${oe(D)}`}).filter(y=>!!y);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${y}${D}${"string"==typeof _.fragment?`#${function Ve(v){return encodeURI(v)}(_.fragment)}`:""}`}}const Kt=new Dt;function Xt(v){return v.segments.map(_=>Sn(_)).join("/")}function ee(v,_){if(!v.hasChildren())return Xt(v);if(_){const y=v.children[zt]?ee(v.children[zt],!1):"",D=[];return Ln(v.children,(M,F)=>{F!==zt&&D.push(`${F}:${ee(M,!1)}`)}),D.length>0?`${y}(${D.join("//")})`:y}{const y=function Se(v,_){let y=[];return Ln(v.children,(D,M)=>{M===zt&&(y=y.concat(_(D,M)))}),Ln(v.children,(D,M)=>{M!==zt&&(y=y.concat(_(D,M)))}),y}(v,(D,M)=>M===zt?[ee(v.children[zt],!1)]:[`${M}:${ee(D,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[zt]?`${Xt(v)}/${y[0]}`:`${Xt(v)}/(${y.join("//")})`}}function Z(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oe(v){return Z(v).replace(/%3B/gi,";")}function Ee(v){return Z(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gt(v){return decodeURIComponent(v)}function Ft(v){return gt(v.replace(/\+/g,"%20"))}function Sn(v){return`${Ee(v.path)}${function Cr(v){return Object.keys(v).map(_=>`;${Ee(_)}=${Ee(v[_])}`).join("")}(v.parameters)}`}const me=/^[^\/()?;=#]+/;function te(v){const _=v.match(me);return _?_[0]:""}const W=/^[^=?&#]+/,ke=/^[^&#]+/;class Ut{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tt([],{}):new tt([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(_.length>0||Object.keys(y).length>0)&&(D[zt]=new tt(_,y)),D}parseSegment(){const _=te(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new A.vHH(4009,!1);return this.capture(_),new $r(gt(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const y=te(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const M=te(this.remaining);M&&(D=M,this.capture(D))}_[gt(y)]=gt(D)}parseQueryParam(_){const y=function ye(v){const _=v.match(W);return _?_[0]:""}(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const K=function kt(v){const _=v.match(ke);return _?_[0]:""}(this.remaining);K&&(D=K,this.capture(D))}const M=Ft(y),F=Ft(D);if(_.hasOwnProperty(M)){let K=_[M];Array.isArray(K)||(K=[K],_[M]=K),K.push(F)}else _[M]=F}parseParens(_){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=te(this.remaining),M=this.remaining[D.length];if("/"!==M&&")"!==M&&";"!==M)throw new A.vHH(4010,!1);let F;D.indexOf(":")>-1?(F=D.slice(0,D.indexOf(":")),this.capture(F),this.capture(":")):_&&(F=zt);const K=this.parseChildren();y[F]=1===Object.keys(K).length?K[zt]:new tt([],K),this.consumeOptional("//")}return y}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new A.vHH(4011,!1)}}function Dn(v){return v.segments.length>0?new tt([],{[zt]:v}):v}function Xe(v){const _={};for(const D of Object.keys(v.children)){const F=Xe(v.children[D]);(F.segments.length>0||F.hasChildren())&&(_[D]=F)}return function Gt(v){if(1===v.numberOfChildren&&v.children[zt]){const _=v.children[zt];return new tt(v.segments.concat(_.segments),_.children)}return v}(new tt(v.segments,_))}function gn(v){return v instanceof tr}function qn(v,_,y,D,M){if(0===y.length)return Bt(_.root,_.root,_.root,D,M);const F=function Lo(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Li(!0,0,v);let _=0,y=!1;const D=v.reduce((M,F,K)=>{if("object"==typeof F&&null!=F){if(F.outlets){const X={};return Ln(F.outlets,(De,rt)=>{X[rt]="string"==typeof De?De.split("/"):De}),[...M,{outlets:X}]}if(F.segmentPath)return[...M,F.segmentPath]}return"string"!=typeof F?[...M,F]:0===K?(F.split("/").forEach((X,De)=>{0==De&&"."===X||(0==De&&""===X?y=!0:".."===X?_++:""!=X&&M.push(X))}),M):[...M,F]},[]);return new Li(y,_,D)}(y);return F.toRoot()?Bt(_.root,_.root,new tt([],{}),D,M):function K(De){const rt=function Fi(v,_,y,D){if(v.isAbsolute)return new $n(_.root,!0,0);if(-1===D)return new $n(y,y===_.root,0);return function ai(v,_,y){let D=v,M=_,F=y;for(;F>M;){if(F-=M,D=D.parent,!D)throw new A.vHH(4005,!1);M=D.segments.length}return new $n(D,!1,M-F)}(y,D+(Fr(v.commands[0])?0:1),v.numberOfDoubleDots)}(F,_,v.snapshot?._urlSegment,De),Lt=rt.processChildren?ls(rt.segmentGroup,rt.index,F.commands):yi(rt.segmentGroup,rt.index,F.commands);return Bt(_.root,rt.segmentGroup,Lt,D,M)}(v.snapshot?._lastPathIndex)}function Fr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function mi(v){return"object"==typeof v&&null!=v&&v.outlets}function Bt(v,_,y,D,M){let K,F={};D&&Ln(D,(De,rt)=>{F[rt]=Array.isArray(De)?De.map(Lt=>`${Lt}`):`${De}`}),K=v===_?y:Ir(v,_,y);const X=Dn(Xe(K));return new tr(X,F,M)}function Ir(v,_,y){const D={};return Ln(v.children,(M,F)=>{D[F]=M===_?y:Ir(M,_,y)}),new tt(v.segments,D)}class Li{constructor(_,y,D){if(this.isAbsolute=_,this.numberOfDoubleDots=y,this.commands=D,_&&D.length>0&&Fr(D[0]))throw new A.vHH(4003,!1);const M=D.find(mi);if(M&&M!==si(D))throw new A.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $n{constructor(_,y,D){this.segmentGroup=_,this.processChildren=y,this.index=D}}function yi(v,_,y){if(v||(v=new tt([],{})),0===v.segments.length&&v.hasChildren())return ls(v,_,y);const D=function kn(v,_,y){let D=0,M=_;const F={match:!1,pathIndex:0,commandIndex:0};for(;M<v.segments.length;){if(D>=y.length)return F;const K=v.segments[M],X=y[D];if(mi(X))break;const De=`${X}`,rt=D<y.length-1?y[D+1]:null;if(M>0&&void 0===De)break;if(De&&rt&&"object"==typeof rt&&void 0===rt.outlets){if(!ds(De,rt,K))return F;D+=2}else{if(!ds(De,{},K))return F;D++}M++}return{match:!0,pathIndex:M,commandIndex:D}}(v,_,y),M=y.slice(D.commandIndex);if(D.match&&D.pathIndex<v.segments.length){const F=new tt(v.segments.slice(0,D.pathIndex),{});return F.children[zt]=new tt(v.segments.slice(D.pathIndex),v.children),ls(F,0,M)}return D.match&&0===M.length?new tt(v.segments,{}):D.match&&!v.hasChildren()?qi(v,_,y):D.match?ls(v,0,M):qi(v,_,y)}function ls(v,_,y){if(0===y.length)return new tt(v.segments,{});{const D=function bi(v){return mi(v[0])?v[0].outlets:{[zt]:v}}(y),M={};return Ln(D,(F,K)=>{"string"==typeof F&&(F=[F]),null!==F&&(M[K]=yi(v.children[K],_,F))}),Ln(v.children,(F,K)=>{void 0===D[K]&&(M[K]=F)}),new tt(v.segments,M)}}function qi(v,_,y){const D=v.segments.slice(0,_);let M=0;for(;M<y.length;){const F=y[M];if(mi(F)){const De=Ts(F.outlets);return new tt(D,De)}if(0===M&&Fr(y[0])){D.push(new $r(v.segments[_].path,bs(y[0]))),M++;continue}const K=mi(F)?F.outlets[zt]:`${F}`,X=M<y.length-1?y[M+1]:null;K&&X&&Fr(X)?(D.push(new $r(K,bs(X))),M+=2):(D.push(new $r(K,{})),M++)}return new tt(D,{})}function Ts(v){const _={};return Ln(v,(y,D)=>{"string"==typeof y&&(y=[y]),null!==y&&(_[D]=qi(new tt([],{}),0,y))}),_}function bs(v){const _={};return Ln(v,(y,D)=>_[D]=`${y}`),_}function ds(v,_,y){return v==y.path&&rn(_,y.parameters)}class Zr{constructor(_,y){this.id=_,this.url=y}}class Ui extends Zr{constructor(_,y,D="imperative",M=null){super(_,y),this.type=0,this.navigationTrigger=D,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jr extends Zr{constructor(_,y,D){super(_,y),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fr extends Zr{constructor(_,y,D,M){super(_,y),this.reason=D,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fo extends Zr{constructor(_,y,D,M){super(_,y),this.error=D,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wr extends Zr{constructor(_,y,D,M){super(_,y),this.urlAfterRedirects=D,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends Zr{constructor(_,y,D,M){super(_,y),this.urlAfterRedirects=D,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class go extends Zr{constructor(_,y,D,M,F){super(_,y),this.urlAfterRedirects=D,this.state=M,this.shouldActivate=F,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yr extends Zr{constructor(_,y,D,M){super(_,y),this.urlAfterRedirects=D,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs extends Zr{constructor(_,y,D,M){super(_,y),this.urlAfterRedirects=D,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ii{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class na{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(_,y,D){this.routerEvent=_,this.position=y,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ra{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const y=this.pathFromRoot(_);return y.length>1?y[y.length-2]:null}children(_){const y=ia(_,this._root);return y?y.children.map(D=>D.value):[]}firstChild(_){const y=ia(_,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(_){const y=vo(_,this._root);return y.length<2?[]:y[y.length-2].children.map(M=>M.value).filter(M=>M!==_)}pathFromRoot(_){return vo(_,this._root).map(y=>y.value)}}function ia(v,_){if(v===_.value)return _;for(const y of _.children){const D=ia(v,y);if(D)return D}return null}function vo(v,_){if(v===_.value)return[_];for(const y of _.children){const D=vo(v,y);if(D.length)return D.unshift(_),D}return[]}class Cs{constructor(_,y){this.value=_,this.children=y}toString(){return`TreeNode(${this.value})`}}function Ki(v){const _={};return v&&v.children.forEach(y=>_[y.value.outlet]=y),_}class wi extends ra{constructor(_,y){super(_),this.snapshot=y,Uo(this,_)}toString(){return this.snapshot.toString()}}function Ss(v,_){const y=function _o(v,_){const K=new Zi([],{},{},"",{},zt,_,null,v.root,-1,{});return new Ur("",new Cs(K,[]))}(v,_),D=new J([new $r("",{})]),M=new J({}),F=new J({}),K=new J({}),X=new J(""),De=new hs(D,M,K,X,F,zt,_,y.root);return De.snapshot=y.root,new wi(new Cs(De,[]),y)}class hs{constructor(_,y,D,M,F,K,X,De){this.url=_,this.params=y,this.queryParams=D,this.fragment=M,this.data=F,this.outlet=K,this.component=X,this.title=this.data?.pipe((0,de.U)(rt=>rt[On]))??(0,Y.of)(void 0),this._futureSnapshot=De}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,de.U)(_=>Rn(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,de.U)(_=>Rn(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jn(v,_="emptyOnly"){const y=v.pathFromRoot;let D=0;if("always"!==_)for(D=y.length-1;D>=1;){const M=y[D],F=y[D-1];if(M.routeConfig&&""===M.routeConfig.path)D--;else{if(F.component)break;D--}}return function sa(v){return v.reduce((_,y)=>({params:{..._.params,...y.params},data:{..._.data,...y.data},resolve:{...y.data,..._.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(D))}class Zi{constructor(_,y,D,M,F,K,X,De,rt,Lt,It,bn){this.url=_,this.params=y,this.queryParams=D,this.fragment=M,this.data=F,this.outlet=K,this.component=X,this.title=this.data?.[On],this.routeConfig=De,this._urlSegment=rt,this._lastPathIndex=Lt,this._correctedLastPathIndex=bn??Lt,this._resolve=It}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ur extends ra{constructor(_,y){super(y),this.url=_,Uo(this,y)}toString(){return Io(this._root)}}function Uo(v,_){_.value._routerState=v,_.children.forEach(y=>Uo(v,y))}function Io(v){const _=v.children.length>0?` { ${v.children.map(Io).join(", ")} } `:"";return`${v.value}${_}`}function Bu(v){if(v.snapshot){const _=v.snapshot,y=v._futureSnapshot;v.snapshot=y,rn(_.queryParams,y.queryParams)||v.queryParams.next(y.queryParams),_.fragment!==y.fragment&&v.fragment.next(y.fragment),rn(_.params,y.params)||v.params.next(y.params),function Es(v,_){if(v.length!==_.length)return!1;for(let y=0;y<v.length;++y)if(!rn(v[y],_[y]))return!1;return!0}(_.url,y.url)||v.url.next(y.url),rn(_.data,y.data)||v.data.next(y.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Us(v,_){const y=rn(v.params,_.params)&&function Kr(v,_){return ht(v,_)&&v.every((y,D)=>rn(y.parameters,_[D].parameters))}(v.url,_.url);return y&&!(!v.parent!=!_.parent)&&(!v.parent||Us(v.parent,_.parent))}function Qr(v,_,y){if(y&&v.shouldReuseRoute(_.value,y.value.snapshot)){const D=y.value;D._futureSnapshot=_.value;const M=function Yi(v,_,y){return _.children.map(D=>{for(const M of y.children)if(v.shouldReuseRoute(D.value,M.value.snapshot))return Qr(v,D,M);return Qr(v,D)})}(v,_,y);return new Cs(D,M)}{if(v.shouldAttach(_.value)){const F=v.retrieve(_.value);if(null!==F){const K=F.route;return K.value._futureSnapshot=_.value,K.children=_.children.map(X=>Qr(v,X)),K}}const D=function Qi(v){return new hs(new J(v.url),new J(v.params),new J(v.queryParams),new J(v.fragment),new J(v.data),v.outlet,v.component,v)}(_.value),M=_.children.map(F=>Qr(v,F));return new Cs(D,M)}}const wo="ngNavigationCancelingError";function oa(v,_){const{redirectTo:y,navigationBehaviorOptions:D}=gn(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,M=Vo(!1,0,_);return M.url=y,M.navigationBehaviorOptions=D,M}function Vo(v,_,y){const D=new Error("NavigationCancelingError: "+(v||""));return D[wo]=!0,D.cancellationCode=_,y&&(D.url=y),D}function Xi(v){return ui(v)&&gn(v.url)}function ui(v){return v&&v[wo]}class ka{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hr,this.attachRef=null}}let Hr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(y,D){const M=this.getOrCreateContext(y);M.outlet=D,this.contexts.set(y,M)}onChildOutletDestroyed(y){const D=this.getContext(y);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let D=this.getContext(y);return D||(D=new ka,this.contexts.set(y,D)),D}getContext(y){return this.contexts.get(y)||null}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Xr=!1;let fs=(()=>{class v{constructor(y,D,M,F,K){this.parentContexts=y,this.location=D,this.changeDetector=F,this.environmentInjector=K,this.activated=null,this._activatedRoute=null,this.activateEvents=new A.vpe,this.deactivateEvents=new A.vpe,this.attachEvents=new A.vpe,this.detachEvents=new A.vpe,this.name=M||zt,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A.vHH(4012,Xr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A.vHH(4012,Xr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A.vHH(4012,Xr);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,D){this.activated=y,this._activatedRoute=D,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,D){if(this.isActivated)throw new A.vHH(4013,Xr);this._activatedRoute=y;const M=this.location,K=y._futureSnapshot.component,X=this.parentContexts.getOrCreateContext(this.name).children,De=new to(y,X,M.injector);if(D&&function Eo(v){return!!v.resolveComponentFactory}(D)){const rt=D.resolveComponentFactory(K);this.activated=M.createComponent(rt,M.length,De)}else this.activated=M.createComponent(K,{index:M.length,injector:De,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(y){return new(y||v)(A.Y36(Hr),A.Y36(A.s_b),A.$8M("name"),A.Y36(A.sBO),A.Y36(A.lqb))},v.\u0275dir=A.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),v})();class to{constructor(_,y,D){this.route=_,this.childContexts=y,this.parent=D}get(_,y){return _===hs?this.route:_===Hr?this.childContexts:this.parent.get(_,y)}}let Bo=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275cmp=A.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[A.jDz],decls:1,vars:0,template:function(y,D){1&y&&A._UZ(0,"router-outlet")},dependencies:[fs],encapsulation:2}),v})();function Jt(v,_){return v.providers&&!v._injector&&(v._injector=(0,A.MMx)(v.providers,_,`Route: ${v.path}`)),v._injector??_}function no(v){const _=v.children&&v.children.map(no),y=_?{...v,children:_}:{...v};return!y.component&&!y.loadComponent&&(_||y.loadChildren)&&y.outlet&&y.outlet!==zt&&(y.component=Bo),y}function mr(v){return v.outlet||zt}function Bs(v,_){const y=v.filter(D=>mr(D)===_);return y.push(...v.filter(D=>mr(D)!==_)),y}function yr(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let _=v.parent;_;_=_.parent){const y=_.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Fn{constructor(_,y,D,M){this.routeReuseStrategy=_,this.futureState=y,this.currState=D,this.forwardEvent=M}activate(_){const y=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,D,_),Bu(this.futureState.root),this.activateChildRoutes(y,D,_)}deactivateChildRoutes(_,y,D){const M=Ki(y);_.children.forEach(F=>{const K=F.value.outlet;this.deactivateRoutes(F,M[K],D),delete M[K]}),Ln(M,(F,K)=>{this.deactivateRouteAndItsChildren(F,D)})}deactivateRoutes(_,y,D){const M=_.value,F=y?y.value:null;if(M===F)if(M.component){const K=D.getContext(M.outlet);K&&this.deactivateChildRoutes(_,y,K.children)}else this.deactivateChildRoutes(_,y,D);else F&&this.deactivateRouteAndItsChildren(y,D)}deactivateRouteAndItsChildren(_,y){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,y):this.deactivateRouteAndOutlet(_,y)}detachAndStoreRouteSubtree(_,y){const D=y.getContext(_.value.outlet),M=D&&_.value.component?D.children:y,F=Ki(_);for(const K of Object.keys(F))this.deactivateRouteAndItsChildren(F[K],M);if(D&&D.outlet){const K=D.outlet.detach(),X=D.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:K,route:_,contexts:X})}}deactivateRouteAndOutlet(_,y){const D=y.getContext(_.value.outlet),M=D&&_.value.component?D.children:y,F=Ki(_);for(const K of Object.keys(F))this.deactivateRouteAndItsChildren(F[K],M);D&&D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated(),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(_,y,D){const M=Ki(y);_.children.forEach(F=>{this.activateRoutes(F,M[F.value.outlet],D),this.forwardEvent(new Si(F.value.snapshot))}),_.children.length&&this.forwardEvent(new mo(_.value.snapshot))}activateRoutes(_,y,D){const M=_.value,F=y?y.value:null;if(Bu(M),M===F)if(M.component){const K=D.getOrCreateContext(M.outlet);this.activateChildRoutes(_,y,K.children)}else this.activateChildRoutes(_,y,D);else if(M.component){const K=D.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const X=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),K.children.onOutletReAttached(X.contexts),K.attachRef=X.componentRef,K.route=X.route.value,K.outlet&&K.outlet.attach(X.componentRef,X.route.value),Bu(X.route.value),this.activateChildRoutes(_,null,K.children)}else{const X=yr(M.snapshot),De=X?.get(A._Vd)??null;K.attachRef=null,K.route=M,K.resolver=De,K.injector=X,K.outlet&&K.outlet.activateWith(M,K.injector),this.activateChildRoutes(_,null,K.children)}}else this.activateChildRoutes(_,null,D)}}class $t{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class js{constructor(_,y){this.component=_,this.route=y}}function yc(v,_,y){const D=v._root;return As(D,_?_._root:null,y,[D.value])}function Vi(v,_){const y=Symbol(),D=_.get(v,y);return D===y?"function"!=typeof v||(0,A.Z0I)(v)?_.get(v):v:D}function As(v,_,y,D,M={canDeactivateChecks:[],canActivateChecks:[]}){const F=Ki(_);return v.children.forEach(K=>{(function xs(v,_,y,D,M={canDeactivateChecks:[],canActivateChecks:[]}){const F=v.value,K=_?_.value:null,X=y?y.getContext(v.value.outlet):null;if(K&&F.routeConfig===K.routeConfig){const De=function Pa(v,_,y){if("function"==typeof y)return y(v,_);switch(y){case"pathParamsChange":return!ht(v.url,_.url);case"pathParamsOrQueryParamsChange":return!ht(v.url,_.url)||!rn(v.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Us(v,_)||!rn(v.queryParams,_.queryParams);default:return!Us(v,_)}}(K,F,F.routeConfig.runGuardsAndResolvers);De?M.canActivateChecks.push(new $t(D)):(F.data=K.data,F._resolvedData=K._resolvedData),As(v,_,F.component?X?X.children:null:y,D,M),De&&X&&X.outlet&&X.outlet.isActivated&&M.canDeactivateChecks.push(new js(X.outlet.component,K))}else K&&es(_,X,M),M.canActivateChecks.push(new $t(D)),As(v,null,F.component?X?X.children:null:y,D,M)})(K,F[K.value.outlet],y,D.concat([K.value]),M),delete F[K.value.outlet]}),Ln(F,(K,X)=>es(K,y.getContext(X),M)),M}function es(v,_,y){const D=Ki(v),M=v.value;Ln(D,(F,K)=>{es(F,M.component?_?_.children.getContext(K):null:_,y)}),y.canDeactivateChecks.push(new js(M.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,M))}function Oe(v){return"function"==typeof v}function ps(v){return v instanceof Me||"EmptyError"===v?.name}const Oa=Symbol("INITIAL_VALUE");function To(){return(0,Pe.w)(v=>(0,ce.a)(v.map(_=>_.pipe((0,le.q)(1),function Q(...v){const _=(0,ne.yG)(v);return(0,Fe.e)((y,D)=>{(_?ge(v,y,_):ge(v,y)).subscribe(D)})}(Oa)))).pipe((0,de.U)(_=>{for(const y of _)if(!0!==y){if(y===Oa)return Oa;if(!1===y||y instanceof tr)return y}return!0}),(0,we.h)(_=>_!==Oa),(0,le.q)(1)))}function $i(v){return(0,ft.z)((0,Yt.b)(_=>{if(gn(_))throw oa(0,_)}),(0,de.U)(_=>!0===_))}const gs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zo(v,_,y,D,M){const F=T(v,_,y);return F.matched?function $u(v,_,y,D){const M=_.canMatch;if(!M||0===M.length)return(0,Y.of)(!0);const F=M.map(K=>{const X=Vi(K,v);return Yn(function ts(v){return v&&Oe(v.canMatch)}(X)?X.canMatch(_,y):v.runInContext(()=>X(_,y)))});return(0,Y.of)(F).pipe(To(),$i())}(D=Jt(_,D),_,y).pipe((0,de.U)(K=>!0===K?F:{...gs})):(0,Y.of)(F)}function T(v,_,y){if(""===_.path)return"full"===_.pathMatch&&(v.hasChildren()||y.length>0)?{...gs}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const M=(_.matcher||Pr)(y,v,_);if(!M)return{...gs};const F={};Ln(M.posParams,(X,De)=>{F[De]=X.path});const K=M.consumed.length>0?{...F,...M.consumed[M.consumed.length-1].parameters}:F;return{matched:!0,consumedSegments:M.consumed,remainingSegments:y.slice(M.consumed.length),parameters:K,positionalParamSegments:M.posParams??{}}}function N(v,_,y,D,M="corrected"){if(y.length>0&&function re(v,_,y){return y.some(D=>Be(v,_,D)&&mr(D)!==zt)}(v,y,D)){const K=new tt(_,function V(v,_,y,D){const M={};M[zt]=D,D._sourceSegment=v,D._segmentIndexShift=_.length;for(const F of y)if(""===F.path&&mr(F)!==zt){const K=new tt([],{});K._sourceSegment=v,K._segmentIndexShift=_.length,M[mr(F)]=K}return M}(v,_,D,new tt(y,v.children)));return K._sourceSegment=v,K._segmentIndexShift=_.length,{segmentGroup:K,slicedSegments:[]}}if(0===y.length&&function Ce(v,_,y){return y.some(D=>Be(v,_,D))}(v,y,D)){const K=new tt(v.segments,function S(v,_,y,D,M,F){const K={};for(const X of D)if(Be(v,y,X)&&!M[mr(X)]){const De=new tt([],{});De._sourceSegment=v,De._segmentIndexShift="legacy"===F?v.segments.length:_.length,K[mr(X)]=De}return{...M,...K}}(v,_,y,D,v.children,M));return K._sourceSegment=v,K._segmentIndexShift=_.length,{segmentGroup:K,slicedSegments:y}}const F=new tt(v.segments,v.children);return F._sourceSegment=v,F._segmentIndexShift=_.length,{segmentGroup:F,slicedSegments:y}}function Be(v,_,y){return(!(v.hasChildren()||_.length>0)||"full"!==y.pathMatch)&&""===y.path}function yt(v,_,y,D){return!!(mr(v)===D||D!==zt&&Be(_,y,v))&&("**"===v.path||T(_,v,y).matched)}function an(v,_,y){return 0===_.length&&!v.children[y]}const vn=!1;class _n{constructor(_){this.segmentGroup=_||null}}class ln{constructor(_){this.urlTree=_}}function hn(v){return mt(new _n(v))}function fn(v){return mt(new ln(v))}class ti{constructor(_,y,D,M,F){this.injector=_,this.configLoader=y,this.urlSerializer=D,this.urlTree=M,this.config=F,this.allowRedirects=!0}apply(){const _=N(this.urlTree.root,[],[],this.config).segmentGroup,y=new tt(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,y,zt).pipe((0,de.U)(F=>this.createUrlTree(Xe(F),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wn(F=>{if(F instanceof ln)return this.allowRedirects=!1,this.match(F.urlTree);throw F instanceof _n?this.noMatchError(F):F}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,zt).pipe((0,de.U)(M=>this.createUrlTree(Xe(M),_.queryParams,_.fragment))).pipe(wn(M=>{throw M instanceof _n?this.noMatchError(M):M}))}noMatchError(_){return new A.vHH(4002,vn)}createUrlTree(_,y,D){const M=Dn(_);return new tr(M,y,D)}expandSegmentGroup(_,y,D,M){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(_,y,D).pipe((0,de.U)(F=>new tt([],F))):this.expandSegment(_,D,y,D.segments,M,!0)}expandChildren(_,y,D){const M=[];for(const F of Object.keys(D.children))"primary"===F?M.unshift(F):M.push(F);return(0,H.D)(M).pipe(Mt(F=>{const K=D.children[F],X=Bs(y,F);return this.expandSegmentGroup(_,X,K,F).pipe((0,de.U)(De=>({segment:De,outlet:F})))}),cr((F,K)=>(F[K.outlet]=K.segment,F),{}),Pn())}expandSegment(_,y,D,M,F,K){return(0,H.D)(D).pipe(Mt(X=>this.expandSegmentAgainstRoute(_,y,D,X,M,F,K).pipe(wn(rt=>{if(rt instanceof _n)return(0,Y.of)(null);throw rt}))),cn(X=>!!X),wn((X,De)=>{if(ps(X))return an(y,M,F)?(0,Y.of)(new tt([],{})):hn(y);throw X}))}expandSegmentAgainstRoute(_,y,D,M,F,K,X){return yt(M,y,F,K)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(_,y,M,F,K):X&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,y,D,M,F,K):hn(y):hn(y)}expandSegmentAgainstRouteUsingRedirect(_,y,D,M,F,K){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,D,M,K):this.expandRegularSegmentAgainstRouteUsingRedirect(_,y,D,M,F,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,y,D,M){const F=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?fn(F):this.lineralizeSegments(D,F).pipe((0,ae.z)(K=>{const X=new tt(K,{});return this.expandSegment(_,X,y,K,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,y,D,M,F,K){const{matched:X,consumedSegments:De,remainingSegments:rt,positionalParamSegments:Lt}=T(y,M,F);if(!X)return hn(y);const It=this.applyRedirectCommands(De,M.redirectTo,Lt);return M.redirectTo.startsWith("/")?fn(It):this.lineralizeSegments(M,It).pipe((0,ae.z)(bn=>this.expandSegment(_,y,D,bn.concat(rt),K,!1)))}matchSegmentAgainstRoute(_,y,D,M,F){return"**"===D.path?(_=Jt(D,_),D.loadChildren?(D._loadedRoutes?(0,Y.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(_,D)).pipe((0,de.U)(X=>(D._loadedRoutes=X.routes,D._loadedInjector=X.injector,new tt(M,{})))):(0,Y.of)(new tt(M,{}))):zo(y,D,M,_).pipe((0,Pe.w)(({matched:K,consumedSegments:X,remainingSegments:De})=>K?this.getChildConfig(_=D._injector??_,D,M).pipe((0,ae.z)(Lt=>{const It=Lt.injector??_,bn=Lt.routes,{segmentGroup:hi,slicedSegments:Mi}=N(y,X,De,bn),zr=new tt(hi.segments,hi.children);if(0===Mi.length&&zr.hasChildren())return this.expandChildren(It,bn,zr).pipe((0,de.U)(pn=>new tt(X,pn)));if(0===bn.length&&0===Mi.length)return(0,Y.of)(new tt(X,{}));const _s=mr(D)===F;return this.expandSegment(It,zr,bn,Mi,_s?zt:F,!0).pipe((0,de.U)(va=>new tt(X.concat(va.segments),va.children)))})):hn(y)))}getChildConfig(_,y,D){return y.children?(0,Y.of)({routes:y.children,injector:_}):y.loadChildren?void 0!==y._loadedRoutes?(0,Y.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function La(v,_,y,D){const M=_.canLoad;if(void 0===M||0===M.length)return(0,Y.of)(!0);const F=M.map(K=>{const X=Vi(K,v);return Yn(function aa(v){return v&&Oe(v.canLoad)}(X)?X.canLoad(_,y):v.runInContext(()=>X(_,y)))});return(0,Y.of)(F).pipe(To(),$i())}(_,y,D).pipe((0,ae.z)(M=>M?this.configLoader.loadChildren(_,y).pipe((0,Yt.b)(F=>{y._loadedRoutes=F.routes,y._loadedInjector=F.injector})):function io(v){return mt(Vo(vn,3))}())):(0,Y.of)({routes:[],injector:_})}lineralizeSegments(_,y){let D=[],M=y.root;for(;;){if(D=D.concat(M.segments),0===M.numberOfChildren)return(0,Y.of)(D);if(M.numberOfChildren>1||!M.children[zt])return mt(new A.vHH(4e3,vn));M=M.children[zt]}}applyRedirectCommands(_,y,D){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),_,D)}applyRedirectCreateUrlTree(_,y,D,M){const F=this.createSegmentGroup(_,y.root,D,M);return new tr(F,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(_,y){const D={};return Ln(_,(M,F)=>{if("string"==typeof M&&M.startsWith(":")){const X=M.substring(1);D[F]=y[X]}else D[F]=M}),D}createSegmentGroup(_,y,D,M){const F=this.createSegments(_,y.segments,D,M);let K={};return Ln(y.children,(X,De)=>{K[De]=this.createSegmentGroup(_,X,D,M)}),new tt(F,K)}createSegments(_,y,D,M){return y.map(F=>F.path.startsWith(":")?this.findPosParam(_,F,M):this.findOrReturn(F,D))}findPosParam(_,y,D){const M=D[y.path.substring(1)];if(!M)throw new A.vHH(4001,vn);return M}findOrReturn(_,y){let D=0;for(const M of y){if(M.path===_.path)return y.splice(D),M;D++}return _}}class iu{}class Qn{constructor(_,y,D,M,F,K,X,De){this.injector=_,this.rootComponentType=y,this.config=D,this.urlTree=M,this.url=F,this.paramsInheritanceStrategy=K,this.relativeLinkResolution=X,this.urlSerializer=De}recognize(){const _=N(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,zt).pipe((0,de.U)(y=>{if(null===y)return null;const D=new Zi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new Cs(D,y),F=new Ur(this.url,M);return this.inheritParamsAndData(F._root),F}))}inheritParamsAndData(_){const y=_.value,D=jn(y,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),_.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(_,y,D,M){return 0===D.segments.length&&D.hasChildren()?this.processChildren(_,y,D):this.processSegment(_,y,D,D.segments,M)}processChildren(_,y,D){return(0,H.D)(Object.keys(D.children)).pipe(Mt(M=>{const F=D.children[M],K=Bs(y,M);return this.processSegmentGroup(_,K,F,M)}),cr((M,F)=>M&&F?(M.push(...F),M):null),function lr(v,_=!1){return(0,Fe.e)((y,D)=>{let M=0;y.subscribe((0,je.x)(D,F=>{const K=v(F,M++);(K||_)&&D.next(F),!K&&D.complete()}))})}(M=>null!==M),Ke(null),Pn(),(0,de.U)(M=>{if(null===M)return null;const F=so(M);return function rs(v){v.sort((_,y)=>_.value.outlet===zt?-1:y.value.outlet===zt?1:_.value.outlet.localeCompare(y.value.outlet))}(F),F}))}processSegment(_,y,D,M,F){return(0,H.D)(y).pipe(Mt(K=>this.processSegmentAgainstRoute(K._injector??_,K,D,M,F)),cn(K=>!!K),wn(K=>{if(ps(K))return an(D,M,F)?(0,Y.of)([]):(0,Y.of)(null);throw K}))}processSegmentAgainstRoute(_,y,D,M,F){if(y.redirectTo||!yt(y,D,M,F))return(0,Y.of)(null);let K;if("**"===y.path){const X=M.length>0?si(M).parameters:{},De=ze(D)+M.length,rt=new Zi(M,X,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fa(y),mr(y),y.component??y._loadedComponent??null,y,xe(D),De,su(y),De);K=(0,Y.of)({snapshot:rt,consumedSegments:[],remainingSegments:[]})}else K=zo(D,y,M,_).pipe((0,de.U)(({matched:X,consumedSegments:De,remainingSegments:rt,parameters:Lt})=>{if(!X)return null;const It=ze(D)+De.length;return{snapshot:new Zi(De,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fa(y),mr(y),y.component??y._loadedComponent??null,y,xe(D),It,su(y),It),consumedSegments:De,remainingSegments:rt}}));return K.pipe((0,Pe.w)(X=>{if(null===X)return(0,Y.of)(null);const{snapshot:De,consumedSegments:rt,remainingSegments:Lt}=X;_=y._injector??_;const It=y._loadedInjector??_,bn=function vt(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(y),{segmentGroup:hi,slicedSegments:Mi}=N(D,rt,Lt,bn.filter(_s=>void 0===_s.redirectTo),this.relativeLinkResolution);if(0===Mi.length&&hi.hasChildren())return this.processChildren(It,bn,hi).pipe((0,de.U)(_s=>null===_s?null:[new Cs(De,_s)]));if(0===bn.length&&0===Mi.length)return(0,Y.of)([new Cs(De,[])]);const zr=mr(y)===F;return this.processSegment(It,bn,hi,Mi,zr?zt:F).pipe((0,de.U)(_s=>null===_s?null:[new Cs(De,_s)]))}))}}function St(v){const _=v.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function so(v){const _=[],y=new Set;for(const D of v){if(!St(D)){_.push(D);continue}const M=_.find(F=>D.value.routeConfig===F.value.routeConfig);void 0!==M?(M.children.push(...D.children),y.add(M)):_.push(D)}for(const D of y){const M=so(D.children);_.push(new Cs(D.value,M))}return _.filter(D=>!y.has(D))}function xe(v){let _=v;for(;_._sourceSegment;)_=_._sourceSegment;return _}function ze(v){let _=v,y=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,y+=_._segmentIndexShift??0;return y-1}function Fa(v){return v.data||{}}function su(v){return v.resolve||{}}function uu(v){return"string"==typeof v.title||null===v.title}function ua(v){return(0,Pe.w)(_=>{const y=v(_);return y?(0,H.D)(y).pipe((0,de.U)(()=>_)):(0,Y.of)(_)})}let ca=(()=>{class v{buildTitle(y){let D,M=y.root;for(;void 0!==M;)D=this.getResolvedTitleForRoute(M)??D,M=M.children.find(F=>F.outlet===zt);return D}getResolvedTitleForRoute(y){return y.data[On]}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=A.Yz7({token:v,factory:function(){return(0,A.f3M)(Ht)},providedIn:"root"}),v})(),Ht=(()=>{class v extends ca{constructor(y){super(),this.title=y}updateTitle(y){const D=this.buildTitle(y);void 0!==D&&this.title.setTitle(D)}}return v.\u0275fac=function(y){return new(y||v)(A.LFG(Mn.Dx))},v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class bo{}class At extends class Zt{shouldDetach(_){return!1}store(_,y){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,y){return _.routeConfig===y.routeConfig}}{}const mn=new A.OlP("",{providedIn:"root",factory:()=>({})}),vr=new A.OlP("ROUTES");let nt=(()=>{class v{constructor(y,D){this.injector=y,this.compiler=D,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,Y.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const D=Yn(y.loadComponent()).pipe((0,Yt.b)(F=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=F}),En(()=>{this.componentLoaders.delete(y)})),M=new it(D,()=>new fe.x).pipe(be());return this.componentLoaders.set(y,M),M}loadChildren(y,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,Y.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const F=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,de.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(D);let De,rt,Lt=!1;Array.isArray(X)?rt=X:(De=X.create(y).injector,rt=Ds(De.get(vr,[],A.XFs.Self|A.XFs.Optional)));return{routes:rt.map(no),injector:De}}),En(()=>{this.childrenLoaders.delete(D)})),K=new it(F,()=>new fe.x).pipe(be());return this.childrenLoaders.set(D,K),K}loadModuleFactoryOrRoutes(y){return Yn(y()).pipe((0,ae.z)(D=>D instanceof A.YKP||Array.isArray(D)?(0,Y.of)(D):(0,H.D)(this.compiler.compileModuleAsync(D))))}}return v.\u0275fac=function(y){return new(y||v)(A.LFG(A.zs3),A.LFG(A.Sil))},v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class da{}class zs{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,y){return _}}function Wo(v){throw v}function Ns(v,_,y){return _.parse("/")}const oo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ha={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function pa(){const v=(0,A.f3M)(st),_=(0,A.f3M)(Hr),y=(0,A.f3M)(qe.Ye),D=(0,A.f3M)(A.zs3),M=(0,A.f3M)(A.Sil),F=(0,A.f3M)(vr,{optional:!0})??[],K=(0,A.f3M)(mn,{optional:!0})??{},X=(0,A.f3M)(Ht),De=(0,A.f3M)(ca,{optional:!0}),rt=(0,A.f3M)(da,{optional:!0}),Lt=(0,A.f3M)(bo,{optional:!0}),It=new Tn(null,v,_,y,D,M,Ds(F));return rt&&(It.urlHandlingStrategy=rt),Lt&&(It.routeReuseStrategy=Lt),It.titleStrategy=De??X,function fa(v,_){v.errorHandler&&(_.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(_.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(_.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(_.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(_.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(_.canceledNavigationResolution=v.canceledNavigationResolution)}(K,It),It}let Tn=(()=>{class v{constructor(y,D,M,F,K,X,De){this.rootComponentType=y,this.urlSerializer=D,this.rootContexts=M,this.location=F,this.config=De,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fe.x,this.errorHandler=Wo,this.malformedUriErrorHandler=Ns,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Y.of)(void 0),this.urlHandlingStrategy=new zs,this.routeReuseStrategy=new At,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=K.get(nt),this.configLoader.onLoadEndListener=bn=>this.triggerEvent(new Ii(bn)),this.configLoader.onLoadStartListener=bn=>this.triggerEvent(new _i(bn)),this.ngModule=K.get(A.h0i),this.console=K.get(A.c2e);const It=K.get(A.R0b);this.isNgZoneEnabled=It instanceof A.R0b&&A.R0b.isInAngularZone(),this.resetConfig(De),this.currentUrlTree=function dt(){return new tr(new tt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ss(this.currentUrlTree,this.rootComponentType),this.transitions=new J({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const D=this.events;return y.pipe((0,we.h)(M=>0!==M.id),(0,de.U)(M=>({...M,extractedUrl:this.urlHandlingStrategy.extract(M.rawUrl)})),(0,Pe.w)(M=>{let F=!1,K=!1;return(0,Y.of)(M).pipe((0,Yt.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.rawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(X=>{const De=this.browserUrlTree.toString(),rt=!this.navigated||X.extractedUrl.toString()!==De||De!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||rt)&&this.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return ga(X.source)&&(this.browserUrlTree=X.extractedUrl),(0,Y.of)(X).pipe((0,Pe.w)(It=>{const bn=this.transitions.getValue();return D.next(new Ui(It.id,this.serializeUrl(It.extractedUrl),It.source,It.restoredState)),bn!==this.transitions.getValue()?_t.E:Promise.resolve(It)}),function li(v,_,y,D){return(0,Pe.w)(M=>function Kn(v,_,y,D,M){return new ti(v,_,y,D,M).apply()}(v,_,y,M.extractedUrl,D).pipe((0,de.U)(F=>({...M,urlAfterRedirects:F}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yt.b)(It=>{this.currentNavigation={...this.currentNavigation,finalUrl:It.urlAfterRedirects},M.urlAfterRedirects=It.urlAfterRedirects}),function fl(v,_,y,D,M,F){return(0,ae.z)(K=>function ar(v,_,y,D,M,F,K="emptyOnly",X="legacy"){return new Qn(v,_,y,D,M,K,X,F).recognize().pipe((0,Pe.w)(De=>null===De?function Ze(v){return new $e.y(_=>_.error(v))}(new iu):(0,Y.of)(De)))}(v,_,y,K.urlAfterRedirects,D.serialize(K.urlAfterRedirects),D,M,F).pipe((0,de.U)(X=>({...K,targetSnapshot:X}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yt.b)(It=>{if(M.targetSnapshot=It.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!It.extras.skipLocationChange){const hi=this.urlHandlingStrategy.merge(It.urlAfterRedirects,It.rawUrl);this.setBrowserUrl(hi,It)}this.browserUrlTree=It.urlAfterRedirects}const bn=new wr(It.id,this.serializeUrl(It.extractedUrl),this.serializeUrl(It.urlAfterRedirects),It.targetSnapshot);D.next(bn)}));if(rt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:bn,extractedUrl:hi,source:Mi,restoredState:zr,extras:_s}=X,Zo=new Ui(bn,this.serializeUrl(hi),Mi,zr);D.next(Zo);const va=Ss(hi,this.rootComponentType).snapshot;return M={...X,targetSnapshot:va,urlAfterRedirects:hi,extras:{..._s,skipLocationChange:!1,replaceUrl:!1}},(0,Y.of)(M)}return this.rawUrlTree=X.rawUrl,X.resolve(null),_t.E}),(0,Yt.b)(X=>{const De=new vi(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);this.triggerEvent(De)}),(0,de.U)(X=>M={...X,guards:yc(X.targetSnapshot,X.currentSnapshot,this.rootContexts)}),function Hs(v,_){return(0,ae.z)(y=>{const{targetSnapshot:D,currentSnapshot:M,guards:{canActivateChecks:F,canDeactivateChecks:K}}=y;return 0===K.length&&0===F.length?(0,Y.of)({...y,guardsResult:!0}):function ru(v,_,y,D){return(0,H.D)(v).pipe((0,ae.z)(M=>function ro(v,_,y,D,M){const F=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!F||0===F.length)return(0,Y.of)(!0);const K=F.map(X=>{const De=yr(_)??M,rt=Vi(X,De);return Yn(function Rs(v){return v&&Oe(v.canDeactivate)}(rt)?rt.canDeactivate(v,_,y,D):De.runInContext(()=>rt(v,_,y,D))).pipe(cn())});return(0,Y.of)(K).pipe(To())}(M.component,M.route,y,_,D)),cn(M=>!0!==M,!0))}(K,D,M,v).pipe((0,ae.z)(X=>X&&function on(v){return"boolean"==typeof v}(X)?function ei(v,_,y,D){return(0,H.D)(_).pipe(Mt(M=>ge(function Go(v,_){return null!==v&&_&&_(new na(v)),(0,Y.of)(!0)}(M.route.parent,D),function ci(v,_){return null!==v&&_&&_(new Ci(v)),(0,Y.of)(!0)}(M.route,D),function Bi(v,_,y){const D=_[_.length-1],F=_.slice(0,_.length-1).reverse().map(K=>function Na(v){const _=v.routeConfig?v.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:v,guards:_}:null}(K)).filter(K=>null!==K).map(K=>ot(()=>{const X=K.guards.map(De=>{const rt=yr(K.node)??y,Lt=Vi(De,rt);return Yn(function ir(v){return v&&Oe(v.canActivateChild)}(Lt)?Lt.canActivateChild(D,v):rt.runInContext(()=>Lt(D,v))).pipe(cn())});return(0,Y.of)(X).pipe(To())}));return(0,Y.of)(F).pipe(To())}(v,M.path,y),function ns(v,_,y){const D=_.routeConfig?_.routeConfig.canActivate:null;if(!D||0===D.length)return(0,Y.of)(!0);const M=D.map(F=>ot(()=>{const K=yr(_)??y,X=Vi(F,K);return Yn(function Ms(v){return v&&Oe(v.canActivate)}(X)?X.canActivate(_,v):K.runInContext(()=>X(_,v))).pipe(cn())}));return(0,Y.of)(M).pipe(To())}(v,M.route,y))),cn(M=>!0!==M,!0))}(D,F,v,_):(0,Y.of)(X)),(0,de.U)(X=>({...y,guardsResult:X})))})}(this.ngModule.injector,X=>this.triggerEvent(X)),(0,Yt.b)(X=>{if(M.guardsResult=X.guardsResult,gn(X.guardsResult))throw oa(0,X.guardsResult);const De=new go(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.triggerEvent(De)}),(0,we.h)(X=>!!X.guardsResult||(this.restoreHistory(X),this.cancelNavigationTransition(X,"",3),!1)),ua(X=>{if(X.guards.canActivateChecks.length)return(0,Y.of)(X).pipe((0,Yt.b)(De=>{const rt=new Yr(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot);this.triggerEvent(rt)}),(0,Pe.w)(De=>{let rt=!1;return(0,Y.of)(De).pipe(function ms(v,_){return(0,ae.z)(y=>{const{targetSnapshot:D,guards:{canActivateChecks:M}}=y;if(!M.length)return(0,Y.of)(y);let F=0;return(0,H.D)(M).pipe(Mt(K=>function od(v,_,y,D){const M=v.routeConfig,F=v._resolve;return void 0!==M?.title&&!uu(M)&&(F[On]=M.title),function ou(v,_,y,D){const M=function ju(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===M.length)return(0,Y.of)({});const F={};return(0,H.D)(M).pipe((0,ae.z)(K=>function au(v,_,y,D){const M=yr(_)??D,F=Vi(v,M);return Yn(F.resolve?F.resolve(_,y):M.runInContext(()=>F(_,y)))}(v[K],_,y,D).pipe(cn(),(0,Yt.b)(X=>{F[K]=X}))),sr(1),function sn(v){return(0,de.U)(()=>v)}(F),wn(K=>ps(K)?_t.E:mt(K)))}(F,v,_,D).pipe((0,de.U)(K=>(v._resolvedData=K,v.data=jn(v,y).resolve,M&&uu(M)&&(v.data[On]=M.title),null)))}(K.route,D,v,_)),(0,Yt.b)(()=>F++),sr(1),(0,ae.z)(K=>F===M.length?(0,Y.of)(y):_t.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yt.b)({next:()=>rt=!0,complete:()=>{rt||(this.restoreHistory(De),this.cancelNavigationTransition(De,"",2))}}))}),(0,Yt.b)(De=>{const rt=new Fs(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot);this.triggerEvent(rt)}))}),ua(X=>{const De=rt=>{const Lt=[];rt.routeConfig?.loadComponent&&!rt.routeConfig._loadedComponent&&Lt.push(this.configLoader.loadComponent(rt.routeConfig).pipe((0,Yt.b)(It=>{rt.component=It}),(0,de.U)(()=>{})));for(const It of rt.children)Lt.push(...De(It));return Lt};return(0,ce.a)(De(X.targetSnapshot.root)).pipe(Ke(),(0,le.q)(1))}),ua(()=>this.afterPreactivation()),(0,de.U)(X=>{const De=function eo(v,_,y){const D=Qr(v,_._root,y?y._root:void 0);return new wi(D,_)}(this.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return M={...X,targetRouterState:De}}),(0,Yt.b)(X=>{this.currentUrlTree=X.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),this.routerState=X.targetRouterState,"deferred"===this.urlUpdateStrategy&&(X.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,X),this.browserUrlTree=X.urlAfterRedirects)}),((v,_,y)=>(0,de.U)(D=>(new Fn(_,D.targetRouterState,D.currentRouterState,y).activate(v),D)))(this.rootContexts,this.routeReuseStrategy,X=>this.triggerEvent(X)),(0,Yt.b)({next(){F=!0},complete(){F=!0}}),En(()=>{F||K||this.cancelNavigationTransition(M,"",1),this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),wn(X=>{if(K=!0,ui(X)){Xi(X)||(this.navigated=!0,this.restoreHistory(M,!0));const De=new fr(M.id,this.serializeUrl(M.extractedUrl),X.message,X.cancellationCode);if(D.next(De),Xi(X)){const rt=this.urlHandlingStrategy.merge(X.url,this.rawUrlTree),Lt={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ga(M.source)};this.scheduleNavigation(rt,"imperative",null,Lt,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{this.restoreHistory(M,!0);const De=new Fo(M.id,this.serializeUrl(M.extractedUrl),X,M.targetSnapshot??void 0);D.next(De);try{M.resolve(this.errorHandler(X))}catch(rt){M.reject(rt)}}return _t.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const D="popstate"===y.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{const M={replaceUrl:!0},F=y.state?.navigationId?y.state:null;if(F){const X={...F};delete X.navigationId,delete X.\u0275routerPageId,0!==Object.keys(X).length&&(M.state=X)}const K=this.parseUrl(y.url);this.scheduleNavigation(K,D,F,M)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(no),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,D={}){const{relativeTo:M,queryParams:F,fragment:K,queryParamsHandling:X,preserveFragment:De}=D,rt=M||this.routerState.root,Lt=De?this.currentUrlTree.fragment:K;let It=null;switch(X){case"merge":It={...this.currentUrlTree.queryParams,...F};break;case"preserve":It=this.currentUrlTree.queryParams;break;default:It=F||null}return null!==It&&(It=this.removeEmptyProps(It)),qn(rt,this.currentUrlTree,y,It,Lt??null)}navigateByUrl(y,D={skipLocationChange:!1}){const M=gn(y)?y:this.parseUrl(y),F=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(F,"imperative",null,D)}navigate(y,D={skipLocationChange:!1}){return function Ua(v){for(let _=0;_<v.length;_++){if(null==v[_])throw new A.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,D),D)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let D;try{D=this.urlSerializer.parse(y)}catch(M){D=this.malformedUriErrorHandler(M,this.urlSerializer,y)}return D}isActive(y,D){let M;if(M=!0===D?{...oo}:!1===D?{...ha}:D,gn(y))return Bn(this.currentUrlTree,y,M);const F=this.parseUrl(y);return Bn(this.currentUrlTree,F,M)}removeEmptyProps(y){return Object.keys(y).reduce((D,M)=>{const F=y[M];return null!=F&&(D[M]=F),D},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new jr(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,D,M,F,K){if(this.disposed)return Promise.resolve(!1);let X,De,rt;K?(X=K.resolve,De=K.reject,rt=K.promise):rt=new Promise((bn,hi)=>{X=bn,De=hi});const Lt=++this.navigationId;let It;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(M=this.location.getState()),It=M&&M.\u0275routerPageId?M.\u0275routerPageId:F.replaceUrl||F.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):It=0,this.setTransition({id:Lt,targetPageId:It,source:D,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:F,resolve:X,reject:De,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(bn=>Promise.reject(bn))}setBrowserUrl(y,D){const M=this.urlSerializer.serialize(y),F={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.isCurrentPathEqualTo(M)||D.extras.replaceUrl?this.location.replaceState(M,"",F):this.location.go(M,"",F)}restoreHistory(y,D=!1){if("computed"===this.canceledNavigationResolution){const M=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===M?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===M&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(M)}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,D,M){const F=new fr(y.id,this.serializeUrl(y.extractedUrl),D,M);this.triggerEvent(F),y.resolve(!1)}generateNgRouterState(y,D){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:D}:{navigationId:y}}}return v.\u0275fac=function(y){A.$Z()},v.\u0275prov=A.Yz7({token:v,factory:function(){return pa()},providedIn:"root"}),v})();function ga(v){return"imperative"!==v}let Ai=(()=>{class v{constructor(y,D,M){this.router=y,this.route=D,this.locationStrategy=M,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new fe.x,this.subscription=y.events.subscribe(F=>{F instanceof jr&&this.updateTargetUrlAndHref()})}set preserveFragment(y){this._preserveFragment=(0,A.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,A.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,A.D6c)(y)}get replaceUrl(){return this._replaceUrl}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,D,M,F,K){return!!(0!==y||D||M||F||K||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(y){return new(y||v)(A.Y36(Tn),A.Y36(hs),A.Y36(qe.S$))},v.\u0275dir=A.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,D){1&y&&A.NdJ("click",function(F){return D.onClick(F.button,F.ctrlKey,F.shiftKey,F.altKey,F.metaKey)}),2&y&&A.uIk("target",D.target)("href",D.href,A.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[A.TTD]}),v})();class xi{}let Ws=(()=>{class v{constructor(y,D,M,F,K){this.router=y,this.injector=M,this.preloadingStrategy=F,this.loader=K}setUpPreloading(){this.subscription=this.router.events.pipe((0,we.h)(y=>y instanceof jr),Mt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,D){const M=[];for(const F of D){F.providers&&!F._injector&&(F._injector=(0,A.MMx)(F.providers,y,`Route: ${F.path}`));const K=F._injector??y,X=F._loadedInjector??K;F.loadChildren&&!F._loadedRoutes&&void 0===F.canLoad||F.loadComponent&&!F._loadedComponent?M.push(this.preloadConfig(K,F)):(F.children||F._loadedRoutes)&&M.push(this.processRoutes(X,F.children??F._loadedRoutes))}return(0,H.D)(M).pipe((0,Re.J)())}preloadConfig(y,D){return this.preloadingStrategy.preload(D,()=>{let M;M=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(y,D):(0,Y.of)(null);const F=M.pipe((0,ae.z)(K=>null===K?(0,Y.of)(void 0):(D._loadedRoutes=K.routes,D._loadedInjector=K.injector,this.processRoutes(K.injector??y,K.routes))));if(D.loadComponent&&!D._loadedComponent){const K=this.loader.loadComponent(D);return(0,H.D)([F,K]).pipe((0,Re.J)())}return F})}}return v.\u0275fac=function(y){return new(y||v)(A.LFG(Tn),A.LFG(A.Sil),A.LFG(A.lqb),A.LFG(xi),A.LFG(nt))},v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Di=new A.OlP("");let cu=(()=>{class v{constructor(y,D,M={}){this.router=y,this.viewportScroller=D,this.options=M,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},M.scrollPositionRestoration=M.scrollPositionRestoration||"disabled",M.anchorScrolling=M.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof jr&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof yo&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,D){this.router.triggerEvent(new yo(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(y){A.$Z()},v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac}),v})();function ys(v,_){return{\u0275kind:v,\u0275providers:_}}function vs(v){return[{provide:vr,multi:!0,useValue:v}]}function Ba(){const v=(0,A.f3M)(A.zs3);return _=>{const y=v.get(A.z2F);if(_!==y.components[0])return;const D=v.get(Tn),M=v.get(ji);1===v.get(Ao)&&D.initialNavigation(),v.get($a,null,A.XFs.Optional)?.setUpPreloading(),v.get(Di,null,A.XFs.Optional)?.init(),D.resetRootComponentType(y.componentTypes[0]),M.closed||(M.next(),M.unsubscribe())}}const ji=new A.OlP("",{factory:()=>new fe.x}),Ao=new A.OlP("",{providedIn:"root",factory:()=>1});const $a=new A.OlP("");function pl(v){return ys(0,[{provide:$a,useExisting:Ws},{provide:xi,useExisting:v}])}const qs=new A.OlP("ROUTER_FORROOT_GUARD"),Zn=[qe.Ye,{provide:st,useClass:Dt},{provide:Tn,useFactory:pa},Hr,{provide:hs,useFactory:function ao(v){return v.routerState.root},deps:[Tn]},nt];function ma(){return new A.PXZ("Router",Tn)}let ja=(()=>{class v{constructor(y){}static forRoot(y,D){return{ngModule:v,providers:[Zn,[],vs(y),{provide:qs,useFactory:ya,deps:[[Tn,new A.FiY,new A.tp0]]},{provide:mn,useValue:D||{}},D?.useHash?{provide:qe.S$,useClass:qe.Do}:{provide:qe.S$,useClass:qe.b0},{provide:Di,useFactory:()=>{const v=(0,A.f3M)(Tn),_=(0,A.f3M)(qe.EM),y=(0,A.f3M)(mn);return y.scrollOffset&&_.setOffset(y.scrollOffset),new cu(v,_,y)}},D?.preloadingStrategy?pl(D.preloadingStrategy).\u0275providers:[],{provide:A.PXZ,multi:!0,useFactory:ma},D?.initialNavigation?Zs(D):[],[{provide:Hn,useFactory:Ba},{provide:A.tb,multi:!0,useExisting:Hn}]]}}static forChild(y){return{ngModule:v,providers:[vs(y)]}}}return v.\u0275fac=function(y){return new(y||v)(A.LFG(qs,8))},v.\u0275mod=A.oAB({type:v}),v.\u0275inj=A.cJS({imports:[Bo]}),v})();function ya(v){return"guarded"}function Zs(v){return["disabled"===v.initialNavigation?ys(3,[{provide:A.ip1,multi:!0,useFactory:()=>{const _=(0,A.f3M)(Tn);return()=>{_.setUpLocationChangeListener()}}},{provide:Ao,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?ys(2,[{provide:Ao,useValue:0},{provide:A.ip1,multi:!0,deps:[A.zs3],useFactory:_=>{const y=_.get(qe.V_,Promise.resolve());let D=!1;return()=>y.then(()=>new Promise(F=>{const K=_.get(Tn),X=_.get(ji);(function M(F){_.get(Tn).events.pipe((0,we.h)(X=>X instanceof jr||X instanceof fr||X instanceof Fo),(0,de.U)(X=>X instanceof jr||X instanceof fr&&(0===X.code||1===X.code)&&null),(0,we.h)(X=>null!==X),(0,le.q)(1)).subscribe(()=>{F()})})(()=>{F(!0),D=!0}),K.afterPreactivation=()=>(F(!0),D||X.closed?(0,Y.of)(void 0):X),K.initialNavigation()}))}}]).\u0275providers:[]]}const Hn=new A.OlP("")},9681:(xt,Ne,$)=>{$.d(Ne,{C6:()=>Pr,Jn:()=>On,KN:()=>dr,Mq:()=>Rn,Xd:()=>sr,ZF:()=>Wi,qX:()=>Pn});var A=$(5861),H=$(4859),Y=$(1877),fe=$(2090),J=$(8766);class ve{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function Me(ht){return"VERSION"===ht.getComponent()?.type}(st)){const Dt=st.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(st=>st).join(" ")}}const ce="@firebase/app",q=new Y.Yd("@firebase/app"),cn="[DEFAULT]",Mt={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,wn=new Map;function yn(ht,Se){try{ht.container.addComponent(Se)}catch(st){q.debug(`Component ${Se.name} failed to register with FirebaseApp ${ht.name}`,st)}}function sr(ht){const Se=ht.name;if(wn.has(Se))return q.debug(`There were multiple attempts to register component ${Se}.`),!1;wn.set(Se,ht);for(const st of Yt.values())yn(st,ht);return!0}function Pn(ht,Se){const st=ht.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),ht.container.getProvider(Se)}const Mn=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zt{constructor(Se,st,Dt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const On="9.15.0";function Wi(ht,Se={}){let st=ht;"object"!=typeof Se&&(Se={name:Se});const Dt=Object.assign({name:cn,automaticDataCollectionEnabled:!1},Se),Kt=Dt.name;if("string"!=typeof Kt||!Kt)throw Mn.create("bad-app-name",{appName:String(Kt)});if(st||(st=(0,fe.aH)()),!st)throw Mn.create("no-options");const Xt=Yt.get(Kt);if(Xt){if((0,fe.vZ)(st,Xt.options)&&(0,fe.vZ)(Dt,Xt.config))return Xt;throw Mn.create("duplicate-app",{appName:Kt})}const ee=new H.H0(Kt);for(const oe of wn.values())ee.addComponent(oe);const Z=new zt(st,Dt,ee);return Yt.set(Kt,Z),Z}function Rn(ht=cn){const Se=Yt.get(ht);if(!Se&&ht===cn)return Wi();if(!Se)throw Mn.create("no-app",{appName:ht});return Se}function Pr(){return Array.from(Yt.values())}function dr(ht,Se,st){var Dt;let Kt=null!==(Dt=Mt[ht])&&void 0!==Dt?Dt:ht;st&&(Kt+=`-${st}`);const Xt=Kt.match(/\s|\//),ee=Se.match(/\s|\//);if(Xt||ee){const Z=[`Unable to register library "${Kt}" with version "${Se}":`];return Xt&&Z.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),Xt&&ee&&Z.push("and"),ee&&Z.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void q.warn(Z.join(" "))}sr(new H.wA(`${Kt}-version`,()=>({library:Kt,version:Se}),"VERSION"))}const Yn="firebase-heartbeat-store";let Or=null;function dt(){return Or||(Or=(0,J.X3)("firebase-heartbeat-database",1,{upgrade:(ht,Se)=>{0===Se&&ht.createObjectStore(Yn)}}).catch(ht=>{throw Mn.create("idb-open",{originalErrorMessage:ht.message})})),Or}function Ot(){return(Ot=(0,A.Z)(function*(ht){try{return(yield dt()).transaction(Yn).objectStore(Yn).get(Cn(ht))}catch(Se){if(Se instanceof fe.ZR)q.warn(Se.message);else{const st=Mn.create("idb-get",{originalErrorMessage:Se?.message});q.warn(st.message)}}})).apply(this,arguments)}function Bn(ht,Se){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,A.Z)(function*(ht,Se){try{const Dt=(yield dt()).transaction(Yn,"readwrite");return yield Dt.objectStore(Yn).put(Se,Cn(ht)),Dt.done}catch(st){if(st instanceof fe.ZR)q.warn(st.message);else{const Dt=Mn.create("idb-set",{originalErrorMessage:st?.message});q.warn(Dt.message)}}})).apply(this,arguments)}function Cn(ht){return`${ht.name}!${ht.options.appId}`}class Oi{constructor(Se){this.container=Se,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new tt(st),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var Se=this;return(0,A.Z)(function*(){const Dt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=An();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!Se._heartbeatsCache.heartbeats.some(Xt=>Xt.date===Kt))return Se._heartbeatsCache.heartbeats.push({date:Kt,agent:Dt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Xt=>{const ee=new Date(Xt.date).valueOf();return Date.now()-ee<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,A.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const st=An(),{heartbeatsToSend:Dt,unsentEntries:Kt}=function tr(ht,Se=1024){const st=[];let Dt=ht.slice();for(const Kt of ht){const Xt=st.find(ee=>ee.agent===Kt.agent);if(Xt){if(Xt.dates.push(Kt.date),$r(st)>Se){Xt.dates.pop();break}}else if(st.push({agent:Kt.agent,dates:[Kt.date]}),$r(st)>Se){st.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:st,unsentEntries:Dt}}(Se._heartbeatsCache.heartbeats),Xt=(0,fe.L)(JSON.stringify({version:2,heartbeats:Dt}));return Se._heartbeatsCache.lastSentHeartbeatDate=st,Kt.length>0?(Se._heartbeatsCache.heartbeats=Kt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Xt})()}}function An(){return(new Date).toISOString().substring(0,10)}class tt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,A.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,A.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Rt(ht){return Ot.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var st=this;return(0,A.Z)(function*(){var Dt;if(yield st._canUseIndexedDBPromise){const Xt=yield st.read();return Bn(st.app,{lastSentHeartbeatDate:null!==(Dt=Se.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Xt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var st=this;return(0,A.Z)(function*(){var Dt;if(yield st._canUseIndexedDBPromise){const Xt=yield st.read();return Bn(st.app,{lastSentHeartbeatDate:null!==(Dt=Se.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...Se.heartbeats]})}})()}}function $r(ht){return(0,fe.L)(JSON.stringify({version:2,heartbeats:ht})).length}!function Kr(ht){sr(new H.wA("platform-logger",Se=>new ve(Se),"PRIVATE")),sr(new H.wA("heartbeat",Se=>new Oi(Se),"PRIVATE")),dr(ce,"0.9.0",ht),dr(ce,"0.9.0","esm2017"),dr("fire-js","")}("")},4859:(xt,Ne,$)=>{$.d(Ne,{H0:()=>ce,wA:()=>Y});var A=$(5861),H=$(2090);class Y{constructor(q,ne,ge){this.name=q,this.instanceFactory=ne,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const fe="[DEFAULT]";class J{constructor(q,ne){this.name=q,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const ne=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(ne)){const ge=new H.BH;if(this.instancesDeferred.set(ne,ge),this.isInitialized(ne)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ne});$e&&ge.resolve($e)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(q){var ne;const ge=this.normalizeInstanceIdentifier(q?.identifier),$e=null!==(ne=q?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(Ae){if($e)return null;throw Ae}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Me(Re){return"EAGER"===Re.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[ne,ge]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ne);try{const Ae=this.getOrInitializeService({instanceIdentifier:$e});ge.resolve(Ae)}catch{}}}}clearInstance(q=fe){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,A.Z)(function*(){const ne=Array.from(q.instances.values());yield Promise.all([...ne.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...ne.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=fe){return this.instances.has(q)}getOptions(q=fe){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:ne={}}=q,ge=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ge,options:ne});for(const[Ae,ot]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(Ae)&&ot.resolve($e);return $e}onInit(q,ne){var ge;const $e=this.normalizeInstanceIdentifier(ne),Ae=null!==(ge=this.onInitCallbacks.get($e))&&void 0!==ge?ge:new Set;Ae.add(q),this.onInitCallbacks.set($e,Ae);const ot=this.instances.get($e);return ot&&q(ot,$e),()=>{Ae.delete(q)}}invokeOnInitCallbacks(q,ne){const ge=this.onInitCallbacks.get(ne);if(ge)for(const $e of ge)try{$e(q,ne)}catch{}}getOrInitializeService({instanceIdentifier:q,options:ne={}}){let ge=this.instances.get(q);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=q,Re===fe?void 0:Re),options:ne}),this.instances.set(q,ge),this.instancesOptions.set(q,ne),this.invokeOnInitCallbacks(ge,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ge)}catch{}var Re;return ge||null}normalizeInstanceIdentifier(q=fe){return this.component?this.component.multipleInstances?q:fe:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const ne=this.getProvider(q.name);if(ne.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);ne.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const ne=new J(q,this);return this.providers.set(q,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Ne,$)=>{$.d(Ne,{Yd:()=>Me,in:()=>H});const A=[];var H=(()=>{return(q=H||(H={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",H;var q})();const Y={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},fe=H.INFO,J={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ve=(q,ne,...ge)=>{if(ne<q.logLevel)return;const $e=(new Date).toISOString(),Ae=J[ne];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ae](`[${$e}]  ${q.name}:`,...ge)};class Me{constructor(ne){this.name=ne,this._logLevel=fe,this._logHandler=ve,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in H))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?Y[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...ne),this._logHandler(this,H.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...ne),this._logHandler(this,H.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,H.INFO,...ne),this._logHandler(this,H.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,H.WARN,...ne),this._logHandler(this,H.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...ne),this._logHandler(this,H.ERROR,...ne)}}},259:(xt,Ne,$)=>{$.d(Ne,{C6:()=>A.C6,KN:()=>A.KN,Mq:()=>A.Mq,ZF:()=>A.ZF});var A=$(9681);(0,A.KN)("firebase","9.15.0","app")},8766:(xt,Ne,$)=>{$.d(Ne,{Lj:()=>Fe,X3:()=>ct});var A=$(5861);let Y,fe;const Me=new WeakMap,ce=new WeakMap,Re=new WeakMap,q=new WeakMap,ne=new WeakMap;let Ae={get(de,Pe,le){if(de instanceof IDBTransaction){if("done"===Pe)return ce.get(de);if("objectStoreNames"===Pe)return de.objectStoreNames||Re.get(de);if("store"===Pe)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return mt(de[Pe])},set:(de,Pe,le)=>(de[Pe]=le,!0),has:(de,Pe)=>de instanceof IDBTransaction&&("done"===Pe||"store"===Pe)||Pe in de};function Et(de){return"function"==typeof de?function ft(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...Pe){return de.apply(_t(this),Pe),mt(Me.get(this))}:function(...Pe){return mt(de.apply(_t(this),Pe))}:function(Pe,...le){const Q=de.call(_t(this),Pe,...le);return Re.set(Q,Pe.sort?Pe.sort():[Pe]),mt(Q)}}(de):(de instanceof IDBTransaction&&function $e(de){if(ce.has(de))return;const Pe=new Promise((le,Q)=>{const we=()=>{de.removeEventListener("complete",ae),de.removeEventListener("error",Ke),de.removeEventListener("abort",Ke)},ae=()=>{le(),we()},Ke=()=>{Q(de.error||new DOMException("AbortError","AbortError")),we()};de.addEventListener("complete",ae),de.addEventListener("error",Ke),de.addEventListener("abort",Ke)});ce.set(de,Pe)}(de),((de,Pe)=>Pe.some(le=>de instanceof le))(de,function J(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Ae):de)}function mt(de){if(de instanceof IDBRequest)return function ge(de){const Pe=new Promise((le,Q)=>{const we=()=>{de.removeEventListener("success",ae),de.removeEventListener("error",Ke)},ae=()=>{le(mt(de.result)),we()},Ke=()=>{Q(de.error),we()};de.addEventListener("success",ae),de.addEventListener("error",Ke)});return Pe.then(le=>{le instanceof IDBCursor&&Me.set(le,de)}).catch(()=>{}),ne.set(Pe,de),Pe}(de);if(q.has(de))return q.get(de);const Pe=Et(de);return Pe!==de&&(q.set(de,Pe),ne.set(Pe,de)),Pe}const _t=de=>ne.get(de);function ct(de,Pe,{blocked:le,upgrade:Q,blocking:we,terminated:ae}={}){const Ke=indexedDB.open(de,Pe),He=mt(Ke);return Q&&Ke.addEventListener("upgradeneeded",Ct=>{Q(mt(Ke.result),Ct.oldVersion,Ct.newVersion,mt(Ke.transaction))}),le&&Ke.addEventListener("blocked",()=>le()),He.then(Ct=>{ae&&Ct.addEventListener("close",()=>ae()),we&&Ct.addEventListener("versionchange",()=>we())}).catch(()=>{}),He}function Fe(de,{blocked:Pe}={}){const le=indexedDB.deleteDatabase(de);return Pe&&le.addEventListener("blocked",()=>Pe()),mt(le).then(()=>{})}const je=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],it=new Map;function qe(de,Pe){if(!(de instanceof IDBDatabase)||Pe in de||"string"!=typeof Pe)return;if(it.get(Pe))return it.get(Pe);const le=Pe.replace(/FromIndex$/,""),Q=Pe!==le,we=be.includes(le);if(!(le in(Q?IDBIndex:IDBObjectStore).prototype)||!we&&!je.includes(le))return;const ae=function(){var Ke=(0,A.Z)(function*(He,...Ct){const qt=this.transaction(He,we?"readwrite":"readonly");let cn=qt.store;return Q&&(cn=cn.index(Ct.shift())),(yield Promise.all([cn[le](...Ct),we&&qt.done]))[0]});return function(Ct){return Ke.apply(this,arguments)}}();return it.set(Pe,ae),ae}!function ot(de){Ae=de(Ae)}(de=>({...de,get:(Pe,le,Q)=>qe(Pe,le)||de.get(Pe,le,Q),has:(Pe,le)=>!!qe(Pe,le)||de.has(Pe,le)}))},5861:(xt,Ne,$)=>{function A(Y,fe,J,ve,Me,ce,Re){try{var q=Y[ce](Re),ne=q.value}catch(ge){return void J(ge)}q.done?fe(ne):Promise.resolve(ne).then(ve,Me)}function H(Y){return function(){var fe=this,J=arguments;return new Promise(function(ve,Me){var ce=Y.apply(fe,J);function Re(ne){A(ce,ve,Me,Re,q,"next",ne)}function q(ne){A(ce,ve,Me,Re,q,"throw",ne)}Re(void 0)})}}$.d(Ne,{Z:()=>H})}},xt=>{xt(xt.s=3543)}]);